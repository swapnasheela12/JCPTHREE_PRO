<div class="h-100">
    <mat-card class="cia-module-card">

        <mat-toolbar color="mat-blue-grey" class="create-report-toolbar">
            <mat-toolbar-row class="mat-blue-grey">
                <div class="col pl-0">
                    <div class="header" *ngIf="Workorder == false">RET Change</div>
                    <div class="header" *ngIf="Workorder == true">Config Work Order</div>
                </div>
            </mat-toolbar-row>
        </mat-toolbar>
        <mat-divider></mat-divider>
        <mat-card-content class="cia-card-content">
            <mat-horizontal-stepper *ngIf="Workorder == false" #nodeCounterStepper [linear]="true" (selectionChange)="stepperChanged($event)">
                <mat-step label="Basic Details">
                    <div class="mt-3" style="height: calc(100% - 40px);">
                        <form [formGroup]="selectJcCircleLevelFormControl">
                            <div fxLayout="row wrap">
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Project Type" panelClass="selectMenuPanel" [(value)]="projectTypeSelected">
                                            <mat-option *ngFor="let projectType of projectTypeList" [value]="projectType.value">
                                                {{projectType.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="75">
                                    <mat-form-field class="p-0" fxFlex="100">
                                        <mat-label>Description <span class="px-1 zmdi zmdi-help-outline"></span>
                                        </mat-label>
                                        <textarea matInput placeholder="Description" required style="line-height: 7px !important"></textarea>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Network Element Type" panelClass="selectMenuPanel" [(value)]="riskAssessmentSelected">
                                            <mat-option *ngFor="let networkElementType of networkElementTypeList" [value]="networkElementType.value">
                                                {{networkElementType.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Vendor" panelClass="selectMenuPanel" [(value)]="vendorSelected">
                                            <mat-option *ngFor="let vendor of vendorList" [value]="vendor.value">
                                                {{vendor.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Version" panelClass="selectMenuPanel" [(value)]="versionSelected">
                                            <mat-option *ngFor="let version of versionList" [value]="version.value">
                                                {{version.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Impacted" panelClass="selectMenuPanel" [(value)]="impactedSelected">
                                            <mat-option *ngFor="let impacted of impactedList" [value]="impacted.value">
                                                {{impacted.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Urgency" panelClass="selectMenuPanel" [(value)]="urgencySelected">
                                            <mat-option *ngFor="let urgency of urgencyList" [value]="urgency.value">
                                                {{urgency.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Reason for Change" panelClass="selectMenuPanel" [(value)]="reasonForChangeSelected">
                                            <mat-option *ngFor="let reasonForChange  of reasonForChangeList" [value]="reasonForChange.value">
                                                {{reasonForChange.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <input matInput placeholder="Risk Impact Analysis" value="-" required>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <input matInput placeholder="Implementation Comments" value="-" required>
                                    </mat-form-field>
                                </div>
                                <!-- <div class="px-2" fxFlex="50" fxLayoutAlign="space-around center">
                                    <button class="next-button button" mat-raised-button color="primary">Add</button>
                                </div> -->
                            </div>
                        </form>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex" style="padding: 10px;">
                        <button class="next-button button" mat-raised-button color="primary" matStepperNext>Next</button>
                    </div>
                </mat-step>
                <mat-step label="Network Element">
                    <div fxLayout="column wrap" fxFlex="100" style="height: calc(100% - 25px);">
                        <div fxFlex="100">
                            <div class="p-2" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                <div class="px-2" fxFlex="40">
                                    <mat-form-field fxFlex="100" class="mt-2 browse-file-form-field">
                                        <input matInput class="input-field" placeholder="Upload SAP ID" [(ngModel)]="fileNameSAP" [readonly]="true" required>
                                        <button class="browse-button" (click)="onClick()" mat-icon-button color="primary" style="position: absolute;bottom: 0px;top: -2px;"><i
                                                class="ic ic-file"></i></button>
                                    </mat-form-field>
                                </div>
                                <div class="px-1" fxFlex="10">
                                    <button class="next-button button" mat-raised-button color="primary">Upload</button>
                                </div>
                                <div fxFlex="35"></div>
                                <input type="file" #fileUploadSAP id="fileUploadSAP" name="fileUploadSAP" accept="" style="display: none;" />
                            </div>
                        </div>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex">
                        <div class="py-2">
                            <button mat-stroked-button color="primary" class="buttonWidth" matStepperPrevious>Previous</button>
                        </div>
                        <div class="p-2">
                            <button class="next-button button" mat-raised-button color="primary" matStepperNext>Next</button>
                        </div>
                        <div class="col"></div>
                    </div>
                </mat-step>
                <mat-step label="Configuration">
                    <div style="height: calc(100% - 25px);overflow: auto;">
                        <!-- <div fxFlex="100"> -->


                        <!-- <div fxFlex="100"> -->
                        <div>
                            <div fxFlex="35">
                                <div style="color: rgba(0, 0, 0, 0.54);font-size: 14px;">Select NE Type
                                </div>

                                <div class="px-2" fxLayout="row wrap" fxLayoutAlign="start center">
                                    <div style="margin-left: -8px;">Sector Level</div>
                                    <div class="p-2">
                                        <mat-slide-toggle [(ngModel)]="selectNEType"></mat-slide-toggle>
                                    </div>
                                    <div>eNodeB Level</div>
                                </div>

                            </div>
                            <div fxFlex="35">
                                <div class="px-2 pt-3" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Select Category" panelClass="selectMenuPanel" [(value)]="vendorSelected">
                                            <mat-option *ngFor="let vendor of vendorList" [value]="vendor.value">
                                                {{vendor.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div fxFlex="30"></div>
                        </div>
                        <mat-divider></mat-divider>
                        <div>
                            <div fxFlex="100">
                                <div class="p-2" fxLayout="row wrap" fxLayoutAlign="start center">
                                    <div class="check-selection" style="margin-left: -8px;">
                                        <mat-checkbox class="example-margin">CLOT RET : Proposed RET
                                        </mat-checkbox>
                                        <mat-checkbox class="example-margin">
                                            Approved : Proposed RET</mat-checkbox>
                                    </div>
                                </div>

                            </div>
                        </div>
                        <mat-divider></mat-divider>
                        <!-- </div> -->

                        <!-- </div> -->

                        <div style="height: calc(100% - 138px);">
                            <app-table-ag-grid style="width: 100%;"></app-table-ag-grid>
                        </div>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex">
                        <div class="py-2">
                            <button mat-stroked-button color="primary" class="buttonWidth" matStepperPrevious>Previous</button>
                        </div>
                        <div class="p-2">
                            <button class="next-button button" mat-raised-button color="primary" matStepperNext>Next</button>
                        </div>
                        <div class="col"></div>
                    </div>
                </mat-step>
                <mat-step label="Schedule">
                    <div fxLayout="row wrap" fxFlex="100" style="height: calc(100% - 25px);">
                        <form class="w-100" [formGroup]="selectDurationFrequency" fxLayout="row wrap">
                            <div fxFlex="49">
                                <div fxLayout="row wrap">
                                    <div class="checkbox-group-label" fxFlex="100">Schedule Date & Time: *</div>
                                    <div fxFlex="70" class="py-2">
                                        <mat-form-field class="report-form-field" fxFlex="80">
                                            <div class="daterange-container w-100">
                                                <input matInput ngxDaterangepickerMd placeholder="Select Date & Time" [timePicker]="true" [timePickerSeconds]="true" [timePickerIncrement]="15" [timePicker24Hour]="false" formControlName="selectedDateTime" [showCustomRangeLabel]="true" [alwaysShowCalendars]="selectDurationFrequency.get('alwaysShowCalendars').value"
                                                    [ranges]="ranges" [showClearButton]="true" [showCancel]="true" [linkedCalendars]="false" [isTooltipDate]="isTooltipDate" [isInvalidDate]="isInvalidDate" [locale]="{ applyLabel: 'Ok', format: 'DD, MMM YYYY, h:mm A',clearLabel:'Clear'}"
                                                    [keepCalendarOpeningWithRange]="selectDurationFrequency.get('keepCalendarOpeningWithRange').value" [showRangeLabelOnInput]="selectDurationFrequency.get('showRangeLabelOnInput').value" (rangeClicked)="rangeClicked($event)"
                                                    (datesUpdated)="datesUpdated($event)" autocomplete="off" [opens]="opens" [drops]="drops" class="daterange-container-input" />
                                                <div class="iconCal"><i class="zmdi zmdi-calendar"></i></div>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="30" style="line-height: 4;" class="py-2">
                                        <mat-checkbox class="example-margin" (ngModelChange)="immediateTypeFunc($event);" [(ngModel)]="immediateType" [ngModelOptions]="{standalone: true}">Immediate</mat-checkbox>
                                    </div>
                                    <div class="checkbox-group-label" fxFlex="100">WO Expiry Date & Time:</div>
                                    <div fxFlex="70" class="py-2">
                                        <mat-form-field class="report-form-field" fxFlex="80">
                                            <div class="daterange-container w-100">
                                                <input matInput ngxDaterangepickerMd placeholder="Select Date & Time" [timePicker]="true" [timePickerSeconds]="true" [timePickerIncrement]="15" [timePicker24Hour]="false" formControlName="selectedDateTimeWoExpiry" [showCustomRangeLabel]="true" [alwaysShowCalendars]="selectDurationFrequency.get('alwaysShowCalendars').value"
                                                    [ranges]="ranges" [showClearButton]="true" [showCancel]="true" [linkedCalendars]="false" [isTooltipDate]="isTooltipDate" [isInvalidDate]="isInvalidDate" [locale]="{ applyLabel: 'Ok', format: 'DD, MMM YYYY, h:mm A',clearLabel:'Clear'}"
                                                    [keepCalendarOpeningWithRange]="selectDurationFrequency.get('keepCalendarOpeningWithRange').value" [showRangeLabelOnInput]="selectDurationFrequency.get('showRangeLabelOnInput').value" (rangeClicked)="rangeClicked($event)"
                                                    (datesUpdated)="datesUpdated($event)" autocomplete="off" [opens]="opens" [drops]="drops" class="daterange-container-input" />
                                                <div class="iconCal"><i class="zmdi zmdi-calendar"></i></div>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>

                            </div>
                            <mat-divider [vertical]="true"></mat-divider>
                            <div fxFlex="50" fxLayout="row wrap" class="">
                                <form [formGroup]="selectJcCircleLevelFormControl">
                                    <div fxLayout="row wrap">

                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Risk Assessment" panelClass="selectMenuPanel" [(value)]="riskAssessmentSelected">
                                                    <mat-option *ngFor="let riskAssessment of riskAssessmentList" [value]="riskAssessment.value">
                                                        {{riskAssessment.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering (click)="beforeOpen()" placeholder="Domain" panelClass="selectMenuPanel" [(value)]="domainSelected">
                                                    <mat-option *ngFor="let domain of domainList" [value]="domain.value">
                                                        {{domain.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering (click)="beforeOpen()" placeholder="Subdomain" panelClass="selectMenuPanel" [(value)]="subdomainSelected">
                                                    <mat-option *ngFor="let subdomain of subdomainList" [value]="subdomain.value">
                                                        {{subdomain.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering (click)="beforeOpen()" placeholder="Service" panelClass="selectMenuPanel" [(value)]="serviceSelected">
                                                    <mat-option *ngFor="let service of serviceList" [value]="service.value">
                                                        {{service.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                    </div>
                                </form>
                            </div>
                        </form>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex">
                        <div class="py-2">
                            <button mat-stroked-button color="primary" class="buttonWidth" matStepperPrevious>Previous</button>
                        </div>
                        <div class="p-2">
                            <button class="next-button button" (click)="showWorkorder()" mat-raised-button color="primary" matStepperNext>Create WO</button>
                        </div>
                        <div class="col"></div>
                    </div>
                </mat-step>

            </mat-horizontal-stepper>

            <div *ngIf="Workorder == true" style="height: calc(100% - 40px);overflow: auto;">
                <div class="px-3">
                    <form [formGroup]="selectJcCircleLevelFormControl">
                        <div fxLayout="row wrap">
                            <div class="p-2" fxFlex="25">
                                <div class="label">Template Type</div>
                                <div class="value">RET Change</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Workorder ID</div>
                                <div class="value">WO-RAN-E-KO-RET-07072017-0160863</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Project Type</div>
                                <div class="value">RET Change</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <mat-form-field class="p-0" fxFlex="100">
                                    <mat-label>Description <span class="px-1 zmdi zmdi-help-outline"></span>
                                    </mat-label>
                                    <textarea matInput placeholder="Description" required style="line-height: 7px !important"></textarea>
                                </mat-form-field>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="md-subhead">Schedule</div>
                                <div class="label">Date</div>
                                <div class="value">02-03-2016 </div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="pt-4">
                                    <div class="label">Time</div>
                                </div>
                                <div class="value">08:05 AM</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="md-subhead">Work Order Expiry</div>
                                <div class="label">Date</div>
                                <div class="value">03-03-2016</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="pt-4">
                                    <div class="label">Time</div>
                                </div>
                                <div class="value">08:05 AM</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Impact Area</div>
                                <div class="value">Mumbai</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Risk Assessment</div>
                                <div class="value">Low Risk</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Urgency</div>
                                <div class="value">Low</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Reason For Change</div>
                                <div class="value">Incident/Accidental Problem</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Requester ID</div>
                                <div class="value">Shaika.gayal@ril.com</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Domain</div>
                                <div class="value">RAN Operator</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Sub Domain</div>
                                <div class="value">eNB</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Service</div>
                                <div class="value">RANeNB</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Description</div>
                                <div class="value">RET Change</div>
                            </div>

                            <div class="p-2" fxFlex="25">
                                <div class="label">Risk Impact Analysis </div>
                                <div class="value">-</div>
                            </div>
                            <div class="p-2" fxFlex="25">
                                <div class="label">Implementation Comments</div>
                                <div class="value">-</div>
                            </div>
                        </div>
                    </form>
                </div>
                <mat-divider></mat-divider>
                <div style="height: 100%">
                    <!-- <app-table-ag-grid style="width: 100%;"></app-table-ag-grid> -->
                    <ag-grid-angular style="width: 100%; height: 100%;" class="ag-theme-material ag-jcp3" rowHeight="48" headerHeight="48" [gridOptions]="gridOptions" [columnDefs]="columnDefs" [rowData]="rowData" enableSorting enableFilter [suppressCellSelection]="true"
                        toolPanelSuppressGroups toolPanelSuppressValues rowSelection="multiple" [enableRangeSelection]="true" [suppressHorizontalScroll]="false" [debug]="true" (gridReady)="onReady($event)">
                    </ag-grid-angular>
                </div>

            </div>
            <mat-divider *ngIf="Workorder == true"></mat-divider>
            <div class="px-3 d-flex" *ngIf="Workorder == true">
                <div class="py-2">
                    <button mat-stroked-button color="primary" class="buttonWidth">Previous</button>
                </div>
                <div class="p-2">
                    <button class="next-button button" (click)="showWorkorder()" mat-raised-button color="primary">Submit</button>
                </div>
                <div class="col"></div>
            </div>
        </mat-card-content>
    </mat-card>
</div>