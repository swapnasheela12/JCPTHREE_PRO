<div class="h-100">
    <mat-card class="ret-module-card">

        <mat-card-content class="ret-card-content">
            <mat-horizontal-stepper *ngIf="Workorder == false" #nodeCounterStepper [linear]="true"
                (selectionChange)="stepperChanged($event)">
                <mat-step label="Basic Details">
                    <div class="mt-3" style="height: calc(100% - 40px); margin: 0 10px;">
                        <form [formGroup]="selectJcCircleLevelFormControl">
                            <div fxLayout="row wrap">
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Project Type" panelClass="selectMenuPanel" [(value)]="projectTypeSelected">
                                            <mat-option *ngFor="let projectType of projectTypeList" [value]="projectType.value">
                                                {{projectType.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="75">
                                    <mat-form-field class="p-0" fxFlex="100">
                                        <mat-label>Description <span class="px-1 zmdi zmdi-help-outline"></span>
                                        </mat-label>
                                        <textarea matInput placeholder="Description" required style="line-height: 7px !important"></textarea>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Network Element Type" panelClass="selectMenuPanel" [(value)]="riskAssessmentSelected">
                                            <mat-option *ngFor="let networkElementType of networkElementTypeList" [value]="networkElementType.value">
                                                {{networkElementType.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Vendor" panelClass="selectMenuPanel" [(value)]="vendorSelected">
                                            <mat-option *ngFor="let vendor of vendorList" [value]="vendor.value">
                                                {{vendor.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Version" panelClass="selectMenuPanel" [(value)]="versionSelected">
                                            <mat-option *ngFor="let version of versionList" [value]="version.value">
                                                {{version.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Impacted" panelClass="selectMenuPanel" [(value)]="impactedSelected">
                                            <mat-option *ngFor="let impacted of impactedList" [value]="impacted.value">
                                                {{impacted.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Urgency" panelClass="selectMenuPanel" [(value)]="urgencySelected">
                                            <mat-option *ngFor="let urgency of urgencyList" [value]="urgency.value">
                                                {{urgency.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Reason for Change" panelClass="selectMenuPanel" [(value)]="reasonForChangeSelected">
                                            <mat-option *ngFor="let reasonForChange  of reasonForChangeList" [value]="reasonForChange.value">
                                                {{reasonForChange.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <input matInput placeholder="Risk Impact Analysis" value="-" required>
                                    </mat-form-field>
                                </div>
                                <div class="px-space-3 " fxFlex="25">
                                    <mat-form-field fxFlex="100">
                                        <input matInput placeholder="Implementation Comments" value="-" required>
                                    </mat-form-field>
                                </div>
                                <!-- <div class="px-2" fxFlex="50" fxLayoutAlign="space-around center">
                                    <button class="next-button button" mat-raised-button color="primary">Add</button>
                                </div> -->
                            </div>
                        </form>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex" style="padding: 10px 0;">
                        <button class="next-button button footer-margin" mat-raised-button color="primary"
                            matStepperNext>Next</button>
                    </div>
                </mat-step>
                <mat-step label="Network Element" class="network-element">
                    <div fxLayout="column wrap" fxFlex="100" style="height: calc(100% - 25px); margin: 0 10px;">
                        <div fxFlex="100">
                            <div class="p-2" fxLayout="row wrap">
                                <div class="px-2" fxFlex="40">
                                    <mat-form-field fxFlex="100" class="mt-2 browse-file-form-field">
                                        <input matInput class="input-field" placeholder="Upload SAP ID"
                                            [(ngModel)]="fileNameSAP" [readonly]="true" required>
                                        <button class="browse-button upload-btn" (click)="onClick()" mat-icon-button
                                            color="primary" style="position: absolute;bottom: 0px;top: -2px; font-size: 24px;"><i
                                                class="ic ic-file"></i></button>
                                    </mat-form-field>
                                </div>
                                <div class="py-3" fxFlex="10" style="margin-left: 20px;">
                                    <button class="next-button p-0" mat-button color="primary">
                                        <i style="font-size: 14px;" class="ic ic-upload4 file-icon pr-2">
                                        </i>
                                        <span>Upload</span>
                                      </button>
                                      <input type="file" #fileUploadSAP id="fileUploadSAP" name="fileUploadSAP" accept=""
                                      style="display: none;" />
                                    </div>
                                
                            </div>
                        </div>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex">
                        <div class="py-2 footer-margin">
                            <button mat-stroked-button color="primary" class="buttonWidth"
                                matStepperPrevious>Previous</button>
                        </div>
                        <div class="p-2">
                            <button class="next-button button" mat-raised-button color="primary" matStepperNext>Next</button>
                        </div>
                        <div class="col"></div>
                    </div>
                </mat-step>
                <mat-step label="Configuration">
                    <div style="height: calc(100% - 24px);overflow: auto;">

                        <div style="margin: 0 25px;">
                            <div fxFlex="25">
                                <div style="color: rgba(0, 0, 0);font-size: 14px; font-family: lato bold;">Select NE Type
                                </div>

                                <div class="px-2" fxLayout="row wrap" fxLayoutAlign="start center">
                                    <div style="margin-left: -8px; color: rgba(0, 0, 0, 0.55)">Sector Level</div>
                                    <div class="p-2">
                                        <mat-slide-toggle [(ngModel)]="selectNEType"></mat-slide-toggle>
                                    </div>
                                    <div style="color: rgba(0, 0, 0, 0.55);">eNodeB Level</div>
                                </div>

                            </div>
                            <div fxFlex="25">
                                <div class="px-2 pt-3" fxLayout="row wrap" fxLayoutAlign="space-between center">
                                    <mat-form-field fxFlex="100">
                                        <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Select Category" panelClass="selectMenuPanel" [(value)]="vendorSelected">
                                            <mat-option *ngFor="let vendor of vendorList" [value]="vendor.value">
                                                {{vendor.viewValue}}
                                            </mat-option>
                                        </mat-select>
                                    </mat-form-field>
                                </div>
                            </div>
                            <div fxFlex="50">
                                <div class="p-2" fxLayout="row wrap" fxLayoutAlign="start center">
                                    <div class="check-selection" style="margin-left: -8px;">
                                        <mat-checkbox class="">CLOT RET : Proposed RET
                                        </mat-checkbox>
                                        <mat-checkbox style="margin-left: 20px;">
                                            Approved : Proposed RET</mat-checkbox>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- <div>
                            <div fxFlex="100" style="margin: 0 20px;">
                                <div class="p-2" fxLayout="row wrap" fxLayoutAlign="start center">
                                    <div class="check-selection" style="margin-left: -8px;">
                                        <mat-checkbox class="">CLOT RET : Proposed RET
                                        </mat-checkbox>
                                        <mat-checkbox style="margin-left: 20px;">
                                            Approved : Proposed RET</mat-checkbox>
                                    </div>
                                </div>

                            </div>
                        </div> -->

                        <div style="height: 56vh">
                            <app-table-ag-grid></app-table-ag-grid>
                        </div>
                    </div>
                    <mat-divider></mat-divider>
                    <div class="d-flex">
                        <div class="py-2 footer-margin">
                            <button mat-stroked-button color="primary" class="buttonWidth"
                                matStepperPrevious>Previous</button>
                        </div>
                        <div class="p-2">
                            <button class="next-button button" mat-raised-button color="primary" matStepperNext>Next</button>
                        </div>
                        <div class="col"></div>
                    </div>
                </mat-step>
                <mat-step label="Schedule">
                    <div fxLayout="row wrap" fxFlex="100" style="height: calc(100% - 25px); margin: 0 20px;">
                        <form class="w-100" [formGroup]="selectDurationFrequency" fxLayout="row wrap" style="border: 1px solid rgba(0, 0, 0, 0.12);padding: 0px 10px 0 20px;">
                            <div fxFlex="49" style="padding: 20px 0">
                                <div fxLayout="row wrap">
                                    <div class="checkbox-group-label" fxFlex="100">Schedule Date & Time: *</div>
                                    <div fxFlex="70" class="py-2">
                                        <mat-form-field class="report-form-field" fxFlex="80">
                                            <div class="daterange-container w-100">
                                                <input matInput ngxDaterangepickerMd placeholder="Select Date & Time" [timePicker]="true" [timePickerSeconds]="true" [timePickerIncrement]="15" [timePicker24Hour]="false" formControlName="selectedDateTime" [showCustomRangeLabel]="true" [alwaysShowCalendars]="selectDurationFrequency.get('alwaysShowCalendars').value"
                                                    [ranges]="ranges" [showClearButton]="true" [showCancel]="true" [linkedCalendars]="false" [isTooltipDate]="isTooltipDate" [isInvalidDate]="isInvalidDate" [locale]="{ applyLabel: 'Ok', format: 'DD, MMM YYYY, h:mm A',clearLabel:'Clear'}"
                                                    [keepCalendarOpeningWithRange]="selectDurationFrequency.get('keepCalendarOpeningWithRange').value" [showRangeLabelOnInput]="selectDurationFrequency.get('showRangeLabelOnInput').value" (rangeClicked)="rangeClicked($event)"
                                                    (datesUpdated)="datesUpdated($event)" autocomplete="off" [opens]="opens" [drops]="drops" class="daterange-container-input" />
                                                <div class="iconCal"><i class="zmdi zmdi-calendar"></i></div>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex="30" style="line-height: 4;" class="py-2">
                                        <mat-checkbox class="example-margin" (ngModelChange)="immediateTypeFunc($event);" [(ngModel)]="immediateType" [ngModelOptions]="{standalone: true}">Immediate</mat-checkbox>
                                    </div>
                                    <div class="checkbox-group-label" fxFlex="100">WO Expiry Date & Time:</div>
                                    <div fxFlex="70" class="py-2">
                                        <mat-form-field class="report-form-field" fxFlex="80">
                                            <div class="daterange-container w-100">
                                                <input matInput ngxDaterangepickerMd placeholder="Select Date & Time" [timePicker]="true" [timePickerSeconds]="true" [timePickerIncrement]="15" [timePicker24Hour]="false" formControlName="selectedDateTimeWoExpiry" [showCustomRangeLabel]="true" [alwaysShowCalendars]="selectDurationFrequency.get('alwaysShowCalendars').value"
                                                    [ranges]="ranges" [showClearButton]="true" [showCancel]="true" [linkedCalendars]="false" [isTooltipDate]="isTooltipDate" [isInvalidDate]="isInvalidDate" [locale]="{ applyLabel: 'Ok', format: 'DD, MMM YYYY, h:mm A',clearLabel:'Clear'}"
                                                    [keepCalendarOpeningWithRange]="selectDurationFrequency.get('keepCalendarOpeningWithRange').value" [showRangeLabelOnInput]="selectDurationFrequency.get('showRangeLabelOnInput').value" (rangeClicked)="rangeClicked($event)"
                                                    (datesUpdated)="datesUpdated($event)" autocomplete="off" [opens]="opens" [drops]="drops" class="daterange-container-input" />
                                                <div class="iconCal"><i class="zmdi zmdi-calendar"></i></div>
                                            </div>
                                        </mat-form-field>
                                    </div>
                                </div>

                            </div>
                            <mat-divider [vertical]="true"></mat-divider>
                            <div fxFlex="50" fxLayout="row wrap" style="padding: 10px 0">
                                <form [formGroup]="selectJcCircleLevelFormControl" style="padding-left: 10px;">
                                    <div fxLayout="row wrap" style="margin-top: 21px">

                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering required (click)="beforeOpen()" placeholder="Risk Assessment" panelClass="selectMenuPanel" [(value)]="riskAssessmentSelected">
                                                    <mat-option *ngFor="let riskAssessment of riskAssessmentList" [value]="riskAssessment.value">
                                                        {{riskAssessment.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering (click)="beforeOpen()" placeholder="Domain" panelClass="selectMenuPanel" [(value)]="domainSelected">
                                                    <mat-option *ngFor="let domain of domainList" [value]="domain.value">
                                                        {{domain.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering (click)="beforeOpen()" placeholder="Subdomain" panelClass="selectMenuPanel" [(value)]="subdomainSelected">
                                                    <mat-option *ngFor="let subdomain of subdomainList" [value]="subdomain.value">
                                                        {{subdomain.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>
                                        <div class="p-2" fxFlex="50">
                                            <mat-form-field fxFlex="100">
                                                <mat-select disableOptionCentering (click)="beforeOpen()" placeholder="Service" panelClass="selectMenuPanel" [(value)]="serviceSelected">
                                                    <mat-option *ngFor="let service of serviceList" [value]="service.value">
                                                        {{service.viewValue}}
                                                    </mat-option>
                                                </mat-select>
                                            </mat-form-field>
                                        </div>

                                    </div>
                                </form>
                            </div>
                        </form>
                    </div>
                   
                    <div class="d-flex">
                        <div class="py-2 footer-margin">
                            <button mat-stroked-button color="primary" class="buttonWidth"
                                matStepperPrevious>Previous</button>
                        </div>
                        <div class="p-2">
                            <button class="next-button button" mat-raised-button color="primary" matStepperNext>Next</button>
                        </div>
                        <div class="col"></div>
                    </div>
                </mat-step>
                <mat-step label="Summary">
                    <div style="height: calc(100% - 24px);overflow: auto;">
                        <div>
                            <div fxLayout="row wrap" style="margin: 0 25px;">
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Template Type</div>
                                    <div class="value">RET Change</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Workorder ID</div>
                                    <div class="value elipses-val" matTooltip="WO-RAN-E-KO-RET-07072017-0160863" matTooltipPosition="after">WO-RAN-E-KO-RET-07072017-0160863</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Project Type</div>
                                    <div class="value">RET Change</div>
                                </div>
                                <div class="p-2" fxFlex="100">
                                    <mat-form-field class="p-0" fxFlex="100">
                                        <mat-label>Description <span class="px-1 zmdi zmdi-help-outline"></span>
                                        </mat-label>
                                        <textarea matInput placeholder="Description" required></textarea>
                                    </mat-form-field>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="md-subhead">Schedule</div>
                                    <div class="label">Date</div>
                                    <div class="value">02-03-2016 </div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="pt-4" sty>
                                        <div class="label">Time</div>
                                    </div>
                                    <div class="value">08:05 AM</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="md-subhead">Work Order Expiry</div>
                                    <div class="label">Date</div>
                                    <div class="value">03-03-2016</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="pt-4">
                                        <div class="label">Time</div>
                                    </div>
                                    <div class="value">08:05 AM</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Impact Area</div>
                                    <div class="value">Mumbai</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Risk Assessment</div>
                                    <div class="value">Low Risk</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Urgency</div>
                                    <div class="value">Low</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Reason For Change</div>
                                    <div class="value">Incident/Accidental Problem</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Requester ID</div>
                                    <div class="value">Shaika.gayal@ril.com</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Domain</div>
                                    <div class="value">RAN Operator</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Sub Domain</div>
                                    <div class="value">eNB</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Service</div>
                                    <div class="value">RANeNB</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Description</div>
                                    <div class="value">RET Change</div>
                                </div>

                                <div class="p-2" fxFlex="25">
                                    <div class="label">Risk Impact Analysis </div>
                                    <div class="value">-</div>
                                </div>
                                <div class="p-2" fxFlex="25">
                                    <div class="label">Implementation Comments</div>
                                    <div class="value">-</div>
                                </div>
                                <div class="p-2" fxFlex="100">
                                    <div fxFlex="25">
                                        <mat-form-field class="example-form-field">
                                            <mat-label>Filter</mat-label>
                                            <input matInput type="text" [(ngModel)]="filtervalue">
                                            <button mat-button *ngIf="filtervalue" matSuffix mat-icon-button aria-label="Clear" (click)="filtervalue=''">
                                                <mat-icon>close</mat-icon>
                                            </button>
                                        </mat-form-field>
                                    </div>
                                    <div fxFlex></div>
                                    <div fxFlex="5">
                                        <div class="icon-button" style="padding: 12px 15px; font-size: 18px; color: #727375;">
                                            <div class="zmdi zmdi-book"></div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                        <div style="height: 100%">
                            <ag-grid-angular style="width: 100%; height: 56vh;"
                                class="ag-theme-material ag-jcp3 ret-change" rowHeight="48" headerHeight="48"
                                [gridOptions]="gridOptions" [columnDefs]="columnDefs" [rowData]="rowData" enableSorting
                                enableFilter [suppressCellSelection]="true" toolPanelSuppressGroups
                                toolPanelSuppressValues rowSelection="multiple" [enableRangeSelection]="true"
                                [suppressHorizontalScroll]="false" [debug]="true" (gridReady)="onReady($event)">
                            </ag-grid-angular>
                        </div>

                        <div style="height: 10%"> </div>

                    </div>

                    <mat-divider></mat-divider>

                    <div class="d-flex">
                        <div class="py-2 footer-margin">
                            <button mat-stroked-button color="primary" class="buttonWidth"
                                matStepperPrevious>Previous</button>
                        </div>
                        
                        <div class="col"></div>
                    </div>

                </mat-step>
            </mat-horizontal-stepper>
        </mat-card-content>
    </mat-card>

    <div class="d-flex p-2">
        <div class="p-2 mr-auto"></div>
        <div class="p-2">
          <button mat-stroked-button color="primary" class="buttonWidth">Cancel</button>
        </div>
        <div class="p-2">
          <button mat-raised-button color="primary" [disabled]="generateDisabled"
            class="buttonWidth button">Submit</button>
        </div>

      </div>
</div>