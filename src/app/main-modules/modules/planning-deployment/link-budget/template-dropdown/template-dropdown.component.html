<div class="template-gallery-icon">
  <div class="ic ic-dots sizeOfIcon"></div>
  <div class="ic ic-legends-01 sizeOfIcon" [matMenuTriggerFor]="linkBudget" #trigger="matMenuTrigger"></div>
  <mat-menu #linkBudget="matMenu" class="link-budget-dropdown arrow-top" [hasBackdrop]="false">
    <div (click)="$event.stopPropagation()" (keydown)="$event.stopPropagation()">
      <form [formGroup]="templateGalleryForm" (ngSubmit)="submit()">
        <h4>Template Gallery</h4>
        <span class="zmdi zmdi-close" (click)="trigger.closeMenu()"></span>
        <input
          type="text"
          matInput
          [formControl]="templateGallerySearch"
          placeholder="Search..."
        >
        <div *ngFor="let item of templateGalleryFilter | async ; let i=index" formArrayName="templateGalleryArray">
          <mat-checkbox [formControlName]="i" [disableRipple]="true">
          {{item.name}}
          </mat-checkbox>
        </div>
        <div>
            At least one checkbox is required to check
        </div>
        <button (click)="trigger.closeMenu()">Apply</button>
      </form>
    <!-- <form [formGroup]="templateGalleryForm" (ngSubmit)="submit()">
      <h4>Template Gallery</h4>
      <span class="zmdi zmdi-close" (click)="trigger.closeMenu()"></span>
      <input
        type="text"
        matInput
        [formControl]="templateGallerySearch"
        placeholder="Search..."
      >
      <div *ngFor="let item of templateGalleryFilter | async ; let i=index" formArrayName="checkboxes">
        <mat-checkbox [formControlName]="item.name">
        {{item.name}}
        </mat-checkbox>
      </div>
      <button [disabled]="!templateGalleryForm.valid" (click)="trigger.closeMenu()">Apply</button>
    </form> -->
    </div>
  </mat-menu>
  <div class="ic ic-filter-01 sizeOfIcon"></div>
</div>