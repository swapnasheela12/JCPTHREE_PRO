<div class="wo-sector-container">
    <div>
        <mat-card class="wo-sector-card-one p-0">
            <div class="d-flex  flex-row justify-content-between align-items-center full-height wo-header">
                <mat-icon class="icon-button mx-2" style="color: #7E7E7E;" aria-label="search">
                    <span class="zmdi zmdi-arrow-left"></span>
                </mat-icon>
                <div class="col wo-flex-item" style="padding-left: 0px;">
                    <div style="color: black">I-MU-MUMB-ENB-4505</div>
                </div>

                <mat-icon class="icon-button" aria-label="search">
                    <span class="zmdi zmdi-search"></span>
                </mat-icon>
            </div>
            <mat-divider></mat-divider>

            <mat-card-content class="wo-container">
                <div class="d-flex mx-2 flex-row flex-wrap wo-flex-container h-100">

                    <div class="p-2 wo-flex-item mediaContainer" style="width: 33%;"
                        *ngFor="let wo of woHeader;trackBy: trackHero">
                        <div class="wo-form-field-read">
                            <div class="wo-form-input-title">{{wo.label}}</div>
                            <div class="wo-form-input-value">{{wo.value}}</div>
                        </div>
                    </div>
                </div>
            </mat-card-content>
        </mat-card>


        <div class="flex-row flex-wrap w-100" style="position: relative; bottom: 9px;">

            <div class="wrapper-progressBar" style="height: 75px;">
                <ul class="progressBar">
                    <li class="active ic ic-checkmark"><span>Nominal Finalisation</span> </li>
                    <li class="active"><span>Plan - RFA</span></li>
                    <li class="active"><span>RFA - RFC</span></li>
                    <li class="active"><span>RFC - RFI</span></li>
                    <li class="inprogress"><span>RFI - RFE1</span></li>
                    <li class="inprogress"><span>RFI - RFE2</span></li>
                    <li class=""><span>RFE2 - RFR</span></li>
                    <li class=""><span>ATP 11A & WCC1</span></li>
                    <li><span>ATP 11B, CVT, WCC2 & HOTO</span></li>
                </ul>
            </div>



            <div class="td-tab-details p-0" style="background: white; height: 45vh;">

                <div class="td-tabs h-100">

                    <mat-tab-group class="td-tab-group h-100">
                        <mat-tab label="Site Status">
                            <ng-container [ngTemplateOutlet]="myTask"></ng-container>
                        </mat-tab>


                        <mat-tab label="Photos">
                            <ng-container [ngTemplateOutlet]="photos"></ng-container>
                        </mat-tab>

                        <mat-tab label="Documents">
                            <ng-container [ngTemplateOutlet]="documents"></ng-container>
                        </mat-tab>


                        <mat-tab label="Digital Forms">
                            <ng-container [ngTemplateOutlet]="digitalForm"></ng-container>
                        </mat-tab>
                    </mat-tab-group>
                </div>
            </div>
        </div>




        <!-- <mat-card class="execution-task-container-one p-0"> -->
        <!-- </mat-card> -->
    </div>
</div>

<ng-template #myTask>
    <div class="jcp-table-container" style="height: 100%;">
        <ag-grid-angular (gridReady)="onGridReady($event)" class="ag-theme-material table-view-zoom-ag-grid"
            style="width: 100%; height: 37vh;" rowHeight="48" headerHeight="48" [gridOptions]="gridOptions"
            [columnDefs]="columnDefs" [rowData]="rowData" enableColResize enableSorting enableFilter groupHeaders
            [suppressCellSelection]="true" toolPanelSuppressGroups toolPanelSuppressValues rowSelection="multiple"
            [suppressRowClickSelection]="true" [debug]="true" [enableRangeSelection]="true" [pagination]="false"
            [paginationAutoPageSize]="false" [frameworkComponents]="frameworkComponentsTaskDetails"
            (cellClicked)='onCellClicked($event)'>
        </ag-grid-angular>
    </div>
</ng-template>


<ng-template #photos>
    <div class="flex-row flex-wrap w-100 left-pane">
        <div class="images" style="height: 336px;" fxFlex="50">
            <carousel class="left-carousel">
                <slide class="slide" *ngFor="let product of sitesimages">
                    <img [src]="product.imageurl" alt="first slide" style="display: block; width: 100%;">
                </slide>
            </carousel>
        </div>

        <div fxFlex="50">
            <mat-accordion>
                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            RFI-RFE1
                        </mat-panel-title>

                    </mat-expansion-panel-header>
                    <div class="flex-row flex-wrap w-100">
                        <div fxFlex="40" style="background: #F2F2F5">
                            <div style="height: 25px; background: white; margin: 10px;">
                                <mat-icon class="photo-icon mx-2" fxFlex="20" style="color: #7E7E7E;"
                                    aria-label="search">
                                    <span class="ic ic-files-empty"></span>
                                </mat-icon>
                                <div fxFlex="80" class="photo-label">GNodeB Integration Completed</div>
                            </div>

                            <div style="height: 25px; background: white; margin: 10px;">
                                <mat-icon class="photo-icon mx-2" fxFlex="20" style="color: #7E7E7E;"
                                    aria-label="search">
                                    <span class="ic ic-files-empty"></span>
                                </mat-icon>
                                <div fxFlex="80" class="photo-label">GNodeB Integration Completed</div>

                            </div>

                            <div style="height: 25px; background: white; margin: 10px;">
                                <mat-icon class="photo-icon mx-2" fxFlex="20" style="color: #7E7E7E;"
                                    aria-label="search">
                                    <span class="ic ic-files-empty"></span>
                                </mat-icon>
                                <div fxFlex="80" class="photo-label">GNodeB Integration Completed</div>

                            </div>
                        </div>

                        <div fxFlex="60">
                            <div *ngFor="let product of sitesimages" class="showImage">
                                <img [src]="product.imageurl" class="showImg">
                            </div>
                        </div>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            RF2-RFR
                        </mat-panel-title>
                        <!-- <mat-panel-description>
                            Currently I am {{panelOpenState ? 'open' : 'closed'}}
                        </mat-panel-description> -->
                    </mat-expansion-panel-header>
                    <div class="flex-row flex-wrap w-100">
                        <div fxFlex="50">

                        </div>

                        <div fxFlex="50">

                        </div>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            ATP 11A & WCC1
                        </mat-panel-title>
                        <!-- <mat-panel-description>
                            Currently I am {{panelOpenState ? 'open' : 'closed'}}
                        </mat-panel-description> -->
                    </mat-expansion-panel-header>
                    <div class="flex-row flex-wrap w-100">
                        <div fxFlex="50">

                        </div>

                        <div fxFlex="50">

                        </div>
                    </div>
                </mat-expansion-panel>

                <mat-expansion-panel (opened)="panelOpenState = true" (closed)="panelOpenState = false">
                    <mat-expansion-panel-header>
                        <mat-panel-title>
                            ATP 11B, C T, WCC2 & HOTO
                        </mat-panel-title>
                        <!-- <mat-panel-description>
                            Currently I am {{panelOpenState ? 'open' : 'closed'}}
                        </mat-panel-description> -->
                    </mat-expansion-panel-header>
                    <div class="flex-row flex-wrap w-100">
                        <div fxFlex="50">

                        </div>

                        <div fxFlex="50">

                        </div>
                    </div>
                </mat-expansion-panel>
            </mat-accordion>

        </div>
    </div>

</ng-template>

<ng-template #documents>
    <mat-card *ngFor="let download of downloads" class="document-list">
        <div>
            <mat-icon class="mx-2 file-img" fxFlex="5" style="color: #1278D7;" aria-label="search">
                <span class="ic ic-files-empty"></span>
            </mat-icon>
            <div fxFlex="20" class="doc-type">{{download.docType}}</div>
            <div fxFlex="70" class="doc-status">{{download.docType}}</div>
        </div>
    </mat-card>
</ng-template>

<ng-template #digitalForm>
    <!-- <mat-card *ngFor="let download of downloads" class="document-list">
        <div>
            <mat-icon class="mx-2 file-img" fxFlex="5" style="color: #1278D7;" aria-label="search">
                <span class="ic ic-files-empty"></span>
            </mat-icon>
            <div fxFlex="20" class="doc-type">{{download.milestone}}</div>
            <div fxFlex="70" class="doc-status">{{download.task}}</div>
            <div fxFlex="70" class="doc-status">{{download.formName}}</div>
            <div fxFlex="70" class="doc-status">{{download.formOwner}}</div>
        </div>
    </mat-card> -->

    <div class="jcp-table-container" style="height: 100%;">
        <ag-grid-angular (gridReady)="onGridReady($event)" class="ag-theme-material table-view-zoom-ag-grid"
            style="width: 100%; height: 310px;" rowHeight="48" headerHeight="48" [gridOptions]="gridOptions"
            [columnDefs]="digitalFormColDefs" [rowData]="digitalForms" enableColResize enableSorting enableFilter
            groupHeaders [suppressCellSelection]="true" toolPanelSuppressGroups toolPanelSuppressValues
            rowSelection="multiple" [suppressRowClickSelection]="true" [debug]="true" [enableRangeSelection]="true"
            [pagination]="false" [paginationAutoPageSize]="false" [frameworkComponents]="frameworkComponentsTaskDetails"
            (cellClicked)='onCellClicked($event)'>
        </ag-grid-angular>
    </div>
</ng-template>