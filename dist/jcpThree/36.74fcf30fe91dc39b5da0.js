(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{D4RW:function(t,e,i){"use strict";i.d(e,"b",(function(){return w})),i.d(e,"a",(function(){return C}));var o=i("ea4N"),n=i("TYT/"),a=i("cUzu"),s=i("FfOm"),r=i("p+mS"),l=i("uLXW"),c=i("Valr"),h=i("GsDI"),d=i("XIAg"),p=i("st1I"),u=i("2J1J"),g=i("qaSM"),m=function(t){return{background:t}},b=function(t){return{hidden:t}};function y(t,e){if(1&t){var i=n.bc();n.ac(0,"button",15),n.mc("click",(function(){n.Mc(i);var t=e.$implicit;return n.qc().onClick(t)})),n.Vb(1,"span",2),n.Zb()}if(2&t){var o=e.$implicit,a=n.qc();n.wc("matTooltip",o.name)("ngStyle",n.Bc(6,m,o.color))("ngClass",n.Bc(8,b,o.icon==a.selectedItem)),n.Db(1),n.Hb("ic ic-",o.icon,"")}}function f(t,e){1&t&&n.Vb(0,"mat-divider",20),2&t&&n.wc("vertical",!0)}function v(t,e){if(1&t&&(n.ac(0,"div",16),n.ac(1,"div",17),n.Vc(2),n.Zb(),n.ac(3,"div",18),n.Vc(4),n.Zb(),n.Tc(5,f,1,1,"mat-divider",19),n.Zb()),2&t){var i=e.$implicit;n.Db(2),n.Xc("",i.label," "),n.Db(2),n.Xc(" ",i.value," "),n.Db(1),n.wc("ngIf","Jio Center:"!=i.label)}}var _=[{headerName:"Site ID",field:"siteid"},{headerName:"Cell ID",field:"cellid"}],w=function(){function t(t,e,i){this.dialogRef=t,this.data=e,this.http=i,this.cssJsonUrl="assets/data/modules/performance_management/my-performance-report/chart-active-alarms.json",this.icons=[{icon:"Path-28",color:"#0000001A",name:"Structure"},{icon:"Equipment",color:"#0000001A",name:"Equipments"},{icon:"Logical-1",color:"#0000001A",name:"Logical Connectivity"},{icon:"Port-Details",color:"#0000001A",name:"Port Details"},{icon:"Other",color:"#0000001A",name:"Others"}],this.selectedItem="structure",this.labelInfo=[{label:"Site Name: ",value:"Karan"},{label:"R4G: ",value:"Mumbai"},{label:"MP Name: ",value:"South Mumbai"},{label:"Jio Center:",value:"I-AP-AANV-ENB-6000"}],this.title="CSS",this.activeAlarmsGridOptions={}}return t.prototype.closeDialog=function(){this.dialogRef.close()},t.prototype.ngOnInit=function(){this.createActiveAlarmDefs(),this.getActiveAlarmsData()},t.prototype.createActiveAlarmDefs=function(){this.gridActiveAlarmsColumnDefs=_},t.prototype.getActiveAlarmsData=function(){var t=this;this.http.get(this.cssJsonUrl).subscribe((function(e){t.gridActiveAlarmsData=e}))},t.prototype.onGridReady=function(t){console.log(t),this.gridApi=t.api,this.gridColumnApi=t.columnApi,setTimeout((function(){t.api.sizeColumnsToFit()}),1e3),console.log(this.gridColumnApi)},t.prototype.onClick=function(t){var e=this;console.log(t.icon),this.title=t.name,this.selectedItem=t.icon,"CSS"==this.title?this.http.get(this.cssJsonUrl).subscribe((function(t){e.gridActiveAlarmsData=t})):"Fibre"==this.title?this.http.get("assets/data/modules/layers/fibre-route/planned-table-view-fibre.json").subscribe((function(t){e.gridActiveAlarmsData=t})):"Route"==this.title?this.http.get(this.cssJsonUrl).subscribe((function(t){e.gridActiveAlarmsData=t})):"AG1"==this.title?this.http.get("assets/data/modules/layers/fibre-route/planned-table-view-ag1.json").subscribe((function(t){e.gridActiveAlarmsData=t})):"AG2"==this.title?this.http.get("assets/data/modules/layers/fibre-route/planned-table-view-ag2.json").subscribe((function(t){e.gridActiveAlarmsData=t})):"AG3"==this.title&&this.http.get("assets/data/modules/layers/fibre-route/planned-table-view-ag3.json").subscribe((function(t){e.gridActiveAlarmsData=t}))},t.\u0275fac=function(e){return new(e||t)(n.Ub(o.g),n.Ub(o.a),n.Ub(a.b))},t.\u0275cmp=n.Ob({type:t,selectors:[["app-route-table-view"]],decls:24,vars:14,consts:[[1,"dialog-header"],["mat-icon-button","",1,"dialog-close-button","leftIconHighlight"],[2,"font-size","21px"],["fxFlex","grow"],[1,"pl-3",2,"color","black"],["style","color: '#0000008A'","mat-icon-button","","class","dialog-close-button mx-2",3,"matTooltip","ngStyle","ngClass","click",4,"ngFor","ngForOf"],["color","primary","mat-icon-button","",1,"dialog-close-button",3,"click"],["fxLayout","row"],["fxFlex","60","fxLayout","row","fxLayoutAlign","space-evenly center"],["fxLayout","row","fxLayoutAlign","space-evenly center",4,"ngFor","ngForOf"],["fxFlex","40",1,"text-right"],["mat-button","","color","primary"],[1,"ic","ic-download","pr-2"],[1,"ag-grid-jcp-container"],["rowHeight","48","headerHeight","48","enableColResize","","enableSorting","","enableFilter","","groupHeaders","","toolPanelSuppressGroups","","toolPanelSuppressValues","","rowSelection","multiple",1,"ag-theme-material","table-view-zoom-ag-grid",2,"width","100%","height","409px",3,"gridOptions","columnDefs","rowData","suppressCellSelection","enableRangeSelection","suppressRowClickSelection","debug","suppressPaginationPanel","gridReady"],["mat-icon-button","",1,"dialog-close-button","mx-2",2,"color","#0000008A",3,"matTooltip","ngStyle","ngClass","click"],["fxLayout","row","fxLayoutAlign","space-evenly center"],[2,"color","black","font-size","13px","font-family","lato bold"],[1,"pl-1",2,"color","gray","font-size","13px","font-family","lato regular"],["style","height: 24px; padding-left: 20px;",3,"vertical",4,"ngIf"],[2,"height","24px","padding-left","20px",3,"vertical"]],template:function(t,e){1&t&&(n.ac(0,"div"),n.ac(1,"mat-toolbar",0),n.ac(2,"mat-toolbar-row"),n.ac(3,"button",1),n.Vb(4,"span",2),n.Zb(),n.ac(5,"div",3),n.ac(6,"div",4),n.Vc(7),n.Zb(),n.Zb(),n.Tc(8,y,2,10,"button",5),n.ac(9,"button",6),n.mc("click",(function(){return e.closeDialog()})),n.ac(10,"mat-icon"),n.Vc(11,"close"),n.Zb(),n.Zb(),n.Zb(),n.Zb(),n.Vb(12,"mat-divider"),n.ac(13,"mat-toolbar",0),n.ac(14,"mat-toolbar-row",7),n.ac(15,"div",8),n.Tc(16,v,6,3,"div",9),n.Zb(),n.ac(17,"div",10),n.ac(18,"button",11),n.Vb(19,"i",12),n.Vc(20,"Download"),n.Zb(),n.Zb(),n.Zb(),n.Zb(),n.Vb(21,"mat-divider"),n.ac(22,"div",13),n.ac(23,"ag-grid-angular",14),n.mc("gridReady",(function(t){return e.onGridReady(t)})),n.Zb(),n.Zb(),n.Zb()),2&t&&(n.Db(4),n.Hb("ic ic-",e.selectedItem,""),n.Db(3),n.Wc(e.title),n.Db(1),n.wc("ngForOf",e.icons),n.Db(8),n.wc("ngForOf",e.labelInfo),n.Db(7),n.wc("gridOptions",e.activeAlarmsGridOptions)("columnDefs",e.gridActiveAlarmsColumnDefs)("rowData",e.gridActiveAlarmsData)("suppressCellSelection",!0)("enableRangeSelection",!0)("suppressRowClickSelection",!0)("debug",!0)("suppressPaginationPanel",!0))},directives:[s.a,s.c,r.b,l.a,c.m,h.a,d.a,l.c,l.b,p.a,u.a,c.o,g.b,c.l,g.a,c.n],styles:[".hidden{display:none}.leftIconHighlight{background-color:red}.route-table{margin-right:60px}.mat-dialog-container{padding:0;height:auto;resize:both;background-color:hsla(0,0%,100%,.88);-webkit-backdrop-filter:blur(2px);backdrop-filter:blur(2px);overflow:hidden}.mat-dialog-container .dialog-header{height:54px;max-height:54px;background-color:rgba(0,0,0,0)}.mat-dialog-container .dialog-header .mat-toolbar-row{font-size:18px;color:#fff}.mat-dialog-container .dialog-header .mat-toolbar-row .dialog-close-button .mat-button-focus-overlay{background-color:rgba(0,0,0,0)!important}.mat-dialog-container .ag-grid-jcp-container .table-view-zoom-ag-grid .ag-root-wrapper{background:inherit}.mat-dialog-container .ag-grid-jcp-container .table-view-zoom-ag-grid .ag-root-wrapper .ag-root-wrapper-body .ag-root .ag-header{border-bottom-color:rgba(0,0,0,.2)}.mat-dialog-container .ag-grid-jcp-container .table-view-zoom-ag-grid .ag-root-wrapper .ag-root-wrapper-body .ag-root .ag-header .ag-pinned-left-header{border-right-color:rgba(0,0,0,0)}.mat-dialog-container .ag-grid-jcp-container .table-view-zoom-ag-grid .ag-root-wrapper .ag-root-wrapper-body .ag-root .ag-body-viewport .ag-center-cols-clipper .ag-center-cols-viewport .ag-center-cols-container .ag-row{background:inherit;border-color:rgba(0,0,0,.2)}"],encapsulation:2}),t}(),C=function(){return function(t){this.title=t}}()},OT7S:function(t,e,i){"use strict";i.d(e,"a",(function(){return a}));var o=i("4R65"),n=i.n(o),a=n.a.Layer.extend({options:{padding:0,tolerance:0,container:null,opacity:1,visible:!0,zIndex:void 0,minZoom:0,maxZoom:18},initialize:function(t){n.a.setOptions(this,t),n.a.stamp(this),this._map=void 0,this._container=void 0,this._bounds=void 0,this._center=void 0,this._zoom=void 0,this._padding=void 0},beforeAdd:function(){this._zoomVisible=!0},getEvents:function(){var t={viewreset:this._onLayerViewReset,zoom:this._onLayerZoom,moveend:this._onLayerMoveEnd,zoomend:this._onLayerZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onLayerAnimZoom),t},onAdd:function(){if(this.fire("layer-beforemount"),this._container||this._initContainer(),this.setOpacity(this.options.opacity),window.isNaN(this.options.zIndex))switch(this._container.tagName){case"CANVAS":this.setZIndex(100);break;case"svg":this.setZIndex(200);break;default:this.setZIndex(100)}else this.setZIndex(this.options.zIndex);this.getPane().appendChild(this._container),this._onZoomVisible(),this.fire("layer-mounted"),this._update()},onRemove:function(){this.fire("layer-beforedestroy"),this._destroyContainer(),this.fire("layer-destroyed")},_onLayerViewReset:function(){this._reset()},_onLayerAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onLayerZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onLayerZoomEnd:function(){},_onLayerMoveEnd:function(){this._isZoomVisible()?this._update():this._zoomHide()},_onZoomVisible:function(){this._isZoomVisible()?this._zoomShow():this._zoomHide()},_initContainer:function(){var t=this._container=this.options.container;n.a.DomUtil.addClass(t,"leaflet-layer"),this._zoomAnimated&&n.a.DomUtil.addClass(this._container,"leaflet-zoom-animated")},_destroyContainer:function(){n.a.DomUtil.remove(this._container),delete this._container},_isZoomVisible:function(){var t=this.options.minZoom,e=this.options.maxZoom,i=this._map.getZoom();return i>=t&&i<=e},_zoomShow:function(){this._zoomVisible||(this._zoomVisible=!0,this._map.off({zoomend:this._onZoomVisible},this),this.options.visible&&(this._map.on(this.getEvents(),this),this.getContainer().style.display=""))},_zoomHide:function(){this._zoomVisible&&(this._zoomVisible=!1,this._map.off(this.getEvents(),this),this._map.on({zoomend:this._onZoomVisible},this),this.getContainer().style.display="none")},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=n.a.DomUtil.getPosition(this._container),a=this._map.getSize().multiplyBy(.5+this.options.padding),s=this._map.project(this._center,e),r=this._map.project(t,e).subtract(s),l=a.multiplyBy(-i).add(o).add(a).subtract(r);n.a.Browser.any3d?n.a.DomUtil.setTransform(this._container,l,i):n.a.DomUtil.setPosition(this._container,l)},_update:function(){this._map._animatingZoom&&this._bounds||(this.__update(),n.a.DomUtil.setPosition(this._container,this._bounds.min),this.fire("layer-render"))},__update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t));this._padding=e.multiplyBy(t),this._bounds=new n.a.Bounds(i,i.add(e.multiplyBy(1+2*t))),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},getContainer:function(){return this._container},setContainer:function(t){var e=this.getContainer(),i=e.parentNode;if(delete this._container,this.options.container=t,this._container||this._initContainer(),this.setOpacity(this.options.opacity),window.isNaN(this.options.zIndex))switch(this._container.tagName){case"CANVAS":this.setZIndex(100);break;case"svg":this.setZIndex(200);break;default:this.setZIndex(100)}else this.setZIndex(this.options.zIndex);return i?i.replaceChild(t,e):this.getPane().appendChild(t),this._update(),this},getOpacity:function(){return this.options.opacity},setOpacity:function(t){return this.getContainer().style.opacity=this.options.opacity=1*t,this},getZIndex:function(){return this.options.zIndex},setZIndex:function(t){return this.getContainer().style.zIndex=this.options.zIndex=1*t,this},show:function(){if(!this.options.visible){if(this.options.visible=!0,this._isZoomVisible())return this._map.on(this.getEvents(),this),this.getContainer().style.display="",this._update(),this;this._zoomHide()}},hide:function(){if(this.options.visible)return this.options.visible=!1,this._zoomHide(),this._map.off(this.getEvents(),this),this.getContainer().style.display="none",this},setFullLayerBounds:function(){var t=this.getContainer(),e=this._bounds.getSize(),i=this._padding;switch(t.tagName){case"CANVAS":var o=n.a.Browser.retina?2:1;t.width=o*e.x,t.height=o*e.y,t.style.width=e.x+"px",t.style.height=e.y+"px";var a=t.getContext("2d");return n.a.Browser.retina&&a.scale(o,o),a.translate(i.x,i.y),{container:t,ctx:a,dpr:o};case"svg":return t.setAttribute("width",e.x),t.setAttribute("height",e.y),t.style.width=e.x+"px",t.style.height=e.y+"px",t.setAttribute("viewBox","".concat(-i.x," ").concat(-i.y," ").concat(e.x," ").concat(e.y)),{container:t};case"DIV":return t.style.boxSizing="content-box",t.style.width=e.x-i.x+"px",t.style.height=e.y-i.y+"px",t.style.padding="".concat(i.y,"px ").concat(i.x,"px"),{container:t};default:return t.setAttribute("width",e.x),t.setAttribute("height",e.y),t.style.width=e.x+"px",t.style.height=e.y+"px",{container:t}}}});n.a.CustomLayer=a,n.a.customLayer=function(t){return n.a.customLayer?new a(t):null}},n4Jw:function(t,e,i){"use strict";i.r(e),i.d(e,"RouteReadyFibreCoreComponent",(function(){return p}));var o=i("4R65"),n=i("OT7S"),a=i("ZWlK"),s=i("D4RW"),r=i("TYT/"),l=i("i+93"),c=i("cUzu"),h=i("RaP5"),d=i("ea4N"),p=function(){function t(t,e,i,o,n,a){var s=this;this.shapeService=t,this.http=e,this.dataShare=i,this.viewContainerRef=o,this.cfr=n,this.dialog=a,this.allLinePoints=[],this.routeReadyFibreCoreSubscription=this.dataShare.removeLayerMessage.subscribe((function(t){"RouteReadyFibreCoreComponent"==t&&s.removeLayer()}))}return t.prototype.ngAfterViewInit=function(){this.pixelRatio=window.devicePixelRatio||1,this.map=this.shapeService.mapServiceData,this.routeFibreCoreLayer=new n.a({container:document.createElement("canvas")}),this.map.setView(new o.LatLng(26.6966,77.8908),10);var t=this;this.routeFibreCoreLayer.on("layer-render",(function(){var e=this,i=this;t.getRouteData().subscribe((function(o){e.routePlannedData=o,i.routeFibreCoreLayerContainer=t.resizeContainer(),console.log(e.routePlannedData[0][3].centroidAvg),t.createLayer(i.routeFibreCoreLayerContainer,i._zoom,e.routePlannedData)}))})),this.routeFibreCoreLayer.addTo(this.map)},t.prototype.getRouteData=function(){return this.http.get("assets/data/layers/topologies/Fibre/Route/ready.json")},t.prototype.resizeContainer=function(){this.canvasCore=this.routeFibreCoreLayer.getContainer();var t=o.Browser.retina?2:1,e=this.routeFibreCoreLayer._bounds.getSize();return this.canvasCore.width=t*e.x,this.canvasCore.height=t*e.y,this.canvasCore.style.width=e.x+"px",this.canvasCore.style.height=e.y+"px",this.canvasCore},t.prototype.createLayer=function(t,e,i){this.lineColors="green",this.allLinePoints=[],this.zoomLevel=e,console.log(this.zoomLevel),this.scaleMatrix=this.zoomLevel<=7?.4:this.zoomLevel<=10?.5:this.zoomLevel<=13?.75:this.zoomLevel<=15?.5:.75,this.scaleMatrix=this.scaleMatrix*this.pixelRatio,null!=this.lineContainer&&(this.lineContainer.removeAllChildren(),this.stageRouteContainer.update()),console.log(i[0][4].boundary[0][0]),this.stageRouteContainer=new a.Stage(t),this.stageRouteContainer.enableDOMEvents(!0),this.stageRouteContainer.enableMouseOver(),this.lineContainer=new a.Container;for(var n=0;n<i.length;n++){this.allLinePoints=[];for(var s=0;s<i[n][4].boundary.length;s++)this.positionLatLng=o.latLng({lat:i[n][4].boundary[s][0],lng:i[n][4].boundary[s][1]}),this.linksDot=this.map.latLngToContainerPoint(this.positionLatLng),this.linksCenterPoint={x:this.linksDot.x*this.pixelRatio,y:this.linksDot.y*this.pixelRatio},this.allLinePoints.push(this.linksCenterPoint);this.polyGraphic=this.drawPolyGraphics(this.lineColors,this.allLinePoints),this.lineShape=new a.Shape(this.polyGraphic),this.lineShape.cursor="pointer",this.lineShape.points=this.allLinePoints,this.lineShape.latLng=this.positionLatLng,this.lineContainer.addChild(this.lineShape)}var r=this;this.lineContainer.addEventListener("click",(function(t){r.routeClicked()})),this.lineContainer.alpha=1,this.stageRouteContainer.addChild(this.lineContainer),this.stageRouteContainer.update()},t.prototype.drawPolyGraphics=function(t,e){this.lineStrokeWidth=4*this.scaleMatrix,this.drawPolyGraphic=new a.Graphics,this.drawPolyGraphic.setStrokeStyle(this.lineStrokeWidth,1,1),this.drawPolyGraphic.beginStroke(t);for(var i=0;i<e.length;i+=2)this.drawPolyGraphic.curveTo(e[i].x,e[i].y,e[i+1].x,e[i+1].y);return this.drawPolyGraphic.endStroke(),this.drawPolyGraphic.closePath(),this.drawPolyGraphic},t.prototype.routeClicked=function(){this.dialog.open(s.b,{width:"1200px",height:"500px",position:{left:"18.5rem",top:"4rem"},hasBackdrop:!1,disableClose:!1,panelClass:"material-dialog-container"})},t.prototype.removeLayer=function(){null!=this.routeFibreCoreLayer&&this.map.removeLayer(this.routeFibreCoreLayer)},t.prototype.ngOnDestroy=function(){this.routeReadyFibreCoreSubscription&&this.routeReadyFibreCoreSubscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(r.Ub(l.a),r.Ub(c.b),r.Ub(h.a),r.Ub(r.Q),r.Ub(r.j),r.Ub(d.b))},t.\u0275cmp=r.Ob({type:t,selectors:[["app-route-ready-fibre-core"]],decls:2,vars:0,template:function(t,e){1&t&&(r.ac(0,"p"),r.Vc(1,"route-ready-fibre-core works!"),r.Zb())},styles:[""]}),t}()}}]);