(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"8kZ0":function(e,t,n){var a,o,i;o=[n("4R65")],void 0===(i="function"==typeof(a=function(e){e.Map.mergeOptions({contextmenuItems:[]}),e.Map.ContextMenu=e.Handler.extend({_touchstart:e.Browser.msPointer?"MSPointerDown":e.Browser.pointer?"pointerdown":"touchstart",statics:{BASE_CLS:"leaflet-contextmenu"},initialize:function(t){e.Handler.prototype.initialize.call(this,t),this._items=[],this._visible=!1;var n=this._container=e.DomUtil.create("div",e.Map.ContextMenu.BASE_CLS,t._container);n.style.zIndex=1e4,n.style.position="absolute",t.options.contextmenuWidth&&(n.style.width=t.options.contextmenuWidth+"px"),this._createItems(),e.DomEvent.on(n,"click",e.DomEvent.stop).on(n,"mousedown",e.DomEvent.stop).on(n,"dblclick",e.DomEvent.stop).on(n,"contextmenu",e.DomEvent.stop)},addHooks:function(){var t=this._map.getContainer();e.DomEvent.on(t,"mouseleave",this._hide,this).on(document,"keydown",this._onKeyDown,this),e.Browser.touch&&e.DomEvent.on(document,this._touchstart,this._hide,this),this._map.on({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},removeHooks:function(){var t=this._map.getContainer();e.DomEvent.off(t,"mouseleave",this._hide,this).off(document,"keydown",this._onKeyDown,this),e.Browser.touch&&e.DomEvent.off(document,this._touchstart,this._hide,this),this._map.off({contextmenu:this._show,mousedown:this._hide,movestart:this._hide,zoomstart:this._hide},this)},showAt:function(t,n){t instanceof e.LatLng&&(t=this._map.latLngToContainerPoint(t)),this._showAtPoint(t,n)},hide:function(){this._hide()},addItem:function(e){return this.insertItem(e)},insertItem:function(e,t){var n=this._createItem(this._container,e,t=void 0!==t?t:this._items.length);return this._items.push(n),this._sizeChanged=!0,this._map.fire("contextmenu.additem",{contextmenu:this,el:n.el,index:t}),n.el},removeItem:function(t){var n=this._container;return isNaN(t)||(t=n.children[t]),t?(this._removeItem(e.Util.stamp(t)),this._sizeChanged=!0,this._map.fire("contextmenu.removeitem",{contextmenu:this,el:t}),t):null},removeAllItems:function(){for(var t=this._container.children;t.length;)this._removeItem(e.Util.stamp(t[0]));return t},hideAllItems:function(){var e,t;for(e=0,t=this._items.length;e<t;e++)this._items[e].el.style.display="none"},showAllItems:function(){var e,t;for(e=0,t=this._items.length;e<t;e++)this._items[e].el.style.display=""},setDisabled:function(t,n){var a=this._container,o=e.Map.ContextMenu.BASE_CLS+"-item";isNaN(t)||(t=a.children[t]),t&&e.DomUtil.hasClass(t,o)&&(n?(e.DomUtil.addClass(t,o+"-disabled"),this._map.fire("contextmenu.disableitem",{contextmenu:this,el:t})):(e.DomUtil.removeClass(t,o+"-disabled"),this._map.fire("contextmenu.enableitem",{contextmenu:this,el:t})))},isVisible:function(){return this._visible},_createItems:function(){var e,t,n=this._map.options.contextmenuItems;for(e=0,t=n.length;e<t;e++)this._items.push(this._createItem(this._container,n[e]))},_createItem:function(t,n,a){if(n.separator||"-"===n)return this._createSeparator(t,a);var o=e.Map.ContextMenu.BASE_CLS+"-item",i=this._insertElementAt("a",n.disabled?o+" "+o+"-disabled":o,t,a),r=this._createEventHandler(i,n.callback,n.context,n.hideOnSelect),s=this._getIcon(n),l=this._getIconCls(n),c="";return s?c='<img class="'+e.Map.ContextMenu.BASE_CLS+'-icon" src="'+s+'"/>':l&&(c='<span class="'+e.Map.ContextMenu.BASE_CLS+"-icon "+l+'"></span>'),i.innerHTML=c+n.text,i.href="#",e.DomEvent.on(i,"mouseover",this._onItemMouseOver,this).on(i,"mouseout",this._onItemMouseOut,this).on(i,"mousedown",e.DomEvent.stopPropagation).on(i,"click",r),e.Browser.touch&&e.DomEvent.on(i,this._touchstart,e.DomEvent.stopPropagation),e.Browser.pointer||e.DomEvent.on(i,"click",this._onItemMouseOut,this),{id:e.Util.stamp(i),el:i,callback:r}},_removeItem:function(t){var n,a,o,i,r;for(o=0,i=this._items.length;o<i;o++)if((n=this._items[o]).id===t)return a=n.el,(r=n.callback)&&(e.DomEvent.off(a,"mouseover",this._onItemMouseOver,this).off(a,"mouseover",this._onItemMouseOut,this).off(a,"mousedown",e.DomEvent.stopPropagation).off(a,"click",r),e.Browser.touch&&e.DomEvent.off(a,this._touchstart,e.DomEvent.stopPropagation),e.Browser.pointer||e.DomEvent.on(a,"click",this._onItemMouseOut,this)),this._container.removeChild(a),this._items.splice(o,1),n;return null},_createSeparator:function(t,n){var a=this._insertElementAt("div",e.Map.ContextMenu.BASE_CLS+"-separator",t,n);return{id:e.Util.stamp(a),el:a}},_createEventHandler:function(t,n,a,o){var i=this,r=this._map,s=e.Map.ContextMenu.BASE_CLS+"-item-disabled";return o=void 0===o||o,function(l){e.DomUtil.hasClass(t,s)||(o&&i._hide(),n&&n.call(a||r,i._showLocation),i._map.fire("contextmenu.select",{contextmenu:i,el:t}))}},_insertElementAt:function(e,t,n,a){var o,i=document.createElement(e);return i.className=t,void 0!==a&&(o=n.children[a]),o?n.insertBefore(i,o):n.appendChild(i),i},_show:function(e){this._showAtPoint(e.containerPoint,e)},_showAtPoint:function(t,n){if(this._items.length){var a=this._map,o=a.containerPointToLayerPoint(t),i=a.layerPointToLatLng(o),r=e.extend(n||{},{contextmenu:this});this._showLocation={latlng:i,layerPoint:o,containerPoint:t},n&&n.relatedTarget&&(this._showLocation.relatedTarget=n.relatedTarget),this._setPosition(t),this._visible||(this._container.style.display="block",this._visible=!0),this._map.fire("contextmenu.show",r)}},_hide:function(){this._visible&&(this._visible=!1,this._container.style.display="none",this._map.fire("contextmenu.hide",{contextmenu:this}))},_getIcon:function(t){return e.Browser.retina&&t.retinaIcon||t.icon},_getIconCls:function(t){return e.Browser.retina&&t.retinaIconCls||t.iconCls},_setPosition:function(t){var n,a=this._map.getSize(),o=this._container,i=this._getElementSize(o);this._map.options.contextmenuAnchor&&(n=e.point(this._map.options.contextmenuAnchor),t=t.add(n)),o._leaflet_pos=t,t.x+i.x>a.x?(o.style.left="auto",o.style.right=Math.min(Math.max(a.x-t.x,0),a.x-i.x-1)+"px"):(o.style.left=Math.max(t.x,0)+"px",o.style.right="auto"),t.y+i.y>a.y?(o.style.top="auto",o.style.bottom=Math.min(Math.max(a.y-t.y,0),a.y-i.y-1)+"px"):(o.style.top=Math.max(t.y,0)+"px",o.style.bottom="auto")},_getElementSize:function(e){var t=this._size,n=e.style.display;return t&&!this._sizeChanged||(t={},e.style.left="-999999px",e.style.right="auto",e.style.display="block",t.x=e.offsetWidth,t.y=e.offsetHeight,e.style.left="auto",e.style.display=n,this._sizeChanged=!1),t},_onKeyDown:function(e){27===e.keyCode&&this._hide()},_onItemMouseOver:function(t){e.DomUtil.addClass(t.target||t.srcElement,"over")},_onItemMouseOut:function(t){e.DomUtil.removeClass(t.target||t.srcElement,"over")}}),e.Map.addInitHook("addHandler","contextmenu",e.Map.ContextMenu),e.Mixin.ContextMenu={bindContextMenu:function(t){return e.setOptions(this,t),this._initContextMenu(),this},unbindContextMenu:function(){return this.off("contextmenu",this._showContextMenu,this),this},addContextMenuItem:function(e){this.options.contextmenuItems.push(e)},removeContextMenuItemWithIndex:function(e){for(var t=[],n=0;n<this.options.contextmenuItems.length;n++)this.options.contextmenuItems[n].index==e&&t.push(n);for(var a=t.pop();void 0!==a;)this.options.contextmenuItems.splice(a,1),a=t.pop()},replaceContextMenuItem:function(e){this.removeContextMenuItemWithIndex(e.index),this.addContextMenuItem(e)},_initContextMenu:function(){this._items=[],this.on("contextmenu",this._showContextMenu,this)},_showContextMenu:function(t){var n,a,o,i,r;if(this._map.contextmenu){for(a=e.extend({relatedTarget:this},t),o=this._map.mouseEventToContainerPoint(t.originalEvent),this.options.contextmenuInheritItems||this._map.contextmenu.hideAllItems(),i=0,r=this.options.contextmenuItems.length;i<r;i++)this._items.push(this._map.contextmenu.insertItem(n=this.options.contextmenuItems[i],n.index));this._map.once("contextmenu.hide",this._hideContextMenu,this),this._map.contextmenu.showAt(o,a)}},_hideContextMenu:function(){var e,t;for(e=0,t=this._items.length;e<t;e++)this._map.contextmenu.removeItem(this._items[e]);this._items.length=0,this.options.contextmenuInheritItems||this._map.contextmenu.showAllItems()}};var t,n,a,o=[e.Marker,e.Path],i={contextmenu:!1,contextmenuItems:[],contextmenuInheritItems:!0};for(n=0,a=o.length;n<a;n++)(t=o[n]).prototype.options?t.mergeOptions(i):t.prototype.options=i,t.addInitHook((function(){this.options.contextmenu&&this._initContextMenu()})),t.include(e.Mixin.ContextMenu);return e.Map.ContextMenu})?a.apply(t,o):a)||(e.exports=i)},"92D4":function(e,t,n){var a;e.exports=(a=n("4R65"),function(e){function t(a){if(n[a])return n[a].exports;var o=n[a]={i:a,l:!1,exports:{}};return e[a].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,a){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:a})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,n){"use strict";var a=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};return function(t,n){function a(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(a.prototype=n.prototype,new a)}}();Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),i=function(e){function t(t){var n=e.call(this,t)||this;return n._map=null,n._canvas=null,n._frame=null,n._delegate=null,n}return a(t,e),Object.defineProperty(t.prototype,"map",{get:function(){return this._map},enumerable:!0,configurable:!0}),t.prototype.getEvents=function(){var e={moveend:this._onLayerDidMove};return this._map.options.zoomAnimation&&o.Browser.any3d&&(e.zoomanim=this._animateZoom),e},t.prototype.onAdd=function(e){this._map=e,this._canvas=o.DomUtil.create("canvas","leaflet-layer");var t=this._map.getSize();this._canvas.width=t.x,this._canvas.height=t.y,o.DomUtil.addClass(this._canvas,"leaflet-zoom-"+(this._map.options.zoomAnimation&&o.Browser.any3d?"animated":"hide")),e.getPanes().overlayPane.appendChild(this._canvas);var n=this._delegate||this;return n.onLayerDidMount&&n.onLayerDidMount(),this.needRedraw(),this},t.prototype.onRemove=function(e){var t=this._delegate||this;return t.onLayerWillUnmount&&t.onLayerWillUnmount(),e.getPanes().overlayPane.removeChild(this._canvas),this._canvas=null,this},t.prototype.needRedraw=function(){return this._frame||(this._frame=o.Util.requestAnimFrame(this.drawLayer,this)),this},t.prototype.delegate=function(e){return this._delegate=e,this},t.prototype._onLayerDidResize=function(e){this._canvas.width=e.newSize.x,this._canvas.height=e.newSize.y},t.prototype._onLayerDidMove=function(){var e=this._map.containerPointToLayerPoint([0,0]);o.DomUtil.setPosition(this._canvas,e),this.drawLayer()},t.prototype.LatLonToMercator=function(e){return{x:6378137*e.lng*Math.PI/180,y:6378137*Math.log(Math.tan((90+e.lat)*Math.PI/360))}},t.prototype.drawLayer=function(){var e=this._map.getSize();this._canvas.width=e.x,this._canvas.height=e.y;var t=this._map.getBounds(),n=this._map.getZoom(),a=this.LatLonToMercator(this._map.getCenter()),o=this.LatLonToMercator(this._map.containerPointToLatLng(this._map.getSize())),i=this._delegate||this;i.onDrawLayer&&i.onDrawLayer({bounds:t,canvas:this._canvas,center:a,corner:o,layer:this,size:e,zoom:n}),this._frame=null},t.prototype._animateZoom=function(e){var t=e.target.getZoomScale(e.zoom,e.target.getZoom()),n=this._map._latLngBoundsToNewLayerBounds(this._map.getBounds(),e.zoom,e.center).min;o.DomUtil.setTransform(this._canvas,n,t)},t}(o.Layer);t.CanvasLayer=i},function(e,t){e.exports=a}]))},AAmN:function(e,t,n){"use strict";n.r(t),n.d(t,"MainLayerModule",(function(){return aa}));var a=n("Valr"),o=n("pKmL"),i=n("DUip"),r=n("BZRn"),s=n("fFP/"),l=n("4R65"),c=n("TYT/"),d=n("i+93"),p=n("RaP5");function u(e,t){}var h=function(){function e(e,t,n){this.shapeService=e,this.datashare=t,this.componentFactoryResolver=n,this.components=[wn],this.currentComponent=null}return e.prototype.ngOnInit=function(){var e=this.componentFactoryResolver.resolveComponentFactory(wn),t=this.adHost.viewContainerRef;t.clear(),t.createComponent(e)},e.prototype.ngAfterViewInit=function(){var e=this;this.map=this.shapeService.mapServiceData,this.datashare.mainLayerMessage.subscribe((function(e){console.log(e,"test")})),this.datashare.currentMessageDialog.subscribe((function(t){t!={}&&e.polyDirectFunc()}))},e.prototype.polyDirectFunc=function(){var e=this;this.datashare.currentMessageDialog.subscribe((function(t){console.log(t,"dataPoly"),e.dataPolyList=t;for(var n=0;n<e.dataPolyList.transferDataPoly.length;n++){var a=e.dataPolyList.transferDataPoly[n];console.log(a,"ele"),"Circle"==a.polydata.properties.shape?(e.circle=l.circle([a.polydata.geometry.coordinates[1],a.polydata.geometry.coordinates[0]],a.polydata.properties.radius,{color:"red",fillColor:"#f03",fillOpacity:.5}).addTo(e.map),e.map.setZoom(a.polydata.geometry.coordinates[1],a.polydata.geometry.coordinates[0],14)):"Polygon"==a.polydata.properties.shape?(e.poly=l.polygon([[19.060009,72.876063],[19.013112,72.907984],[19.065525,72.916565],[19.060009,72.876063]]).addTo(e.map),e.map.setZoom(14)):"Rectangle"==a.polydata.properties.shape?(e.polyRectangle=l.rectangle([[19.045527,72.902422],[19.045527,72.905597],[19.049482,72.905597],[19.049482,72.902422],[19.045527,72.902422]],{color:"#ff7800",weight:1}).addTo(e.map),e.map.setZoom(14)):(e.polyline=l.polyline([[19.045568,72.894765],[19.046055,72.898672],[19.045933,72.901742]]).addTo(e.map),e.map.setZoom(14))}}))},e.\u0275fac=function(t){return new(t||e)(c.Ub(d.a),c.Ub(p.a),c.Ub(c.j))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-polygon-editor"]],viewQuery:function(e,t){var n;1&e&&c.cd(s.a,!0),2&e&&c.Hc(n=c.nc())&&(t.adHost=n.first)},decls:1,vars:0,consts:[["ad-host",""]],template:function(e,t){1&e&&c.Tc(0,u,0,0,"ng-template",0)},directives:[s.a],styles:[""]}),e}(),m=n("pugT"),f=n("mrSG"),g=n("uLXW");function b(e,t){1&e&&c.Vb(0,"span",16)}function y(e,t){1&e&&c.Vb(0,"span",17)}function v(e,t){if(1&e){var n=c.bc();c.ac(0,"div",5),c.ac(1,"div",6),c.Vb(2,"span",7),c.Vb(3,"span",8),c.Zb(),c.ac(4,"div",9),c.Vc(5),c.Zb(),c.ac(6,"div",10),c.Tc(7,b,1,0,"span",11),c.Tc(8,y,1,0,"span",12),c.Zb(),c.ac(9,"div",10),c.Vb(10,"span",13),c.Zb(),c.ac(11,"div",14),c.mc("click",(function(){c.Mc(n);var e=t.$implicit;return c.qc().removeSelectedLayer(e)})),c.Vb(12,"span",15),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit;c.Db(5),c.Wc(a.eventName),c.Db(2),c.wc("ngIf",1==a.selected),c.Db(1),c.wc("ngIf",0==a.selected)}}var x=function(){function e(e){var t=this;this.datashare=e,this.listSelectedLayerArr=[],this.onAddDropDown=new c.o,this.dataShareSub=e.currentMessage.subscribe((function(e){console.log(e,"val>>>Selected"),t.listSelectedLayerArr=e}))}return e.prototype.ngOnInit=function(){},e.prototype.trackByMethod=function(e,t){return t.id},e.prototype.ngOnDestroy=function(){this.dataShareSub.unsubscribe()},e.prototype.removeSelectedLayer=function(e){var t,n;console.log(e,"item"),console.log(e.selected,"item.selected"),console.log(this.listSelectedLayerArr,"this.listSelectedLayerArr"),e.selected=!e.selected,console.log(e.selected,"item.selected After");try{for(var a=Object(f.j)(this.listSelectedLayerArr),o=a.next();!o.done;o=a.next()){var i=o.value;if(console.log(i,"iter"),0==i.selected){this.listSelectedLayerArr.splice(this.listSelectedLayerArr.indexOf(i),1),this.onAddDropDown.emit(this.listSelectedLayerArr);break}}}catch(r){t={error:r}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}},e.\u0275fac=function(t){return new(t||e)(c.Ub(p.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-selected-layer-menu"]],decls:6,vars:2,consts:[[1,"selectled-layer-menu"],["fxLayout","row","fxLayoutAlign","space-between center",1,"selected-layers-title","px-3","pb-1"],[1,"title"],[1,"icon","zmdi","zmdi-close"],["class","selectled-layer-menu-list","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf","ngForTrackBy"],["fxLayout","row","fxLayoutAlign","space-between center",1,"selectled-layer-menu-list"],["fxFlex","10",1,"right-icon"],[1,"zmdi","zmdi-more-vert",2,"padding-right","2px"],[1,"zmdi","zmdi-more-vert"],["fxFlex","60",1,"selected-layer"],["fxFlex","10"],["class","zmdi zmdi-eye",4,"ngIf"],["class","zmdi zmdi-eye-off",4,"ngIf"],[1,"zmdi","zmdi-tune"],["fxFlex","10",3,"click"],[1,"zmdi","zmdi-close-circle"],[1,"zmdi","zmdi-eye"],[1,"zmdi","zmdi-eye-off"]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"div",1),c.ac(2,"div",2),c.Vc(3,"Selected Layer"),c.Zb(),c.Vb(4,"div",3),c.Zb(),c.Tc(5,v,13,3,"div",4),c.Zb()),2&e&&(c.Db(5),c.wc("ngForOf",t.listSelectedLayerArr)("ngForTrackBy",t.trackByMethod))},directives:[g.c,g.b,a.m,g.a,a.n],styles:[".selectled-layer-menu[_ngcontent-%COMP%]{font-size:14px;font-family:Lato Regular;margin:8px 0}.selectled-layer-menu[_ngcontent-%COMP%]   .selected-layers-title[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:16px;font-family:Lato Medium}.selectled-layer-menu[_ngcontent-%COMP%]   .selected-layers-title[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{font-size:16px}.selectled-layer-menu[_ngcontent-%COMP%]   .selectled-layer-menu-list[_ngcontent-%COMP%]{height:40px;border-radius:10px;margin:0 8px 4px;background:rgba(0,118,214,.2);color:#0070d7;text-align:center}.selectled-layer-menu[_ngcontent-%COMP%]   .selectled-layer-menu-list[_ngcontent-%COMP%]   .right-icon[_ngcontent-%COMP%]{font-size:16px}.selectled-layer-menu[_ngcontent-%COMP%]   .selectled-layer-menu-list[_ngcontent-%COMP%]   .selected-layer[_ngcontent-%COMP%]{font-size:14px;font-family:Lato Regular;white-space:pre;overflow:hidden!important;text-overflow:ellipsis;text-align:left}"]}),e}(),w=n("ea4N"),C=n("XIAg"),M=function(){function e(e,t,n){var a=this;this.data=e,this.dialogRef=t,this.dialog=n,setTimeout((function(){var e=document.createElement("img");e.src=a.data.imageDataURL,document.getElementById("screens").prepend(e),$("img").addClass("MyClass")}),2e3)}return e.prototype.ngOnInit=function(){var e=this;console.log(this.data),this.dialogRef.afterOpened().subscribe((function(){e.inited=!0}))},e.prototype.onCloseClick=function(){this.inited&&this.dialogRef.close()},e.\u0275fac=function(t){return new(t||e)(c.Ub(w.a),c.Ub(w.g),c.Ub(w.b))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-screenshot-preview"]],decls:12,vars:0,consts:[[1,"jcp-table-control-layers-container"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-table-control-layers","px-3"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"toolbar-table-control-title"],[1,"ic","ic-snapshot1","pr-1",2,"font-size","22px"],[1,"toolbar-table-control-icon-list"],[1,"p-2","zmdi","zmdi-close",3,"click"],[1,"screenshort-container"],["id","screens"]],template:function(e,t){1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.Vb(4,"div",4),c.ac(5,"div"),c.Vc(6,"Screenshots"),c.Zb(),c.Zb(),c.ac(7,"div",5),c.ac(8,"div",6),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(9,"mat-divider"),c.ac(10,"div",7),c.Vb(11,"div",8),c.Zb(),c.Zb())},directives:[g.c,g.b,g.a,C.a],styles:[".jcp-table-control-layers-container[_ngcontent-%COMP%]   .screenshort-container[_ngcontent-%COMP%]{padding:15px}.jcp-table-control-layers-container[_ngcontent-%COMP%]   .screenshort-container[_ngcontent-%COMP%]   #screens[_ngcontent-%COMP%]{height:100%;width:100%}"]}),e}(),S=n("QJY3"),D=n("p+mS"),k=n("DjAo");function A(e,t){if(1&e&&(c.ac(0,"div",18),c.ac(1,"mat-checkbox"),c.Vc(2),c.Zb(),c.Zb()),2&e){var n=t.$implicit;c.Db(2),c.Wc(n.name)}}function P(e,t){1&e&&c.Vb(0,"mat-divider")}function T(e,t){if(1&e&&(c.ac(0,"div",13),c.ac(1,"div",14),c.Vc(2),c.Zb(),c.ac(3,"div",15),c.Tc(4,A,3,1,"div",16),c.Zb(),c.Tc(5,P,1,0,"mat-divider",17),c.Zb()),2&e){var n=t.$implicit,a=t.last;c.Db(2),c.Wc(n.name),c.Db(2),c.wc("ngForOf",n.checks),c.Db(1),c.wc("ngIf",!a)}}var F=function(){function e(e,t,n){this.fb=e,this.data=t,this.dialogRef=n,this.kpidisplayslist=[{name:"In-Building",checks:[{id:100,name:"Traffic Distribution"},{id:101,name:"Coverage Evaluation"},{id:102,name:"Performance Evaluation DL"},{id:103,name:"Performance Evaluation UL"}]},{name:"Sites",checks:[{id:100,name:"Jio On-Air"},{id:101,name:"Jio Planned"},{id:102,name:"Vodafone"},{id:103,name:"Airtel"},{id:104,name:"Idea"},{id:105,name:"Aircel"}]},{name:"RSRP",checks:[{id:106,name:"Atoll Planned"},{id:106,name:"Actix"},{id:107,name:"Atoll On-Air"},{id:107,name:"Net Velocity"},{id:108,name:"Accuver"},{id:109,name:"Customer Measured"},{id:110,name:"Smart Network Coverage"}]},{name:"SINR",checks:[{id:111,name:"Atoll Planned"},{id:112,name:"Actix"},{id:113,name:"Atoll On-Air"},{id:114,name:"Net Velocity"},{id:115,name:"Accuver"},{id:116,name:"Customer Measured"},{id:117,name:"Smart Network Coverage"}]},{name:"RSRQ",checks:[{id:118,name:"Accuver"},{id:119,name:"Actix"}]},{name:"UL Throughput",checks:[{id:120,name:"Accuver"},{id:121,name:"Netvelocity"},{id:122,name:"Actix"}]},{name:"DL Throughput",checks:[{id:123,name:"Atoll Planned"},{id:124,name:" Actix"},{id:125,name:"Atoll On-Air"},{id:126,name:"Accuver"},{id:127,name:"Net Velocity"}]},{name:"CQI",checks:[{id:128,name:"Atoll Planned"},{id:129,name:" Actix"}]},{name:"Latency",checks:[{id:130,name:"Netvelocity"}]},{name:"DL RB Utilization",checks:[{id:131,name:"Accuver"},{id:132,name:"Actix"}]},{name:"UL RB Utilization",checks:[{id:133,name:"Accuver"},{id:134,name:"Actix"}]},{name:"Competition Coverage",checks:[{id:135,name:"Airtel"},{id:136,name:"Vodafone"},{id:137,name:"Idea"},{id:138,name:"Aircel"}]},{name:"Energy Analytics",checks:[{id:139,name:"TC Cards Utilization"},{id:140,name:"CPH Variance"},{id:141,name:"DGs Entry"}]}]}return e.prototype.ngOnInit=function(){var e=this;this.dialogRef.afterOpened().subscribe((function(){e.inited=!0}))},e.prototype.onCloseClick=function(){this.inited&&this.dialogRef.close()},e.\u0275fac=function(t){return new(t||e)(c.Ub(S.e),c.Ub(w.a),c.Ub(w.g))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-kpi-settings"]],decls:20,vars:1,consts:[[1,"jcp-kpi-setting-control-layers-container"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-kpi-setting-control-layers","px-3"],["fxFlex","",1,"toolbar-kpi-setting-control-title"],[1,"toolbar-kpi-setting-control-icon-list"],[1,"p-2","zmdi","zmdi-close",3,"click"],[1,"kpi-setting-container"],["fxLayout","column","class","kpi-setting-list-container",4,"ngFor","ngForOf"],["mat-dialog-actions","","fxLayout","row",1,"p-0"],["fxFlex",""],[1,"p-2","my-flex-item"],["mat-stroked-button","","color","primary",1,"buttonWidth"],["mat-raised-button","","color","primary",1,"buttonWidth"],["fxLayout","column",1,"kpi-setting-list-container"],[1,"kpi-setting-list-title","px-1"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"kpi-setting-list-child-container","px-1"],["class","kpi-setting-list-child-check","fxFlex","30",4,"ngFor","ngForOf"],[4,"ngIf"],["fxFlex","30",1,"kpi-setting-list-child-check"]],template:function(e,t){1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"span"),c.Vc(5,"KPI Panel Setting"),c.Zb(),c.Zb(),c.ac(6,"div",4),c.ac(7,"div",5),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(8,"mat-divider"),c.ac(9,"div",6),c.Tc(10,T,6,3,"div",7),c.Zb(),c.Vb(11,"mat-divider"),c.ac(12,"div",8),c.Vb(13,"div",9),c.ac(14,"div",10),c.ac(15,"button",11),c.Vc(16,"Cancel"),c.Zb(),c.Zb(),c.ac(17,"div",10),c.ac(18,"button",12),c.Vc(19,"Save"),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Db(10),c.wc("ngForOf",t.kpidisplayslist))},directives:[g.c,g.b,g.a,C.a,a.m,w.c,D.b,a.n,k.a],styles:[""]}),e}(),_=n("+1ux"),O=n("eHTH"),I=n("agxM"),z=n("cSbt"),R=n("GsDI"),Z=n("MqYC"),N=n("qaSM"),V=n("lXxI"),B=["KpiViewTmpl"],E=["KpiViewMacroTmpl"],j=["KpiViewTmplBack"];function G(e,t){if(1&e){var n=c.bc();c.ac(0,"button",17),c.mc("click",(function(){return c.Mc(n),c.qc().kpiDetailsChartPopFun()})),c.Vb(1,"mat-icon",18),c.Zb()}}function U(e,t){if(1&e&&(c.ac(0,"mat-option",19),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.parentToChild),c.Db(1),c.Xc(" ",n.parentToChild," ")}}var W=function(e){return{"border-left-color":e,"border-left-style":"solid","border-left-width":"3px"}},H=function(e){return{color:e}};function J(e,t){if(1&e){var n=c.bc();c.ac(0,"div",22),c.ac(1,"div",23),c.mc("click",(function(){return c.Mc(n),c.qc(2).kpiDetailsChartPopFun()})),c.ac(2,"div",24),c.ac(3,"div",25),c.Vc(4),c.Zb(),c.ac(5,"div",26),c.Vc(6),c.Zb(),c.Zb(),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit;c.Db(1),c.wc("ngStyle",c.Bc(4,W,a.color)),c.Db(3),c.Wc(a.title),c.Db(1),c.wc("ngStyle",c.Bc(6,H,a.color)),c.Db(1),c.Wc(a.value)}}function Q(e,t){if(1&e&&(c.ac(0,"div",20),c.Tc(1,J,7,8,"div",21),c.Zb()),2&e){var n=c.qc();c.Db(1),c.wc("ngForOf",n.listOfKpiDetails)}}function q(e,t){if(1&e&&(c.ac(0,"div",27),c.Vb(1,"div",28),c.Zb()),2&e){var n=c.qc();c.Db(1),c.wc("chart",n.kpiDetailsChart)}}var X=function(){return{standalone:!0}},Y=function(){function e(e,t,n,a,o,i){var r=this;this.fb=e,this.data=t,this.dialogRef=n,this.dialog=a,this.datashare=o,this.cd=i,this.selectedLayers={},this.selectedLayerCtrl=new S.f,this.kpiDetailsChartOther=new _.a({exporting:{enabled:!1},chart:{type:"column",backgroundColor:"transparent",height:250,spacingTop:20},title:{text:null},yAxis:[{min:0,max:100,tickInterval:50,title:{text:"% Area covered wrt DL <br> Throughput range(CDF)",rotation:270,x:5,style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}},labels:{format:"{value}%",style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}},opposite:!0},{min:0,max:100,tickInterval:50,title:{text:"% Area covered wrt DL <br> Throughput range(PDF)",x:-15,style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}},labels:{format:"{value}%",style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}}}],xAxis:{categories:["0 <= <br>THP<br>< 2","2 <= <br>THP<br>< 6","6 <= <br>THP<br>< 10","10 <= <br>THP<br>< 20","20 <= <br>THP<br>< 26","26 <= <br>THP<br>< 100"],labels:{style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"10px"},rotation:0}},legend:{enabled:!1},plotOptions:{series:{color:"yellow",marker:{enabled:!0},events:{legendItemClick:function(e){if(!this.visible)return!0;for(var t=this.index,n=this.chart.series,a=0;a<n.length;a++)n[a].index!=t&&(n[a].visible?n[a].hide():n[a].show());return!1}}},column:{borderRadius:8,pointWidth:16,dataLabels:{enabled:!0,style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}}}},credits:{enabled:!1},series:[{name:"Brands",type:"column",yAxis:1,data:[{name:"0 <= <br>THP<br>< 2",y:.01,color:"#fa151b"},{name:"2 <= <br>THP<br>< 6",y:3.05,color:"#FC9337"},{name:"6 <= <br>THP<br>< 10",y:3.7,color:"#96ce58"},{name:"10 <= <br>THP<br>< 20",y:34.08,color:"#3eaf1e"},{name:"20 <= <br>THP<br>< 26",y:5.03,color:"#3aa4f2"},{name:"26 <= <br>THP<br>< 100",y:54.13,color:"#0f73bd"}]},{name:"Temperature",type:"spline",data:[0,3.05,3.07,40,48,100]}]}),this.listOfKpiDetailsOther=[{title:"Atoll Planned RSRP ALL",color:"#4CAF50",value:"-60.54 dBm"},{title:"Atoll Planned RSRP 2300",color:"#03A9F4",value:"-66.39 dBm"},{title:"Atoll Planned RSRP 1800",color:"#4CAF50",value:"-63.01 dBm"},{title:"Atoll Planned RSRP 850",color:"#FF9800",value:"-61.38 dBm"},{title:"NetVelocity RSRP ALL",color:"#F44336",value:"-100.90 dBm"},{title:"NetVelocity RSRP 2300",color:"#FF9800",value:"-100.92 dBm"},{title:"NetVelocity RSRP 1800",color:"#F44336",value:"-100.63 dBm"},{title:"NetVelocity RSRP 850",color:"#3F51B5",value:"-100.38 dBm"}],this.showChart=!1,this.datashare.leftNavSelectedLayerMessage.subscribe((function(e){r.selectedLayers=e}))}return e.prototype.ngOnInit=function(){var e=this;this.dialogRef.afterOpened().subscribe((function(){e.inited=!0}))},e.prototype.ngAfterViewInit=function(){this.cd.detectChanges()},e.prototype.onCloseClick=function(){this.inited&&this.dialogRef.close()},e.prototype.openedChange=function(e){this.selectedLayerSearchValue=""},e.prototype.kpiSettingPopFun=function(){var e=this.dialog.open(F,{height:"600px",panelClass:"table-view-layers-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0});e.backdropClick().subscribe((function(t){e.close()}))},e.prototype.kpiDetailsChartPopFun=function(){this.showChart=!this.showChart,console.log(this.showChart)},e.prototype.onChangeLayer=function(e){switch(this.kpiDetailsChart&&this.kpiDetailsChart.destroy(),this.selectedLayerTableName=e.value,this.selectedLayerTableName){case"Sites-OnAir-Macro-Macro4G":this.listOfKpiDetails=[{title:"Macro Planned RSRP ALL",color:"#0f73bd",value:"-60.54 dBm"},{title:"Macro Planned RSRP 2300",color:"#0f73bd",value:"-66.39 dBm"},{title:"Macro Planned RSRP 1800",color:"#0f73bd",value:"-63.01 dBm"},{title:"Macro Planned RSRP 850",color:"#0f73bd",value:"-61.38 dBm"},{title:"NetVelocity Macro RSRP ALL",color:"#96ce58",value:"-100.90 dBm"},{title:"NetVelocity Macro RSRP 2300",color:"#96ce58",value:"-100.92 dBm"},{title:"NetVelocity Macro RSRP 1800",color:"#96ce58",value:"-100.63 dBm"},{title:"NetVelocity Macro RSRP 850",color:"#96ce58",value:"-100.38 dBm"}],this.kpiDetailsChart=new _.a({exporting:{enabled:!1},chart:{type:"column",backgroundColor:"transparent",height:250,spacingTop:20},title:{text:null},yAxis:[{min:0,max:100,tickInterval:50,title:{text:"% Macro Area covered wrt DL <br> Throughput range(CDF)",rotation:270,x:5,style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}},labels:{format:"{value}%",style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}},opposite:!0},{min:0,max:100,tickInterval:50,title:{text:"% Area covered wrt DL Throughput range(PDF)",style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}},labels:{format:"{value}%",style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}}}],xAxis:{categories:["0 <= <br>THP<br>< 2","2 <= <br>THP<br>< 6","6 <= <br>THP<br>< 10","10 <= <br>THP<br>< 20","20 <= <br>THP<br>< 26","26 <= <br>THP<br>< 100"],labels:{style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"10px"},rotation:0}},legend:{enabled:!1},plotOptions:{series:{color:"yellow",marker:{enabled:!0},events:{legendItemClick:function(e){if(!this.visible)return!0;for(var t=this.index,n=this.chart.series,a=0;a<n.length;a++)n[a].index!=t&&(n[a].visible?n[a].hide():n[a].show());return!1}}},column:{borderRadius:8,pointWidth:16,dataLabels:{enabled:!0,style:{color:"#000000",fontFamily:"Roboto",fontWeight:"normal",fontSize:"12px"}}}},credits:{enabled:!1},series:[{name:"Brands",type:"column",yAxis:1,data:[{name:"0 <= <br>THP<br>< 2",y:.01,color:"#fa151b"},{name:"2 <= <br>THP<br>< 6",y:3.05,color:"#FC9337"},{name:"6 <= <br>THP<br>< 10",y:3.7,color:"#96ce58"},{name:"10 <= <br>THP<br>< 20",y:34.08,color:"#3eaf1e"},{name:"20 <= <br>THP<br>< 26",y:5.03,color:"#3aa4f2"},{name:"26 <= <br>THP<br>< 100",y:54.13,color:"#0f73bd"}]},{name:"Temperature",type:"spline",data:[0,3.05,3.07,40,48,100]}]});break;case"Sites-OnAir-Hpodsc-HPODSC4g":this.listOfKpiDetails=this.listOfKpiDetailsOther,this.kpiDetailsChart=this.kpiDetailsChartOther}this.cd.detectChanges()},e.\u0275fac=function(t){return new(t||e)(c.Ub(S.e),c.Ub(w.a),c.Ub(w.g),c.Ub(w.b),c.Ub(p.a),c.Ub(c.h))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-kpi-details"]],viewQuery:function(e,t){var n;1&e&&(c.cd(B,!0),c.cd(E,!0),c.cd(j,!0)),2&e&&(c.Hc(n=c.nc())&&(t.KpiViewTmpl=n.first),c.Hc(n=c.nc())&&(t.KpiViewMacroTmpl=n.first),c.Hc(n=c.nc())&&(t.KpiViewTmplBack=n.first))},decls:21,vars:14,consts:[[1,"jcp-table-control-layers-container"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-table-control-layers","px-3"],["fxFlex","",1,"toolbar-table-control-title"],[1,"ic","ic-KPI-01","pr-1",2,"font-size","16px"],[1,"toolbar-table-control-icon-list"],[1,"p-2","zmdi","zmdi-tune",2,"font-size","20px",3,"click"],[1,"p-2","zmdi","zmdi-close",3,"click"],["fxLayout","row","fxLayoutAlign","start center",2,"background","white","border-radius","4px","margin","10px"],["mat-icon-button","",3,"click",4,"ngIf"],["fxFlex","40",1,"form-field-selected-layers","pt-2","px-3"],["placeholder","Selected Layer","disableOptionCentering","",3,"value","formControl","valueChange","openedChange","selectionChange"],["matInput","","autocomplete","off","placeholder","Search...",2,"height","48px !important","padding-left","15px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"kpi-details-container"],["style","width: 585px;",4,"ngIf"],["style","width: 680px;",4,"ngIf"],["mat-icon-button","",3,"click"],[1,"zmdi","zmdi-arrow-left",2,"color","#7E7E7E","font-size","18px"],[3,"value"],[2,"width","585px"],["class","kpi-details-card",4,"ngFor","ngForOf"],[1,"kpi-details-card"],[1,"kpi-details-card-container",3,"ngStyle","click"],["fxLayout","column","fxLayoutAlign","space-evenly start",1,"value-container"],[1,"kpi-details-card-title"],[1,"kpi-details-card-value",3,"ngStyle"],[2,"width","680px"],["id","kpiDetailsChartID",3,"chart"]],template:function(e,t){1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.Vb(4,"span",4),c.ac(5,"span"),c.Vc(6,"KPI Details"),c.Zb(),c.Zb(),c.ac(7,"div",5),c.ac(8,"div",6),c.mc("click",(function(){return t.kpiSettingPopFun()})),c.Zb(),c.ac(9,"div",7),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(10,"mat-divider"),c.ac(11,"div",8),c.Tc(12,G,2,0,"button",9),c.ac(13,"mat-form-field",10),c.ac(14,"mat-select",11),c.mc("valueChange",(function(e){return t.layerListValue=e}))("openedChange",(function(e){return t.openedChange(e)}))("selectionChange",(function(){return t.onChangeLayer(t.selectedLayerCtrl)})),c.ac(15,"input",12),c.mc("ngModelChange",(function(e){return t.selectedLayerSearchValue=e})),c.Zb(),c.Tc(16,U,2,2,"mat-option",13),c.rc(17,"filter"),c.Zb(),c.Zb(),c.Zb(),c.ac(18,"div",14),c.Tc(19,Q,2,1,"div",15),c.Tc(20,q,2,1,"div",16),c.Zb(),c.Zb()),2&e&&(c.Db(12),c.wc("ngIf",1==t.showChart),c.Db(2),c.wc("value",t.layerListValue)("formControl",t.selectedLayerCtrl),c.Db(1),c.wc("ngModel",t.selectedLayerSearchValue)("ngModelOptions",c.Ac(13,X)),c.Db(1),c.wc("ngForOf",c.tc(17,10,t.selectedLayers,t.selectedLayerSearchValue)),c.Db(2),c.Sc("background-color",t.showChart?"white":null),c.Db(1),c.wc("ngIf",!t.showChart),c.Db(1),c.wc("ngIf",t.showChart))},directives:[g.c,g.b,g.a,C.a,a.n,O.c,I.a,S.p,S.g,z.b,S.b,S.s,a.m,D.b,R.a,Z.o,a.o,N.b,_.b],pipes:[V.a],styles:[".jcp-table-control-layers-container[_ngcontent-%COMP%]   .kpi-details-container[_ngcontent-%COMP%]{margin:10px}.jcp-table-control-layers-container[_ngcontent-%COMP%]   .kpi-details-container[_ngcontent-%COMP%]   .kpi-details-card[_ngcontent-%COMP%]{width:175px;height:70px;margin:10px;border-radius:5px;padding:0;background-color:#fff;display:-ms-inline-flexbox;display:inline-flex}.jcp-table-control-layers-container[_ngcontent-%COMP%]   .kpi-details-container[_ngcontent-%COMP%]   .kpi-details-card[_ngcontent-%COMP%]   .kpi-details-card-container[_ngcontent-%COMP%]{border-radius:4px}.jcp-table-control-layers-container[_ngcontent-%COMP%]   .kpi-details-container[_ngcontent-%COMP%]   .kpi-details-card[_ngcontent-%COMP%]   .kpi-details-card-container[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]{width:165px;height:-webkit-fill-available;margin:8px;overflow-wrap:break-word}.jcp-table-control-layers-container[_ngcontent-%COMP%]   .kpi-details-container[_ngcontent-%COMP%]   .kpi-details-card[_ngcontent-%COMP%]   .kpi-details-card-container[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]   .kpi-details-card-title[_ngcontent-%COMP%]{font-size:13px;font-family:Lato Regular;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.jcp-table-control-layers-container[_ngcontent-%COMP%]   .kpi-details-container[_ngcontent-%COMP%]   .kpi-details-card[_ngcontent-%COMP%]   .kpi-details-card-container[_ngcontent-%COMP%]   .value-container[_ngcontent-%COMP%]   .kpi-details-card-value[_ngcontent-%COMP%]{font-size:14px;font-family:Lato Medium;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;width:100%}"]}),e}(),K=n("Wni2"),ee=n("ICiV"),te=n("9Ipa"),ne=n("bYjt"),ae=n("cUzu"),oe=n("17Os"),ie=n("nbJN");function re(e,t){if(1&e&&(c.ac(0,"mat-option",38),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.value),c.Db(1),c.Xc(" ",n.value," ")}}function se(e,t){if(1&e&&(c.ac(0,"mat-option",38),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.value),c.Db(1),c.Xc(" ",n.value," ")}}function le(e,t){if(1&e&&(c.ac(0,"mat-option",38),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.value),c.Db(1),c.Xc(" ",n.value," ")}}var ce=function(e){return{"background-color":e}};function de(e,t){1&e&&c.Vb(0,"div",43),2&e&&c.wc("ngStyle",c.Bc(1,ce,t.$implicit.colorName))}function pe(e,t){if(1&e&&(c.ac(0,"mat-option",38),c.ac(1,"div",39),c.ac(2,"div",40),c.Vc(3),c.Zb(),c.ac(4,"div",41),c.Tc(5,de,1,3,"div",42),c.Zb(),c.Zb(),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.name),c.Db(3),c.Xc(" ",n.name,""),c.Db(2),c.wc("ngForOf",n.value)}}function ue(e,t){1&e&&c.Vb(0,"div",43),2&e&&c.wc("ngStyle",c.Bc(1,ce,t.$implicit.colorName))}function he(e,t){if(1&e&&(c.ac(0,"mat-select-trigger"),c.ac(1,"div",39),c.ac(2,"div",40),c.Vc(3),c.Zb(),c.ac(4,"div",41),c.Tc(5,ue,1,3,"div",42),c.Zb(),c.Zb(),c.Zb()),2&e){var n=t.$implicit;c.Db(3),c.Xc(" ",n.name,""),c.Db(2),c.wc("ngForOf",n.value)}}function me(e,t){if(1&e&&(c.ac(0,"div",44),c.ac(1,"div",45),c.ac(2,"mat-form-field",46),c.Vb(3,"input",47,48),c.ac(5,"mat-hint",49),c.Vc(6,"(Max.25 Characters)"),c.Zb(),c.ac(7,"mat-hint",50),c.Vc(8),c.Zb(),c.Zb(),c.Zb(),c.ac(9,"div",45),c.ac(10,"mat-form-field",46),c.Vb(11,"input",51,52),c.ac(13,"mat-hint",49),c.Vc(14,"(Max. 2 Max. 9)"),c.Zb(),c.ac(15,"mat-hint",50),c.Vc(16),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&e){var n=c.Ic(4),a=c.Ic(12);c.Db(8),c.Xc("",n.value.length," / 25"),c.Db(8),c.Xc("",a.value.length," / 9")}}function fe(e,t){if(1&e&&(c.ac(0,"div",57),c.ac(1,"mat-checkbox",58),c.Vc(2),c.Zb(),c.Zb()),2&e){var n=t.$implicit;c.Db(1),c.wc("checked",n.staus)("disabled",n.disabled),c.Db(1),c.Wc(n.name)}}function ge(e,t){1&e&&c.Vb(0,"mat-divider")}function be(e,t){if(1&e&&(c.ac(0,"div",53),c.ac(1,"div",54),c.Tc(2,fe,3,3,"div",55),c.Zb(),c.Tc(3,ge,1,0,"mat-divider",56),c.Zb()),2&e){var n=t.$implicit,a=t.last,o=c.qc();c.Db(2),c.wc("ngForOf",n.checks)("ngForTrackBy",o.trackByMethod),c.Db(1),c.wc("ngIf",!a)}}var ye=function(){function e(e,t,n,a,o,i,r,s,l,c){this.elRef=e,this.datatable=t,this.datashare=n,this.location=a,this.router=o,this.overlayContainer=i,this.httpClient=r,this.fb=s,this.data=l,this.dialogRef=c,this.gridPinned=!1,this.frameworkComponentsMyReport={colorDropdownRenderer:ee.a,inputRenderer:K.a},this.url="assets/data/report/my-report.json",this.defaultColDef={resizable:!0},this.technologySelected="5G",this.technologyList=[{value:"5G",viewValue:"5G"},{value:"4G",viewValue:"4G"}],this.kpiSelected="Coverage",this.kpiList=[{value:"Coverage",viewValue:"Coverage"},{value:"RSRP",viewValue:"RSRP"},{value:"SINR",viewValue:"SINR"},{value:"RSRQ",viewValue:"RSRQ"},{value:"UL TX Power",viewValue:"UL TX Power"}],this.bandSelected="850 MHz",this.bandList=[{value:"850 MHz",viewValue:"850 MHz"},{value:"1800 MHz",viewValue:"1800 MHz"},{value:"2300 MHz",viewValue:"2300 MHz"}],this.paletteSelected="NPE View",this.paletteList=[{name:"NPE View",value:[{colorName:"#F44336"},{colorName:"#FF9800"},{colorName:"#8BC34A"},{colorName:"#4CAF50"},{colorName:"#03A9F4"},{colorName:"#3F51B5"}]}],this.kpidisplayslist=[{name:"In-Building",checks:[{staus:!0,disabled:!1,name:"Atoll"},{staus:!1,disabled:!0,name:"Customer Measured Coverage"},{staus:!0,disabled:!1,name:"Smart Network Coverage"},{staus:!0,disabled:!1,name:"Netvelocity"},{staus:!0,disabled:!1,name:"Live Drive/ Quick Drive"},{staus:!1,disabled:!0,name:"Sites"},{staus:!1,disabled:!0,name:"Indoor Coverage"},{staus:!1,disabled:!0,name:"Indoor Coverage"},{staus:!0,disabled:!1,name:"Accuver"},{staus:!0,disabled:!1,name:"Competitive Coverage"},{staus:!0,disabled:!1,name:"I-Smart Network Coverage"},{staus:!0,disabled:!1,name:"Network Accepted Coverage"},{staus:!1,disabled:!0,name:"GeoBond Drive"},{staus:!0,disabled:!1,name:"GeoBond Drive"}]}],this.addNumberRage=!1,this.gridOptions={},this.httpClientRowData(),this.createColumnDefs()}return e.prototype.onReadyModeUpdate=function(e){this.calculateRowCount()},e.prototype.calculateRowCount=function(){var e=this;this.gridOptions.api&&this.rowData&&setTimeout((function(){e.gridOptions.api.sizeColumnsToFit()}),1e3)},e.prototype.onReady=function(e){console.log(e,"onReady"),this.gridApi=e.api,this.calculateRowCount()},e.prototype.httpClientRowData=function(){var e=this;this.httpClient.get("assets/data/layers/custom_legends.json").subscribe((function(t){e.rowData=t,e.datatable.rowDataURLServices=e.url,e.datatable.typeOfAgGridTable="Default-Ag-Grid-without-Pagination",e.datatable.rowDataServices=e.rowData,e.datatable.gridPinnedServices=e.gridPinned,e.datatable.gridOptionsServices=e.gridOptions,e.datatable.defaultColDefServices=e.defaultColDef}))},e.prototype.createColumnDefs=function(){this.columnDefs=[{headerName:"SR .No",field:"srno",width:115,pinned:"left"},{headerName:"Color",cellRenderer:"colorDropdownRenderer",width:100,pinned:"left"},{headerName:"2G",field:"2g",cellRenderer:"inputRenderer",width:140},{headerName:"3G",field:"3g",width:140},{headerName:"4G",field:"4g",width:140},{headerName:"Legend",field:"legend",width:180}],this.datatable.columnDefsServices=this.columnDefs},e.prototype.ngOnInit=function(){var e=this;this.dialogRef.afterOpened().subscribe((function(){e.inited=!0}))},e.prototype.onCloseClick=function(){this.inited&&this.dialogRef.close()},e.prototype.onChange=function(e){this.paletteSelected=e.value},e.prototype.trackByMethod=function(e,t){return t.id},e.prototype.addNumberRageFun=function(){this.addNumberRage=!this.addNumberRage},e.\u0275fac=function(t){return new(t||e)(c.Ub(c.l),c.Ub(te.a),c.Ub(p.a),c.Ub(a.j),c.Ub(i.b),c.Ub(ne.e),c.Ub(ae.b),c.Ub(S.e),c.Ub(w.a),c.Ub(w.g))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-custom-legends"]],decls:56,vars:15,consts:[[1,"jcp-customLegends-setting-control-layers-container"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-customLegends-setting-control-layers","px-3"],["fxFlex","",1,"toolbar-customLegends-setting-control-title"],[1,"toolbar-customLegends-setting-control-icon-list"],[1,"p-2","zmdi","zmdi-close",3,"click"],[1,"customLegends-setting-container"],[1,"customLegends-setting-card"],["fxLayout","row wrap","fxLayoutAlign","space-around center",1,"customLegends-setting-row"],["fxFlex","50",1,"customLegends-setting-type"],[1,"form-field-selected-layers","px-3"],["disableOptionCentering","","placeholder","Select Technology",1,"mat-select-selected-layers",3,"value","valueChange"],["singleSelect",""],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["disableOptionCentering","","placeholder","Select KPI",1,"mat-select-selected-layers",3,"value","valueChange"],["fxFlex","100",1,"customLegends-setting-type"],["disableOptionCentering","","placeholder","Select Band",1,"mat-select-selected-layers",3,"value","valueChange"],["fxFlex","70",1,"customLegends-setting-type"],[1,"form-field-selected-palette","px-3","w-100"],["id","colorPalette","disableOptionCentering","","placeholder","",1,"mat-select-selected-layers",3,"value","selectionChange","valueChange"],[3,"value",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],["fxFlex","30","fxLayout","row wrap","fxLayoutAlign","space-around center",1,"customLegends-setting-type"],[1,"zmdi","zmdi-plus",3,"click"],[1,"zmdi","zmdi-edit"],[1,"zmdi","zmdi-delete"],["class","customLegends-setting-type","fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center",4,"ngIf"],[1,"customLegends-setting-card","p-0",2,"border-radius","4px","height","210px"],[1,"customLegends-setting-card","p-0",2,"border-radius","4px"],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-kpi-setting-control-layers","px-3"],["fxFlex","",1,"toolbar-kpi-setting-control-title"],[1,"kpi-setting-container"],["fxLayout","column","class","kpi-setting-list-container p-0",4,"ngFor","ngForOf","ngForTrackBy"],["mat-dialog-actions","","fxLayout","row",1,"p-0"],["fxFlex",""],[1,"p-2","my-flex-item"],["mat-stroked-button","","color","primary",1,"buttonCustomeLegends"],["mat-raised-button","","color","primary",1,"buttonCustomeLegends"],[3,"value"],[2,"display","inline-flex"],[1,"px-2"],[2,"display","inline-flex","margin","auto"],["style","width: 25px;height: 5px;",3,"ngStyle",4,"ngFor","ngForOf"],[2,"width","25px","height","5px",3,"ngStyle"],["fxFlex","100","fxLayout","row wrap","fxLayoutAlign","space-around center",1,"customLegends-setting-type"],["fxFlex","50",1,"px-3"],[1,"w-100"],["matInput","","placeholder","Name","maxlength","25","value","3"],["nameMsg",""],["align","start",2,"font-family","Lato Italic","font-size","10px"],["align","end"],["matInput","","placeholder","Number of Range","value","33"],["nameMsgRange",""],["fxLayout","column",1,"kpi-setting-list-container","p-0"],["fxLayout","row wrap","fxLayoutAlign","start center",1,"kpi-setting-list-child-container","px-1"],["class","kpi-setting-list-child-check","fxFlex","50",4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["fxFlex","50",1,"kpi-setting-list-child-check"],[3,"checked","disabled"]],template:function(e,t){1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"span"),c.Vc(5,"Custom Legends & Ranges : Layer Settings"),c.Zb(),c.Zb(),c.ac(6,"div",4),c.ac(7,"div",5),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(8,"mat-divider"),c.ac(9,"div",6),c.ac(10,"mat-card",7),c.ac(11,"div",8),c.ac(12,"div",9),c.ac(13,"mat-form-field",10),c.ac(14,"mat-select",11,12),c.mc("valueChange",(function(e){return t.technologySelected=e})),c.Tc(16,re,2,2,"mat-option",13),c.Zb(),c.Zb(),c.Zb(),c.ac(17,"div",9),c.ac(18,"mat-form-field",10),c.ac(19,"mat-select",14,12),c.mc("valueChange",(function(e){return t.kpiSelected=e})),c.Tc(21,se,2,2,"mat-option",13),c.Zb(),c.Zb(),c.Zb(),c.ac(22,"div",15),c.ac(23,"mat-form-field",10),c.ac(24,"mat-select",16,12),c.mc("valueChange",(function(e){return t.bandSelected=e})),c.Tc(26,le,2,2,"mat-option",13),c.Zb(),c.Zb(),c.Zb(),c.ac(27,"div",17),c.ac(28,"mat-form-field",18),c.ac(29,"mat-select",19),c.mc("selectionChange",(function(e){return t.onChange(e)}))("valueChange",(function(e){return t.paletteSelected=e})),c.Tc(30,pe,6,3,"mat-option",20),c.Tc(31,he,6,2,"mat-select-trigger",21),c.Zb(),c.Zb(),c.Zb(),c.ac(32,"div",22),c.ac(33,"div",23),c.mc("click",(function(){return t.addNumberRageFun()})),c.Zb(),c.Vb(34,"div",24),c.Vb(35,"div",25),c.Zb(),c.Tc(36,me,17,2,"div",26),c.Zb(),c.Zb(),c.ac(37,"mat-card",27),c.Vb(38,"app-table-ag-grid"),c.Zb(),c.ac(39,"mat-card",28),c.ac(40,"div",29),c.ac(41,"div",30),c.ac(42,"span"),c.Vc(43,"Apply To"),c.Zb(),c.Zb(),c.Zb(),c.Vb(44,"mat-divider"),c.ac(45,"div",31),c.Tc(46,be,4,3,"div",32),c.Zb(),c.Zb(),c.Zb(),c.Vb(47,"mat-divider"),c.ac(48,"div",33),c.Vb(49,"div",34),c.ac(50,"div",35),c.ac(51,"button",36),c.Vc(52,"Reset To Defaults"),c.Zb(),c.Zb(),c.ac(53,"div",35),c.ac(54,"button",37),c.Vc(55,"Save Settings"),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Db(14),c.wc("value",t.technologySelected),c.Db(2),c.wc("ngForOf",t.technologyList)("ngForTrackBy",t.trackByMethod),c.Db(3),c.wc("value",t.kpiSelected),c.Db(2),c.wc("ngForOf",t.kpiList)("ngForTrackBy",t.trackByMethod),c.Db(3),c.wc("value",t.bandSelected),c.Db(2),c.wc("ngForOf",t.bandList)("ngForTrackBy",t.trackByMethod),c.Db(3),c.wc("value",t.paletteSelected),c.Db(1),c.wc("ngForOf",t.paletteList),c.Db(1),c.wc("ngForOf",t.paletteList),c.Db(5),c.wc("ngIf",t.addNumberRage),c.Db(10),c.wc("ngForOf",t.kpidisplayslist)("ngForTrackBy",t.trackByMethod))},directives:[g.c,g.b,g.a,C.a,oe.a,O.c,I.a,a.m,a.n,ie.a,w.c,D.b,Z.o,a.o,N.b,I.c,z.b,O.f,k.a],styles:[".buttonCustomeLegends[_ngcontent-%COMP%]{width:156px;height:40px}"]}),e}(),ve=n("InnR"),xe=n("99lF"),we=n("lXyJ"),Ce=["select"];function Le(e,t){if(1&e&&(c.ac(0,"mat-option",21),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.parentToChild),c.Db(1),c.Xc(" ",n.parentToChild," ")}}function Me(e,t){if(1&e&&(c.ac(0,"div",26),c.Vb(1,"div",27),c.Zb()),2&e){var n=t.$implicit;c.Db(1),c.Sc("background-color",n.legend)}}function Se(e,t){if(1&e){var n=c.bc();c.ac(0,"div",22),c.ac(1,"div",23),c.Tc(2,Me,2,2,"div",24),c.Zb(),c.ac(3,"ng5-slider",25),c.mc("valueChange",(function(e){return c.Mc(n),c.qc().minValue=e}))("highValueChange",(function(e){return c.Mc(n),c.qc().maxValue=e})),c.Zb(),c.Zb()}if(2&e){var a=c.qc();c.Db(2),c.wc("ngForOf",a.items),c.Db(1),c.wc("manualRefresh",a.manualRefresh)("value",a.minValue)("highValue",a.maxValue)("options",a.options)}}function De(e,t){if(1&e&&(c.ac(0,"div"),c.ac(1,"div",30),c.Vb(2,"img",31),c.ac(3,"div"),c.Vc(4),c.Zb(),c.Zb(),c.Vb(5,"mat-divider"),c.Zb()),2&e){var n=t.$implicit;c.Db(2),c.xc("src",n.svg,c.Oc),c.Db(2),c.Wc(n.name)}}function ke(e,t){if(1&e&&(c.ac(0,"div",28),c.Tc(1,De,6,2,"div",29),c.Zb()),2&e){var n=c.qc();c.Db(1),c.wc("ngForOf",n.legendList)}}function Ae(e,t){if(1&e){var n=c.bc();c.ac(0,"div",32),c.ac(1,"table"),c.ac(2,"thead"),c.ac(3,"tr",33),c.ac(4,"th",34),c.Vc(5,"SR. No."),c.Zb(),c.ac(6,"th",35),c.Vc(7," Color "),c.Zb(),c.ac(8,"th"),c.Vc(9,"Logical Connectivity"),c.Zb(),c.Zb(),c.Zb(),c.ac(10,"tbody"),c.ac(11,"tr",36),c.ac(12,"td",37),c.Vc(13," 1 "),c.Zb(),c.ac(14,"td"),c.ac(15,"div",38),c.Vb(16,"input",39),c.Vb(17,"div",40),c.ac(18,"mat-icon",41),c.mc("colorPickerChange",(function(e){return c.Mc(n),c.qc().colorFill=e})),c.Zb(),c.Zb(),c.Zb(),c.ac(19,"td"),c.Vc(20," AG2-OLT "),c.Zb(),c.Zb(),c.ac(21,"tr",36),c.ac(22,"td",37),c.Vc(23," 2 "),c.Zb(),c.ac(24,"td"),c.ac(25,"div",38),c.Vb(26,"input",39),c.Vb(27,"div",40),c.ac(28,"mat-icon",41),c.mc("colorPickerChange",(function(e){return c.Mc(n),c.qc().colorFill2=e})),c.Zb(),c.Zb(),c.Zb(),c.ac(29,"td"),c.Vc(30," OLT-Splitter1 "),c.Zb(),c.Zb(),c.ac(31,"tr",36),c.ac(32,"td",37),c.Vc(33," 3 "),c.Zb(),c.ac(34,"td"),c.ac(35,"div",38),c.Vb(36,"input",39),c.Vb(37,"div",40),c.ac(38,"mat-icon",41),c.mc("colorPickerChange",(function(e){return c.Mc(n),c.qc().colorFill3=e})),c.Zb(),c.Zb(),c.Zb(),c.ac(39,"td"),c.Vc(40," Splitter1-Splitter2 "),c.Zb(),c.Zb(),c.ac(41,"tr",36),c.ac(42,"td",37),c.Vc(43," 4 "),c.Zb(),c.ac(44,"td"),c.ac(45,"div",38),c.Vb(46,"input",39),c.Vb(47,"div",40),c.ac(48,"mat-icon",41),c.mc("colorPickerChange",(function(e){return c.Mc(n),c.qc().colorFill4=e})),c.Zb(),c.Zb(),c.Zb(),c.ac(49,"td"),c.Vc(50," Splitter2-ONT "),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb()}if(2&e){var a=c.qc();c.Db(16),c.wc("value",a.colorFill),c.Db(1),c.Sc("background",a.colorFill,c.Nb),c.Db(1),c.wc("colorPicker",a.colorFill)("cpPosition","top"),c.Db(8),c.wc("value",a.colorFill2),c.Db(1),c.Sc("background",a.colorFill2,c.Nb),c.Db(1),c.wc("colorPicker",a.colorFill2)("cpPosition","top"),c.Db(8),c.wc("value",a.colorFill3),c.Db(1),c.Sc("background",a.colorFill3,c.Nb),c.Db(1),c.wc("colorPicker",a.colorFill3)("cpPosition","top"),c.Db(8),c.wc("value",a.colorFill3),c.Db(1),c.Sc("background",a.colorFill4,c.Nb),c.Db(1),c.wc("colorPicker",a.colorFill4)("cpPosition","top")}}var Pe=function(){return{standalone:!0}},Te=function(){function e(e,t,n,a,o,i,r){var s=this;this.dialog=e,this.fb=t,this.data=n,this.dialogRef=a,this.datashare=o,this.cd=i,this.cpService=r,this.selectedLayers={},this.selectedLayerCtrl=new S.f,this.allSelected=!1,this.colorFill="red",this.colorFill2="orange",this.colorFill3="blue",this.colorFill4="pink",this.manualRefresh=new c.o,this.items=[{value:1,legend:"#F44336"},{value:3,legend:"#FF9800"},{value:5,legend:"#8BC34A"},{value:8,legend:"#3F51B5"},{value:9,legend:"#03A9F4"}],this.legendList=[{svg:"assets/images/Layers/topologies/strcu-equip-legend/AG1.png",name:"AG1"},{svg:"assets/images/Layers/topologies/strcu-equip-legend/AG2.png",name:"AG2"}],this.options={floor:-140,ceil:-40,step:20,showSelectionBarFromValue:0,showTicks:!0,getLegend:function(e){return"<b></b>"+e}},this.formDate=this.fb.group({selected:[{startDate:"2019-12-11T18:30:00.000Z",endDate:"2019-12-12T18:29:59.000Z"},S.x.required]}),this.locale={format:"YYYY-MM-DDTHH:mm:ss.SSSSZ",displayFormat:"YYYY-MM-DD",applyLabel:"Ok",clearLabel:"Clear"},this.layers=[{value:"Analytics - RF In Bulding",viewValue:"Analytics - RF In Bulding"},{value:"Analytics - RF In Bding",viewValue:"Analytics - RF In Bding"},{value:"Analytics - RF In B",viewValue:"Analytics - RF In B"}],this.date=new S.f(new Date),this.serializedDate=new S.f((new Date).toISOString()),this.showRouteLegends=!1,this.showfivegLegends=!1,this.showLogicalTopology=!1,this.showCommonLegends=!1,this.allLayers=[],this.counts={},this.datashare.leftNavSelectedLayerMessage.subscribe((function(e){s.selectedLayers=e}))}return e.prototype.ngOnInit=function(){var e=this;this.datashare.extraLayerMessage.subscribe((function(t){if(0!==Object.keys(t).length){for(var n=0;n<e.selectedLayers.length;n++)e.allLayers.push(e.selectedLayers[n].parentToChild);e.allLayers.includes("Topologies-Structure-Planned")&&!e.allLayers.includes("Logical-Connectivity")&&(e.selectedLayers[e.selectedLayers.length]=t)}})),this.datashare.removeExtraLayerMessage.subscribe((function(t){if(e.allLayers.includes(t.parentToChild)){var n=e.allLayers.indexOf(t.parentToChild);e.selectedLayers[n]={},e.selectedLayers.length=e.selectedLayers.length-1}})),this.dialogRef.afterOpened().subscribe((function(){e.inited=!0}))},e.prototype.ngAfterViewInit=function(){this.cd.detectChanges()},e.prototype.onChangeLayer=function(e){switch(console.log(e),e.value){case"Sites-OnAir-Macro-Macro4G":this.showRouteLegends=!1,this.showfivegLegends=!1,this.showLogicalTopology=!1,this.showCommonLegends=!0,this.minValue=-110,this.maxValue=-40,this.options={floor:-180,ceil:-20,step:30,showSelectionBarFromValue:0,showTicks:!0,getLegend:function(e){return"<b></b>"+e}};break;case"Topologies-Fibre-Route-Ready-Core":case"Topologies-Fibre-Route-Ready-Collector":case"Topologies-Fibre-Route-Planned-Core":case"Topologies-Fibre-Route-Planned-Collector":case"Topologies-Structure-Planned":case"Topologies-Structure-Ready":case"Topologies-Equipment-Planned":case"Topologies-Equipment-Ready":this.showRouteLegends=!0,this.showCommonLegends=!1,this.showfivegLegends=!1,this.showLogicalTopology=!1;break;case"Logical-Connectivity":this.showRouteLegends=!1,this.showCommonLegends=!1,this.showfivegLegends=!0,this.showLogicalTopology=!1;case"Logical-Connectivity-Planned":this.showRouteLegends=!1,this.showCommonLegends=!1,this.showfivegLegends=!1,this.showLogicalTopology=!0}},e.prototype.openedChange=function(e){this.selectedLayerSearchValue=""},e.prototype.onCloseClick=function(){this.inited&&this.dialogRef.close()},e.prototype.customLegendsSettingPopFun=function(){var e=this.dialog.open(ye,{width:"536px",height:"965px",position:{bottom:"0px",right:"0px"},panelClass:"table-view-layers-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0});e.backdropClick().subscribe((function(t){e.close()}))},e.prototype.ngOnDestroy=function(){this.countSub&&this.countSub.unsubscribe(),this.extraLayer&&this.extraLayer.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(c.Ub(w.b),c.Ub(S.e),c.Ub(w.a),c.Ub(w.g),c.Ub(p.a),c.Ub(c.h),c.Ub(ve.c))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-legends-and-filter"]],viewQuery:function(e,t){var n;1&e&&c.cd(Ce,!0),2&e&&c.Hc(n=c.nc())&&(t.select=n.first)},inputs:{colorOutline:"colorOutline",colorFill:"colorFill",colorFill2:"colorFill2",colorFill3:"colorFill3",colorFill4:"colorFill4"},features:[c.Cb([ve.c])],decls:28,vars:17,consts:[[1,"jcp-table-control-layers-container"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-table-control-layers","px-3"],["fxFlex","",1,"toolbar-table-control-title"],[1,"toolbar-table-control-icon-list"],[1,"p-2","zmdi","zmdi-tune",3,"click"],[1,"p-2","zmdi","zmdi-close",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"table-control-layers-filter",3,"click"],["fxFlex","40",1,"form-field-selected-layers","pt-2","px-3"],["placeholder","Selected Layer","disableOptionCentering","",3,"value","formControl","valueChange","openedChange","selectionChange"],["matInput","","autocomplete","off","placeholder","Search...",2,"height","48px !important","padding-left","15px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"legends-and-filters"],["fxLayout","row","fxLayoutAlign","end center",1,"date-legends-and-filters"],[1,"report-filter-form",3,"formGroup"],["fxFlex","35",1,"filter-selected-layers","px-3"],[1,""],["matInput","","ngxDaterangepickerMd","","formControlName","selected","placeholder","",1,"daterange-container-input",3,"showDropdowns","singleDatePicker","showCancel","locale"],["class","custom-slider p-3",4,"ngIf"],["style","height: calc(100% - 203px); overflow: auto;",4,"ngIf"],["style","overflow: auto; height: 118px;",4,"ngIf"],[3,"value"],[1,"custom-slider","p-3"],[1,"container-color"],["class","container-color-list",4,"ngFor","ngForOf"],[3,"manualRefresh","value","highValue","options","valueChange","highValueChange"],[1,"container-color-list"],[1,"container-color-block"],[2,"height","calc(100% - 203px)","overflow","auto"],[4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center"],["alt","profile picture",2,"width","26px","margin","10px 15px",3,"src"],[2,"overflow","auto","height","118px"],[2,"height","48px","background","#f2f2f2"],[2,"width","25%","padding-left","10px"],[2,"width","35%"],[2,"border-bottom","1px solid #d8d8d8"],[1,"p-3"],["fxLayout","row","fxLayoutAlign","space-between center",1,"parent-color-coding"],["type","hidden",3,"value"],[1,"color-coding"],[1,"zmdi","zmdi-caret-down",2,"text-align","center",3,"colorPicker","cpPosition","colorPickerChange"]],template:function(e,t){1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"span"),c.Vc(5,"Legends & Filters"),c.Zb(),c.Zb(),c.ac(6,"div",4),c.ac(7,"div",5),c.mc("click",(function(){return t.customLegendsSettingPopFun()})),c.Zb(),c.ac(8,"div",6),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(9,"mat-divider"),c.ac(10,"div",7),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(11,"mat-form-field",8),c.ac(12,"mat-select",9),c.mc("valueChange",(function(e){return t.layerListValue=e}))("openedChange",(function(e){return t.openedChange(e)}))("selectionChange",(function(){return t.onChangeLayer(t.selectedLayerCtrl)})),c.ac(13,"input",10),c.mc("ngModelChange",(function(e){return t.selectedLayerSearchValue=e})),c.Zb(),c.Tc(14,Le,2,2,"mat-option",11),c.rc(15,"filter"),c.Zb(),c.Zb(),c.Zb(),c.Vb(16,"mat-divider"),c.ac(17,"div",12),c.ac(18,"div",13),c.ac(19,"div"),c.Vc(20,"Date:"),c.Zb(),c.ac(21,"form",14),c.ac(22,"div",15),c.ac(23,"mat-form-field",16),c.Vb(24,"input",17),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Tc(25,Se,4,5,"div",18),c.Tc(26,ke,2,1,"div",19),c.Tc(27,Ae,51,20,"div",20),c.Zb()),2&e&&(c.Db(12),c.wc("value",t.layerListValue)("formControl",t.selectedLayerCtrl),c.Db(1),c.wc("ngModel",t.selectedLayerSearchValue)("ngModelOptions",c.Ac(16,Pe)),c.Db(1),c.wc("ngForOf",c.tc(15,13,t.selectedLayers,t.selectedLayerSearchValue)),c.Db(7),c.wc("formGroup",t.formDate),c.Db(3),c.wc("showDropdowns",!0)("singleDatePicker",!0)("showCancel",!0)("locale",t.locale),c.Db(1),c.wc("ngIf",t.showCommonLegends),c.Db(1),c.wc("ngIf",t.showRouteLegends),c.Db(1),c.wc("ngIf",t.showfivegLegends||t.showLogicalTopology))},directives:[g.c,g.b,g.a,C.a,O.c,I.a,S.p,S.g,z.b,S.b,S.s,a.m,S.z,S.q,S.j,xe.a,S.h,a.n,Z.o,we.b,R.a,ve.a],pipes:[V.a],styles:["::ng-deep .custom-slider .ng5-slider{margin:25px 0 15px}::ng-deep .custom-slider .ng5-slider .ng5-slider-pointer{width:30px;height:60px;top:-51px;bottom:0;background-image:url(bubble.63a1e1015dcaa4974410.svg);background-size:cover;background-color:rgba(0,0,0,0);border-top-left-radius:3px;border-top-right-radius:3px}::ng-deep .custom-slider .ng5-slider .ng5-slider-pointer:after{display:none}::ng-deep .custom-slider .ng5-slider .ng5-slider-bubble{font-size:12px;color:#fff;z-index:999;bottom:30px}::ng-deep .ng5-slider.animate .ng5-slider-bubble.ng5-slider-limit{display:none}::ng-deep .custom-slider .container-color{width:100%;position:absolute}::ng-deep .custom-slider .container-color .container-color-list{display:inline-block}::ng-deep .custom-slider .container-color .container-color-list .container-color-block{display:inline-block;width:100px;height:7px}::ng-deep .custom-slider .container-color .container-color-list:first-child .container-color-block{border-radius:4px 0 0 4px}::ng-deep .custom-slider .container-color .container-color-list:last-child .container-color-block{border-radius:0 4px 4px 0}.jcp-table-control-layers-container{height:320px!important}.jcp-table-control-layers-container .parent-color-coding{background:#f1f1f1;height:32px;width:48px;border-radius:6px}.jcp-table-control-layers-container .parent-color-coding .mat-icon{font-size:24px}.jcp-table-control-layers-container .parent-color-coding .color-coding{width:25px;height:24px;border-radius:4px;background-color:#fff;margin-left:4px}.jcp-table-control-layers-container .color-picker.open{top:6px!important;left:186px!important}.legends-and-filters .date-legends-and-filters .filter-selected-layers .mat-form-field-appearance-fill .mat-form-field-flex{background-color:rgba(0,0,0,0)!important}.abc{width:85px;height:6px}.mat-fab.mat-primary,.mat-flat-button.mat-primary,.mat-mini-fab.mat-primary,.mat-raised-button.mat-primary{color:#fff}"],encapsulation:2}),e}(),Fe=n("zoYF"),_e=n("5msO");function Oe(e,t){1&e&&(c.ac(0,"div",7),c.ac(1,"label",28),c.Vc(2,"Add In"),c.Zb(),c.ac(3,"div",29),c.ac(4,"mat-checkbox",30),c.Vc(5,"New Group"),c.Zb(),c.ac(6,"mat-checkbox",31),c.Vc(7,"Existing Group"),c.Zb(),c.Zb(),c.ac(8,"mat-form-field",8),c.ac(9,"mat-label"),c.Vc(10,"Group Name"),c.Zb(),c.Vb(11,"input",32),c.Zb(),c.Zb())}function Ie(e,t){if(1&e&&(c.ac(0,"mat-option",37),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.name),c.Db(1),c.Xc(" ",n.name," ")}}function ze(e,t){if(1&e&&(c.ac(0,"div",7),c.ac(1,"label",28),c.Vc(2,"Add To"),c.Zb(),c.ac(3,"div",29),c.ac(4,"mat-checkbox",33),c.Vc(5,"Target Sites"),c.Zb(),c.ac(6,"mat-checkbox",34),c.Vc(7,"Sites To be Considered for coverage"),c.Zb(),c.Zb(),c.ac(8,"mat-form-field",8),c.ac(9,"mat-label"),c.Vc(10,"Select Site Template"),c.Zb(),c.ac(11,"mat-select",35),c.Tc(12,Ie,2,2,"mat-option",36),c.Zb(),c.Zb(),c.Zb()),2&e){var n=c.qc();c.Db(12),c.wc("ngForOf",n.siteTemplateList)}}function Re(e,t){if(1&e&&(c.ac(0,"mat-option",37),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.name),c.Db(1),c.Xc(" ",n.name," ")}}function Ze(e,t){if(1&e&&(c.ac(0,"div",7),c.ac(1,"label",28),c.Vc(2,"Add To"),c.Zb(),c.ac(3,"div",29),c.ac(4,"mat-checkbox",33),c.Vc(5,"Target Sites for ACP"),c.Zb(),c.ac(6,"mat-checkbox",34),c.Vc(7,"Sites To be Considered for ACP"),c.Zb(),c.Zb(),c.ac(8,"mat-form-field",8),c.ac(9,"mat-label"),c.Vc(10,"Select Site Template"),c.Zb(),c.ac(11,"mat-select",35),c.Tc(12,Re,2,2,"mat-option",36),c.Zb(),c.Zb(),c.Zb()),2&e){var n=c.qc();c.Db(12),c.wc("ngForOf",n.siteTemplateList)}}var Ne=function(){function e(e,t,n,a,o,i){this.dataShare=e,this.dialogRef=t,this.dialog=n,this._snackBar=a,this.fb=o,this.data=i,this.pinGroupDetails=this.fb.group({pinName:["Lorem Ipsum"],latitude:["27.2048\xb0 N"],longitude:["77.4975\xb0 E"],comment:["Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod"],newGroup:[!1],existingGroup:[!0],groupName:["ConvertCSV"],TargetSites:[!0],sitesCoverage:[!1],selectSiteTemplate:["ODSC Template1"]}),this.siteTemplateList=[{name:"ODSC Template1"},{name:"ODSC Template2"}],this.layerRepresent="",this.pinZoomClosed=new c.o}return e.prototype.ngOnInit=function(){var e=this;this.dataShare.currentMessage.subscribe((function(t){e.location=t})),this.dialogRef.afterOpened().subscribe((function(){e.inited=!0})),this.dataShare.pinObject.subscribe((function(t){0!==Object.keys(t).length&&(e.layerRepresent=t.name,console.log(t.name))}))},e.prototype.onCloseClick=function(){this.inited&&(this.dataShare.changeMessage("pin-zoom-closed"),this.dialogRef.close())},e.prototype.deletePin=function(){this.pinGroupDetails.value?this._snackBar.open("Please Complete the form","",{duration:2e3,verticalPosition:"top"}):(this.dataShare.changeMessage("pin-zoom-closed"),this.dialogRef.close())},e.prototype.createNewPinDetails=function(){this.dialogRef.close()},e.prototype.saveNewPin=function(){this.dialogRef.close(),this.dataShare.changeMessage(this.pinGroupDetails.value),this.dialog.open(Fe.a,{data:{message:"Pin group created successfully.",showActionBtn:!1}})},e.\u0275fac=function(t){return new(t||e)(c.Ub(p.a),c.Ub(w.g),c.Ub(w.b),c.Ub(_e.b),c.Ub(S.e),c.Ub(w.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-pin-zoom"]],outputs:{pinZoomClosed:"pinZoomClosed"},decls:50,vars:5,consts:[[1,"h-100","pin-zoom-container",2,"background","white"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-table-control-layers","px-3",2,"height","50px"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","",1,"location"],[1,"toolbar-table-control-icon-list"],[1,"p-2","zmdi","zmdi-close",3,"click"],[3,"formGroup"],[2,"margin-top","10px"],[1,"example-full-width","col-12"],["matInput","","value","Convert","formControlName","pinName"],[1,"row-flex"],[1,"example-full-width","col-6"],["matInput","","value","Convert","formControlName","latitude"],["matInput","","value","Convert","formControlName","longitude"],["matInput","","value","Convert","formControlName","comment"],["style","margin-top: 10px;",4,"ngIf"],["fxLayout","row wrap",2,"margin-bottom","10px"],[1,"col"],[1,"mr-1","successful-text-button"],["mat-stroked-button","","color","primary",1,"success-butt",2,"margin-left","8px",3,"click"],[1,"ml-1","successful-text-button"],["mat-raised-button","","color","primary",1,"success-butt",2,"margin","0px 15px",3,"click"],["mat-dialog-actions","","fxLayout","row",1,"successful-text-action-container"],["mat-stroked-button","","color","primary",1,"success-butt","save-all-pins",2,"margin-left","8px",3,"click"],[1,"zmdi","zmdi-bookmark-outline","save-all-pins-logo"],[1,"ml-1","successful-text-button",2,"position","absolute","right","0","margin-right","10px"],["mat-raised-button","","color","primary",1,"success-butt","export-all-pins",2,"margin","0px3px"],[1,"ic","ic-download","export-all-pins-logo"],[2,"margin-left","15px"],[1,"check-selection",2,"margin-left","5px"],["formControlName","newGroup",1,"example-margin"],["formControlName","existingGroup",1,"example-margin"],["matInput","","value","Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod","formControlName","groupName"],["formControlName","TargetSites",1,"example-margin"],["formControlName","sitesCoverage",1,"example-margin"],["placeholder","Select Site Template","formControlName","selectSiteTemplate","disableOptionCentering","","disableOptionCentering","","ngDefaultControl",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"]],template:function(e,t){1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"div"),c.Vc(5),c.Zb(),c.Zb(),c.ac(6,"div",4),c.ac(7,"div",5),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(8,"mat-divider"),c.ac(9,"form",6),c.ac(10,"div",7),c.ac(11,"mat-form-field",8),c.ac(12,"mat-label"),c.Vc(13,"Pin Name"),c.Zb(),c.Vb(14,"input",9),c.Zb(),c.ac(15,"div",10),c.ac(16,"mat-form-field",11),c.ac(17,"mat-label"),c.Vc(18,"Latitude"),c.Zb(),c.Vb(19,"input",12),c.Zb(),c.ac(20,"mat-form-field",11),c.ac(21,"mat-label"),c.Vc(22,"Longitude"),c.Zb(),c.Vb(23,"input",13),c.Zb(),c.Zb(),c.ac(24,"mat-form-field",8),c.ac(25,"mat-label"),c.Vc(26,"Comment"),c.Zb(),c.Vb(27,"input",14),c.Zb(),c.Vb(28,"mat-divider"),c.Tc(29,Oe,12,0,"div",15),c.Tc(30,ze,13,1,"div",15),c.Tc(31,Ze,13,1,"div",15),c.Zb(),c.ac(32,"div",16),c.Vb(33,"div",17),c.ac(34,"div",18),c.ac(35,"button",19),c.mc("click",(function(){return t.deletePin()})),c.Vc(36,"Delete"),c.Zb(),c.Zb(),c.ac(37,"div",20),c.ac(38,"button",21),c.mc("click",(function(){return t.saveNewPin()})),c.Vc(39,"Apply"),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Vb(40,"mat-divider"),c.ac(41,"div",22),c.ac(42,"div",18),c.ac(43,"button",23),c.mc("click",(function(){return t.saveNewPin()})),c.Vb(44,"span",24),c.Vc(45,"Save All Pins "),c.Zb(),c.Zb(),c.ac(46,"div",25),c.ac(47,"button",26),c.Vb(48,"span",27),c.Vc(49,"Export All Pins "),c.Zb(),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Db(5),c.Wc(t.location),c.Db(4),c.wc("formGroup",t.pinGroupDetails),c.Db(20),c.wc("ngIf",""==t.layerRepresent),c.Db(1),c.wc("ngIf","nominal-generation-layer"==t.layerRepresent),c.Db(1),c.wc("ngIf","nominal-validation-layer"==t.layerRepresent))},directives:[g.c,g.b,g.a,C.a,S.z,S.q,S.j,O.c,O.g,z.b,S.b,S.p,S.h,a.n,D.b,w.c,k.a,I.a,a.m,Z.o],styles:[".pin-zoom-container[_ngcontent-%COMP%]   .toolbar-control-title[_ngcontent-%COMP%]{font-family:Lato regular;font-size:16px;letter-spacing:0;color:#000;opacity:.85}.pin-zoom-container[_ngcontent-%COMP%]   .toolbar-control-title[_ngcontent-%COMP%]   .location[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%}.save-all-pins[_ngcontent-%COMP%]{border:none}.export-all-pins[_ngcontent-%COMP%], .save-all-pins[_ngcontent-%COMP%]{background:rgba(0,0,0,0);color:#0078d7}.export-all-pins[_ngcontent-%COMP%]{box-shadow:none}.save-all-pins-logo[_ngcontent-%COMP%]{font-size:20px;margin-right:8px}.export-all-pins-logo[_ngcontent-%COMP%]{margin-right:8px}"]}),e}(),Ve=(n("92D4"),n("hFpR"),n("2WDa")),Be=n("K9Ia"),Ee=n("OJ6B"),je=n("st1I"),Ge=n("mWkv"),Ue=["sidenav"],We=["tableViewTmpl"];function He(e,t){if(1&e&&(c.ac(0,"mat-option",17),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.wc("value",n.parentToChild),c.Db(1),c.Xc(" ",n.parentToChild," ")}}function Je(e,t){if(1&e&&(c.ac(0,"span"),c.Vc(1),c.Zb()),2&e){var n=c.qc();c.Db(1),c.Xc("- ",n.optionJioStateValue,"")}}function $e(e,t){1&e&&c.Vb(0,"div",37)}function Qe(e,t){if(1&e){var n=c.bc();c.ac(0,"button",38),c.mc("click",(function(){return c.Mc(n),c.qc().listFilterJioStates=""})),c.ac(1,"mat-icon"),c.Vc(2,"close"),c.Zb(),c.Zb()}}function qe(e,t){if(1&e){var n=c.bc();c.ac(0,"button",23),c.mc("click",(function(){c.Mc(n);var e=t.$implicit,a=c.qc();return a.jioStateFunc(e,"jioState"),a.areaSelectionFunc(),a.onChangeLayer(a.selectedLayerCtrl)})),c.ac(1,"div"),c.Vc(2),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit;c.Db(2),c.Wc(a.nameState)}}function Xe(e,t){if(1&e&&(c.ac(0,"span"),c.Vc(1),c.Zb()),2&e){var n=c.qc();c.Db(1),c.Xc("- ",n.optionjioCentersValue,"")}}function Ye(e,t){1&e&&c.Vb(0,"div",37)}function Ke(e,t){if(1&e){var n=c.bc();c.ac(0,"button",38),c.mc("click",(function(){return c.Mc(n),c.qc().listFilterjioCenters=""})),c.ac(1,"mat-icon"),c.Vc(2,"close"),c.Zb(),c.Zb()}}function et(e,t){if(1&e){var n=c.bc();c.ac(0,"button",23),c.mc("click",(function(){c.Mc(n);var e=t.$implicit,a=c.qc();return a.jioCentersFunc(e,"jioCenter"),a.areaSelectionFunc(),a.onChangeLayer(a.selectedLayerCtrl)})),c.ac(1,"div"),c.Vc(2),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit;c.Db(2),c.Wc(a.nameState)}}function tt(e,t){if(1&e){var n=c.bc();c.ac(0,"div",43),c.ac(1,"mat-radio-group",44),c.mc("valueChange",(function(e){return c.Mc(n),c.qc(3).typeGroup=e})),c.ac(2,"mat-radio-button",45),c.Vc(3," Planned"),c.Zb(),c.ac(4,"mat-radio-button",46),c.Vc(5," Ready"),c.Zb(),c.Zb(),c.ac(6,"div",47),c.ac(7,"div",48),c.ac(8,"label",49),c.Vc(9,"Geography"),c.Zb(),c.ac(10,"div",50),c.Vc(11,"Pan India"),c.Zb(),c.Zb(),c.Vb(12,"mat-divider",51),c.ac(13,"div",52),c.ac(14,"label",49),c.Vc(15,"Fiber Length- Planned (KM\u2019s)"),c.Zb(),c.ac(16,"div",50),c.Vc(17,"1122"),c.Zb(),c.Zb(),c.Vb(18,"div",53),c.Zb(),c.Zb()}if(2&e){var a=c.qc(3);c.Db(1),c.wc("value",a.typeGroup),c.Db(11),c.wc("vertical",!0)}}function nt(e,t){if(1&e){var n=c.bc();c.Tc(0,tt,19,2,"div",40),c.ac(1,"ag-grid-angular",41,42),c.mc("gridReady",(function(e){return c.Mc(n),c.qc(2).onGridReady(e)}))("rowClicked",(function(e){return c.Mc(n),c.qc(2).onRowClicked(e)})),c.Zb()}if(2&e){var a=c.qc(2);c.wc("ngIf","Topologies-Fibre-Route-Planned-Core"==a.selectedLayerTableName),c.Db(1),c.wc("gridOptions",a.gridOptions)("rowData",a.rowData)("columnDefs",a.columnDefs)("enableFilter",!0)}}function at(e,t){1&e&&c.Tc(0,nt,3,5,"ng-template",null,39,c.Uc)}var ot=function(){return{standalone:!0}},it=function(){function e(e,t,n,a,o,i,r,s,l,d,p){var u=this;this.hostElement=e,this.dialogRef=t,this.data=n,this.eRef=a,this.datashare=o,this.location=i,this.router=r,this.overlayContainer=s,this.httpClient=l,this.dialog=d,this.cd=p,this.selectedLayers={},this.selectedLayerCtrl=new S.f,this.typeGroup="Planned",this._onDestroy=new Be.a,this.selectedOptionArea="Pan India",this.areaParentSelect=new S.f,this.onAdd=new c.o,this.onAddDropDown=new c.o,this.filterDataList={selectedLayerName:null,selectedAreaName:null,selectedAreaNameParent:null,rowDataTable:null,objArea:null},this.jioState_List=[{nameState:"Maharashtra",latitude:19.7515,longitude:75.7139},{nameState:"Odisha",latitude:20.9517,longitude:85.0985},{nameState:"Uttar Pradesh (East)",latitude:26.8467,longitude:80.9462},{nameState:"Kashmir",latitude:33.7782,longitude:76.5762},{nameState:"Bihar",latitude:25.0961,longitude:85.3131},{nameState:"Madhya Pradesh",latitude:22.9734,longitude:78.6569}],this.jioCenter_List=[{nameState:"AP-DMVM-JC01-0094",latitude:19.0385,longitude:72.9232},{nameState:"AP-HDBD-JC03-0865",latitude:19.04662244380717,longitude:72.9179334640503},{nameState:"AP-JGTL-JC01-0883",latitude:19.19056867766461,longitude:72.97016143798828},{nameState:"AP-KKND-JC01-0141",latitude:19.01278705937288,longitude:73.03436279296875},{nameState:"AP-MCPM-JC01-0127",latitude:18.992661070447976,longitude:73.10989379882811},{nameState:"AP-MDMI-JC01-0891",latitude:19.09975522215211,longitude:73.00861358642577},{nameState:"AP-PRUR-JC01-0103",latitude:18.992336437775784,longitude:72.83557891845703}],r.events.subscribe((function(e){return console.log(e)})),this.datashare.currentMessage.subscribe((function(e){u.sidenavBarStatus=e})),this.selectedLayerTableName="Other",this.datashare.leftNavSelectedLayerMessage.subscribe((function(e){u.selectedLayers=e})),this.JioStatesList=this.jioState_List,this.jioCentersList=this.jioCenter_List}return e.prototype.ngOnInit=function(){var e=this;console.log(this.layerListValue),this.dialogRef.afterOpened().subscribe((function(){e.inited=!0}))},e.prototype.onChangeLayer=function(e){var t=this;switch(console.log(e),this.selectedLayerTableName=e.value,this.getName=document.querySelector("#matselectarea .ng-star-inserted").firstChild,console.log(this.selectedLayerTableName),this.selectedLayerTableName){case"Macro":console.log("inside macroo"),setTimeout((function(){$(t.getName).is(":contains(Pan India)")?(t.columnDefs=[{headerName:"Macro",field:"jiostate",pinned:!0,width:150},{headerName:"<20\xb0 Macro",field:"lessThanTwenty",width:100},{headerName:"20\xb0> to <40\xb0 Macro",field:"greaterThanTwenty",width:150},{headerName:"40\xb0> to <60\xb0 Macro",field:"greaterThanForty",width:150},{headerName:">60\xb0 Macro",field:"greaterThanSixty",width:150}],t.jsonUrl="",t.httpClient.get("assets/data/layers/table-view-data/table-view-data-macro.json").subscribe((function(e){t.rowData=e}))):$(t.getName).is(":contains(Jio Center)")?(t.columnDefs=[{headerName:"Macro Center",field:"jiocenter",pinned:!0,width:180},{headerName:"Total Sites",field:"totalsites",width:180},{headerName:"Total Cells",field:"totalcells",width:150},{headerName:"4G-LTE Sites",field:"sites4glte",width:150},{headerName:"5G-NR Sites",field:"sites5gnr",width:180}],t.httpClient.get("assets/data/layers/table-view-data/table-jio-center.json").subscribe((function(e){t.rowData=e}))):$(t.getName).is(":contains(Jio State)")&&(t.columnDefs=[{headerName:"Macro State",field:"r4gstate",pinned:!0,width:150},{headerName:"Total Sites",field:"totalsites",width:180},{headerName:"Total Cells",field:"totalcells",width:150},{headerName:"4G-LTE Sites",field:"sites4glte",width:150},{headerName:"5G-NR Sites",field:"sites5gnr",width:180}],t.httpClient.get("assets/data/layers/table-view-data/table-r4gstate.json").subscribe((function(e){t.rowData=e})),t.filterDataList={selectedLayerName:t.selectedLayerTableName,selectedAreaName:t.selectedOptionArea,selectedAreaNameParent:t.selectedOptionParent,rowDataTable:null,objArea:t.objSelectedArea},t.onAddDropDown.emit(t.filterDataList))}),500);break;case"ESC":setTimeout((function(){$(t.getName).is(":contains(Pan India)")?(t.columnDefs=[{headerName:"ESC Pan",field:"jiostate",pinned:!0,width:150},{headerName:"<20\xb0",field:"lessThanTwenty",width:100},{headerName:"20\xb0> to <40\xb0",field:"greaterThanTwenty",width:150},{headerName:"40\xb0> to <60\xb0",field:"greaterThanForty",width:150},{headerName:">60\xb0",field:"greaterThanSixty",width:100}],t.httpClient.get("assets/data/layers/table-view-data/table-view-data.json").subscribe((function(e){t.rowData=e}))):$(t.getName).is(":contains(Jio Center)")?(t.columnDefs=[{headerName:"ESC Center",field:"jiocenter",pinned:!0,width:180},{headerName:"Total Sites",field:"totalsites",width:180},{headerName:"Total Cells",field:"totalcells",width:150},{headerName:"4G-LTE Sites",field:"sites4glte",width:150},{headerName:"5G-NR Sites",field:"sites5gnr",width:180}],t.httpClient.get("assets/data/layers/table-view-data/table-jio-center.json").subscribe((function(e){t.rowData=e}))):$(t.getName).is(":contains(Jio State)")&&(t.columnDefs=[{headerName:"ESC State",field:"r4gstate",pinned:!0,width:150},{headerName:"Total Sites",field:"totalsites",width:180},{headerName:"Total Cells",field:"totalcells",width:150},{headerName:"4G-LTE Sites",field:"sites4glte",width:150},{headerName:"5G-NR Sites",field:"sites5gnr",width:180}],t.httpClient.get("assets/data/layers/table-view-data/table-r4gstate.json").subscribe((function(e){t.rowData=e})),t.filterDataList={selectedLayerName:t.selectedLayerTableName,selectedAreaName:t.selectedOptionArea,selectedAreaNameParent:t.selectedOptionParent,rowDataTable:null,objArea:t.objSelectedArea},t.onAddDropDown.emit(t.filterDataList))}),500);break;case"Topologies-Fibre-Route-Ready-Core":case"Topologies-Fibre-Route-Ready-Collector":case"Topologies-Fibre-Route-Planned-Core":case"Topologies-Fibre-Route-Planned-Collector":console.log("Inside Fibre"),setTimeout((function(){$(t.getName).is(":contains(Pan India)")?(t.columnDefs=[{headerName:"All ",field:"jiostate",pinned:!0,width:150},{headerName:"AG1",field:"lessThanTwenty",width:100},{headerName:"AG2",field:"greaterThanTwenty",width:150},{headerName:"AG2+OTN",field:"greaterThanForty",width:150},{headerName:"SAG2",field:"greaterThanSixty",width:140},{headerName:"ILA",field:"greaterThanSixty",width:100},{headerName:"OSC",field:"greaterThanSixty",width:100},{headerName:"eNodeB",field:"greaterThanSixty",width:150},{headerName:"Pole",field:"greaterThanSixty",width:100}],t.httpClient.get("assets/data/layers/table-view-data/table-view-data.json").subscribe((function(e){t.rowData=e}))):$(t.getName).is(":contains(Jio Center)")?(t.columnDefs=[{headerName:"AG2 JC",field:"greaterThanTwenty",width:150},{headerName:"AG2+OTN",field:"greaterThanForty",width:150},{headerName:"SAG2",field:"greaterThanSixty",width:140},{headerName:"ILA",field:"greaterThanSixty",width:100},{headerName:"OSC",field:"greaterThanSixty",width:100},{headerName:"eNodeB",field:"greaterThanSixty",width:150},{headerName:"Pole",field:"greaterThanSixty",width:100}],t.httpClient.get("assets/data/layers/table-view-data/table-jio-center.json").subscribe((function(e){t.rowData=e}))):$(t.getName).is(":contains(Jio State)")&&(t.columnDefs=[{headerName:"AG2 JS",field:"greaterThanTwenty",width:150},{headerName:"AG2+OTN",field:"greaterThanForty",width:150},{headerName:"SAG2",field:"greaterThanSixty",width:140},{headerName:"ILA",field:"greaterThanSixty",width:100},{headerName:"OSC",field:"greaterThanSixty",width:100},{headerName:"eNodeB",field:"greaterThanSixty",width:150},{headerName:"Pole",field:"greaterThanSixty",width:100}],t.httpClient.get("assets/data/layers/table-view-data/table-r4gstate.json").subscribe((function(e){t.rowData=e})),t.filterDataList={selectedLayerName:t.selectedLayerTableName,selectedAreaName:t.selectedOptionArea,selectedAreaNameParent:t.selectedOptionParent,rowDataTable:null,objArea:t.objSelectedArea},t.onAddDropDown.emit(t.filterDataList))}),500);break;default:this.columnDefs=[],this.jsonUrl="",this.httpClient.get("").subscribe((function(e){t.rowData=e}))}this.cd.detectChanges()},e.prototype.openedChange=function(e){this.selectedLayerSearchValue=""},e.prototype.jioStateFunc=function(e,t){this.objSelectedArea=e,this.selectedOptionParent=t,this.optionJioStateValue=e.nameState,this.selectedOptionJioState=e.nameState,this.selectedOptionArea=this.selectedOptionJioState,this.listFilterJioStates=""},e.prototype.jioCentersFunc=function(e,t){this.objSelectedArea=e,this.selectedOptionParent=t,this.optionjioCentersValue=e.nameState,this.selectedOptionJioCenter=e.nameState,this.selectedOptionArea=this.selectedOptionJioCenter,this.listFilterjioCenters=""},Object.defineProperty(e.prototype,"listFilterJioStates",{get:function(){return this._listFilterJioStates},set:function(e){this._listFilterJioStates=e,this.JioStatesList=this.listFilterJioStates?this.PerformFilter(this.listFilterJioStates):this.jioState_List},enumerable:!0,configurable:!0}),e.prototype.PerformFilter=function(e){return e=e.toLocaleLowerCase(),this.jioState_List.filter((function(t){return-1!==t.nameState.toLocaleLowerCase().indexOf(e)}))},Object.defineProperty(e.prototype,"listFilterjioCenters",{get:function(){return this._listFilterjioCenters},set:function(e){this._listFilterjioCenters=e,this.jioCentersList=this.listFilterjioCenters?this.PerformFilterjioCenter(this.listFilterjioCenters):this.jioCenter_List},enumerable:!0,configurable:!0}),e.prototype.PerformFilterjioCenter=function(e){return e=e.toLocaleLowerCase(),this.jioCenter_List.filter((function(t){return-1!==t.nameState.toLocaleLowerCase().indexOf(e)}))},e.prototype.ngAfterViewInit=function(){this.cd.detectChanges()},e.prototype.ngOnDestroy=function(){this._onDestroy.next(),this._onDestroy.complete()},e.prototype.clickout=function(e){this.text=this.eRef.nativeElement.contains(e.target)?"clicked inside":"clicked outside"},e.prototype.onCloseClick=function(){this.inited&&this.dialogRef.close()},e.prototype.areaSelectionFunc=function(){this.getName=document.querySelector("#matselectarea .ng-star-inserted").firstChild},e.prototype.onGridReady=function(e){this.gridApi=e.api,this.gridColumnApi=e.columnApi},e.prototype.areaDropDownFunc=function(e,t){},e.prototype.onRowClicked=function(e){this.filterDataList={selectedLayerName:this.selectedLayerTableName,selectedAreaName:this.selectedOptionArea,selectedAreaNameParent:this.selectedOptionParent,rowDataTable:e.data,objArea:this.objSelectedArea},this.onAdd.emit(this.filterDataList)},e.\u0275fac=function(t){return new(t||e)(c.Ub(c.l),c.Ub(w.g),c.Ub(w.a),c.Ub(c.l),c.Ub(p.a),c.Ub(a.j),c.Ub(i.b),c.Ub(ne.e),c.Ub(ae.b),c.Ub(w.b),c.Ub(c.h))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-table-view-control"]],viewQuery:function(e,t){var n;1&e&&(c.Rc(Ue,!0),c.cd(We,!0)),2&e&&(c.Hc(n=c.nc())&&(t.sidenav=n.first),c.Hc(n=c.nc())&&(t.tableViewTmpl=n.first))},hostBindings:function(e,t){1&e&&c.mc("click",(function(e){return t.clickout(e)}),!1,c.Kc)},decls:59,vars:27,consts:[[1,"jcp-table-control-layers-container"],["container",""],["fxLayout","row","fxLayoutAlign","space-around center",1,"toolbar-table-control-layers","px-3"],["fxFlex","",1,"toolbar-table-control-title"],[1,"toolbar-table-control-icon-list"],[1,"p-2","zmdi","zmdi-minus"],[1,"p-2","zmdi","zmdi-close",3,"click"],["fxLayout","row","fxLayoutAlign","space-between center",1,"table-control-layers-filter",3,"click"],["fxFlex","45",1,"filter-selected-layers","px-3"],[1,"form-field-selected-layers","pt-2","w-100"],["placeholder","Selected Layer","disableOptionCentering","",3,"value","formControl","valueChange","openedChange","selectionChange"],["matInput","","autocomplete","off","placeholder","Search...",2,"height","48px !important","padding-left","15px",3,"ngModel","ngModelOptions","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["fxFlex","40",1,"filter-selected-area","px-3"],[1,"form-field-selected-area","pt-2","w-100"],["id","matselectarea","placeholder","Select Area","disableOptionCentering","",3,"ngModel","ngModelChange","selectionChange"],["value","Pan India"],[3,"value"],["fxLayout","row","fxLayoutAlign","space-between center",3,"matMenuTriggerFor","click"],[4,"ngIf"],[1,"zmdi","zmdi-caret-right",2,"font-size","20px"],["xPosition","after",3,"click"],["jioState","matMenu"],["mat-menu-item","",3,"click"],[1,"example-full-width","p-0"],["matInput","","placeholder","Search","autocomplete","off",3,"ngModel","ngModelChange"],["class","zmdi zmdi-search","style","position: absolute;right: 0;font-size: 20px;",4,"ngIf"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],[2,"height","200px","overflow","auto"],["mat-menu-item","",3,"click",4,"ngFor","ngForOf"],["jioCenter","matMenu"],[1,"example-full-width"],["fxFlex","15",1,"filter-download-data","px-3"],[2,"width","40px","height","40px","background","#0078D7","border-radius","4px","color","#ffffff","padding","5px 0px","text-align","center","font-size","20px"],[1,"zmdi","zmdi-download"],[1,"ag-grid-jcp-container"],[3,"ngTemplateOutlet"],[1,"zmdi","zmdi-search",2,"position","absolute","right","0","font-size","20px"],["mat-button","","matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],["tableViewTmpl",""],["style","height: 56px","fxLayout","row","fxLayoutAlign","space-between center","class","px-4",4,"ngIf"],["id","myGrid",1,"ag-theme-material","table-view-zoom-ag-grid",2,"width","100%","max-height","calc(100% - 120px)","height","100%",3,"gridOptions","rowData","columnDefs","enableFilter","gridReady","rowClicked"],["agGrid",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"px-4",2,"height","56px"],["color","primary","fxLayout","row wrap","fxFlex","50","aria-label","Select Frequency",1,"radio-button-group",3,"value","valueChange"],["fxFlex","40","value","Planned"],["value","Ready","fxFlex","40"],["fxLayout","row"],["fxLayout","column",1,"mr-2"],[1,"mb-0",2,"font-size","12px","color","#7e7e7e"],[1,"value",2,"font-size","14px"],[3,"vertical"],["fxLayout","column",1,"ml-2"],["fxLayout","column"]],template:function(e,t){if(1&e&&(c.ac(0,"div",0,1),c.ac(2,"div",2),c.ac(3,"div",3),c.ac(4,"span"),c.Vc(5,"Table View"),c.Zb(),c.Zb(),c.ac(6,"div",4),c.Vb(7,"div",5),c.ac(8,"div",6),c.mc("click",(function(){return t.onCloseClick()})),c.Zb(),c.Zb(),c.Zb(),c.Vb(9,"mat-divider"),c.ac(10,"div",7),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(11,"div",8),c.ac(12,"mat-form-field",9),c.ac(13,"mat-select",10),c.mc("valueChange",(function(e){return t.layerListValue=e}))("openedChange",(function(e){return t.openedChange(e)}))("selectionChange",(function(){return t.onChangeLayer(t.selectedLayerCtrl)})),c.ac(14,"input",11),c.mc("ngModelChange",(function(e){return t.selectedLayerSearchValue=e})),c.Zb(),c.Tc(15,He,2,2,"mat-option",12),c.rc(16,"filter"),c.Zb(),c.Zb(),c.Zb(),c.ac(17,"div",13),c.ac(18,"mat-form-field",14),c.ac(19,"mat-select",15),c.mc("ngModelChange",(function(e){return t.selectedOptionArea=e}))("selectionChange",(function(){return t.areaSelectionFunc(),t.onChangeLayer(t.selectedLayerCtrl)})),c.ac(20,"mat-option",16),c.Vc(21,"Pan India"),c.Zb(),c.ac(22,"mat-option",17),c.ac(23,"div",18),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(24,"div"),c.Vc(25,"Jio State "),c.Tc(26,Je,2,1,"span",19),c.Zb(),c.Vb(27,"div",20),c.Zb(),c.ac(28,"mat-menu",21,22),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(30,"button",23),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(31,"mat-form-field",24),c.ac(32,"input",25),c.mc("ngModelChange",(function(e){return t.listFilterJioStates=e})),c.Zb(),c.Tc(33,$e,1,0,"div",26),c.Tc(34,Qe,3,0,"button",27),c.Zb(),c.Zb(),c.ac(35,"div",28),c.Tc(36,qe,3,1,"button",29),c.Zb(),c.Zb(),c.Zb(),c.ac(37,"mat-option",17),c.ac(38,"div",18),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(39,"div"),c.Vc(40,"Jio Center "),c.Tc(41,Xe,2,1,"span",19),c.Zb(),c.Vb(42,"div",20),c.Zb(),c.ac(43,"mat-menu",null,30),c.ac(45,"button",23),c.mc("click",(function(e){return e.stopPropagation()})),c.ac(46,"mat-form-field",31),c.ac(47,"input",25),c.mc("ngModelChange",(function(e){return t.listFilterjioCenters=e})),c.Zb(),c.Tc(48,Ye,1,0,"div",26),c.Tc(49,Ke,3,0,"button",27),c.Zb(),c.Zb(),c.ac(50,"div",28),c.Tc(51,et,3,1,"button",29),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(52,"div",32),c.ac(53,"div",33),c.Vb(54,"div",34),c.Zb(),c.Zb(),c.Zb(),c.Vb(55,"mat-divider"),c.ac(56,"div",35),c.Wb(57,36),c.Zb(),c.Zb(),c.Tc(58,at,2,0,void 0,19)),2&e){var n=c.Ic(29),a=c.Ic(44);c.Db(4),c.wc("@fade",void 0),c.Db(9),c.wc("value",t.layerListValue)("formControl",t.selectedLayerCtrl),c.Db(1),c.wc("ngModel",t.selectedLayerSearchValue)("ngModelOptions",c.Ac(26,ot)),c.Db(1),c.wc("ngForOf",c.tc(16,23,t.selectedLayers,t.selectedLayerSearchValue)),c.Db(4),c.wc("ngModel",t.selectedOptionArea),c.Db(3),c.wc("value",t.selectedOptionJioState),c.Db(1),c.wc("matMenuTriggerFor",n),c.Db(3),c.wc("ngIf",t.optionJioStateValue),c.Db(6),c.wc("ngModel",t.listFilterJioStates),c.Db(1),c.wc("ngIf",!t.listFilterJioStates),c.Db(1),c.wc("ngIf",t.listFilterJioStates),c.Db(2),c.wc("ngForOf",t.JioStatesList),c.Db(1),c.wc("value",t.selectedOptionJioCenter),c.Db(1),c.wc("matMenuTriggerFor",a),c.Db(3),c.wc("ngIf",t.optionjioCentersValue),c.Db(6),c.wc("ngModel",t.listFilterjioCenters),c.Db(1),c.wc("ngIf",!t.listFilterjioCenters),c.Db(1),c.wc("ngIf",t.listFilterjioCenters),c.Db(2),c.wc("ngForOf",t.jioCentersList),c.Db(6),c.wc("ngTemplateOutlet",t.tableViewTmpl),c.Db(1),c.wc("ngIf",t.layerListValue)}},directives:[g.c,g.b,g.a,C.a,O.c,I.a,S.p,S.g,z.b,S.b,S.s,a.m,Z.o,Ee.c,a.n,Ee.d,Ee.a,a.s,D.b,O.h,R.a,je.a,Ge.b,Ge.a],pipes:[V.a],styles:[".mat-form-field-appearance-fill[_ngcontent-%COMP%]   .mat-form-field-flex[_ngcontent-%COMP%]{background-color:inherit!important}"],data:{animation:[Object(Ve.n)("fade",[Object(Ve.m)("void => *",[Object(Ve.l)({opacity:0}),Object(Ve.e)(2e3,Object(Ve.l)({backgroundColor:"white",opacity:0}))])])]}}),e}(),rt=(n("Rpi3"),n("dd9y")),st=(n("8kZ0"),function(){function e(){}return e.prototype.syncMaps=function(){L.Map&&L.Map.include({sync:function(e,t){return this._initSync(),t=L.extend({noInitialSync:!1,syncCursor:!1,syncCursorMarkerOptions:{radius:10,fillOpacity:.3,color:"#da291c",fillColor:"#fff"},offsetFn:function(e,t,n,a){return e}},t),-1===this._syncMaps.indexOf(e)&&(this._syncMaps.push(e),this._syncOffsetFns[L.Util.stamp(e)]=t.offsetFn),t.noInitialSync||e.setView(t.offsetFn(this.getCenter(),this.getZoom(),this,e),this.getZoom(),{animate:!1,reset:!0,disableViewprereset:!0}),t.syncCursor&&(void 0===e.cursor&&(e.cursor=L.circleMarker([0,0],t.syncCursorMarkerOptions).addTo(e)),this._cursors.push(e.cursor),this.on("mousemove",this._cursorSyncMove,this),this.on("mouseout",this._cursorSyncOut,this)),this.on("resize zoomend",this._selfSetView),this.on("moveend",this._syncOnMoveend),this.on("dragend",this._syncOnDragend),this},unsync:function(e){var t=this;return this._cursors&&this._cursors.forEach((function(t,n,a){t===e.cursor&&a.splice(n,1)})),e.cursor&&e.cursor.setLatLng([0,0]),this._syncMaps&&this._syncMaps.forEach((function(n,a){e===n&&(delete t._syncOffsetFns[L.Util.stamp(e)],t._syncMaps.splice(a,1))})),this._syncMaps&&0!=this._syncMaps.length||(this.off("resize zoomend",this._selfSetView),this.off("moveend",this._syncOnMoveend),this.off("dragend",this._syncOnDragend)),this},isSynced:function(e){var t=this.hasOwnProperty("_syncMaps")&&Object.keys(this._syncMaps).length>0;return t&&e&&(t=!1,this._syncMaps.forEach((function(n){e==n&&(t=!0)}))),t},_cursorSyncMove:function(e){this._cursors.forEach((function(t){t.setLatLng(e.latlng)}))},_cursorSyncOut:function(e){this._cursors.forEach((function(e){e.setLatLng([0,0])}))},_selfSetView:function(e){this.setView(this.getCenter(),this.getZoom(),{animate:!1,reset:!0,disableViewprereset:!0})},_syncOnMoveend:function(e){this._syncDragend&&(this._syncDragend=!1,this._selfSetView(e),this._syncMaps.forEach((function(e){e.fire("moveend")})))},_syncOnDragend:function(e){this._syncDragend=!0},_initSync:function(){if(!this._syncMaps){var e=this;this._syncMaps=[],this._cursors=[],this._syncOffsetFns={},L.extend(e,{setView:function(t,n,a,o){function i(e,t){var n=[],o=a&&a.disableViewprereset&&e&&e._events;o&&(n=e._events.viewprereset,e._events.viewprereset=[]);var i=t(e);return o&&(e._events.viewprereset=n),i}var r=i(this,(function(e){return L.Map.prototype.setView.call(e,t,n,a)}));return o||e._syncMaps.forEach((function(o){i(o,(function(i){return o.setView(e._syncOffsetFns[L.Util.stamp(o)](t,n,e,o),n,a,!0)}))})),r},panBy:function(t,n,a){return a||e._syncMaps.forEach((function(e){e.panBy(t,n,!0)})),L.Map.prototype.panBy.call(this,t,n)},_onResize:function(t,n){return n||e._syncMaps.forEach((function(e){e._onResize(t,!0)})),L.Map.prototype._onResize.call(this,t)},_stop:function(t){L.Map.prototype._stop.call(this),t||e._syncMaps.forEach((function(e){e._stop(!0)}))}}),e.dragging._draggable._updatePosition=function(){L.Draggable.prototype._updatePosition.call(this);var t=this;e._syncMaps.forEach((function(n){L.DomUtil.setPosition(n.dragging._draggable._element,t._newPos),n.eachLayer((function(t){if(void 0!==t._google){var a=(0,e._syncOffsetFns[L.Util.stamp(n)])(e.getCenter(),e.getZoom(),e,n);t._google.setCenter(a)}})),n.fire("move")}))}}}})},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}()),lt=["splitmapComponent"],ct=function(){function e(e){this.syncmapsService=e,this.ref=[],this.removable=!0,this.mapSlotArray=[],this.mapDataJSON=[{name:"Coverage",operator:"Jio",coords:[{coordinates:[22.554415740003208,88.3381017270688],color:"green"},{coordinates:[22.53539059204079,88.34359109913086],color:"red"},{coordinates:[22.57724245452637,88.37652733150328],color:"blue"}]},{name:"Coverage",operator:"Airtel",coords:[{coordinates:[22.733123662313677,88.34931106093383],color:"lightgreen"},{coordinates:[22.664709810176827,88.40019465080597],color:"yellow"},{coordinates:[22.688785246513845,88.24754388118961],color:"teal"}]},{name:"Coverage",operator:"Vodafone Idea",coords:[{coordinates:[22.59372606392931,88.58559521277321],color:"brown"},{coordinates:[22.398332241511387,88.51011634691987],color:"black"},{coordinates:[22.795173295587578,88.36190330124415],color:"orange"}]}],this.syncmapsService.syncMaps()}return e.prototype.ngAfterViewInit=function(){this.init()},e.prototype.init=function(){this.setMapDecisionParams(),this.closechip()},e.prototype.setMapDecisionParams=function(){var e,t,n=this.splitmapPayload[0];this.operatorNames=n.operators?n.operators:[],e=this.operatorNames.length,this.criteriaDataArray=n.criteriaPayload?n.criteriaPayload:[],t=this.criteriaDataArray.length,this.gridDataArray=n.gridData?n.gridData:[],this.aComponentRef=n.splitComponentRef,1==e&&1==t?(this.splitmapCount=1,this.setMapLayer(this.splitmapCount)):1==e&&2==t||2==e&&1==t?(this.splitmapCount=2,this.setMapLayer(this.splitmapCount)):1==e&&3==t||3==e&&1==t?(this.splitmapCount=3,this.setMapLayer(this.splitmapCount)):(this.splitmapCount=1,this.setMapLayer(this.splitmapCount))},e.prototype.setMapLayer=function(e){for(var t,n,a,o=window.innerWidth/e,i=function(e){var i=document.createElement("article");r.object={mapId:"map"+e,titleLayerUrl:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",properties:{minZoom:5,maxZoom:20,center:[22.57,88.36],zoom:10,zoomControl:!1,color:"green"},coordinates:[22.57,88.36]},i.setAttribute("id",r.object.mapId),i.setAttribute("class","mapcss"),i.style.width=o+"px",document.getElementsByClassName("maps-wrapper")[0].appendChild(i);var s=void 0;s=l.map(i,{zoomControl:r.object.properties.zoomControl}).setView(r.object.properties.center,r.object.properties.zoom),l.tileLayer(r.object.titleLayerUrl).addTo(s),setTimeout((function(){s.invalidateSize()}),0),r.mapSlotArray.push(s);var c=document.createElement("div");c.setAttribute("id","chip"+e),c.setAttribute("class","chip-template"),document.createElement("img"),1==r.operatorNames.length?c.insertAdjacentHTML("afterbegin",t=r.operatorNames[0]):r.operatorNames.length>1&&0==r.gridDataArray.length&&c.insertAdjacentHTML("afterbegin",t=r.operatorNames[e]);var d=document.createElement("span");d.setAttribute("class","ml-2");var p=document.createElement("span");p.setAttribute("class","closechip"),p.insertAdjacentHTML("afterbegin","<i class='material-icons'>close</i>"),n=1==r.criteriaDataArray.length?document.createTextNode(r.criteriaDataArray[0].name):document.createTextNode(r.criteriaDataArray[e].name),d.appendChild(n),c.appendChild(d),c.appendChild(p),i.appendChild(c),a=leaflayer().customLayer({container:document.createElement("canvas")}),r.plotData(a,o,t,s)},r=this,s=0;s<=e-1;s++)i(s);this.syncMaps()},e.prototype.closechip=function(){var e=document.querySelectorAll(".closechip");Object(f.h)(e).forEach((function(e){e.addEventListener("click",(function(e){e.target.parentNode.parentNode.remove()}))}))},e.prototype.syncMaps=function(){var e=this,t=[];this.mapSlotArray.forEach((function(e,n){t.push(n)})),t.forEach((function(n,a){t.forEach((function(t,o){a!==o&&e.mapSlotArray[n].sync(e.mapSlotArray[t],!0)}))}))},e.prototype.plotData=function(e,t,n,a){var o=this;e.on("layer-render",(function(){var e=this;this.getContainer().style.width=t+"px",this.getContainer().style.height=window.innerHeight+"px";var a=this.setFullLayerBounds().ctx;o.mapDataJSON.forEach((function(t){t.coords.forEach((function(o){if(n==t.operator){var i=e._map.latLngToContainerPoint(o.coordinates);a.fillStyle=o.color,a.fillRect(i.x,i.y,50,50),e._map.invalidateSize()}}))}))})),e.addTo(a)},e.\u0275fac=function(t){return new(t||e)(c.Ub(st))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-splitmap"]],viewQuery:function(e,t){var n;1&e&&c.cd(lt,!0,c.Q),2&e&&c.Hc(n=c.nc())&&(t.splitmapComponentRef=n.first)},inputs:{splitmapPayload:"splitmapPayload"},decls:1,vars:0,consts:[[1,"maps-wrapper"]],template:function(e,t){1&e&&c.Vb(0,"section",0)},styles:["app-splitmap{width:100%;height:100%;position:absolute;z-index:99;top:0;left:0;background:#fff}app-splitmap .maps-wrapper{width:100%;height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:row;flex-direction:row;-ms-flex-wrap:wrap;flex-wrap:wrap}app-splitmap .maps-wrapper .mapcss{display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-preferred-size:100%;flex-basis:100%;-ms-flex:1;flex:1;margin-right:7px}app-splitmap .maps-wrapper:last-child{margin-right:0}app-splitmap .maps-wrapper canvas{z-index:9999!important}app-splitmap .maps-wrapper .chip-template{position:absolute;z-index:99999;bottom:30px;left:13px;transition:box-shadow .28s cubic-bezier(.4,0,.2,1);display:-ms-inline-flexbox;display:inline-flex;padding:10px 28px 9px 11px;border-radius:18px;-ms-flex-align:center;align-items:center;cursor:default;color:#333;font-weight:700;background-color:#fff}app-splitmap .maps-wrapper .chip-template span{color:#2046f5;font-weight:400}app-splitmap .maps-wrapper .chip-template .closechip{position:absolute;right:8px;top:10px;font-size:15px;color:#707070;cursor:pointer}app-splitmap .maps-wrapper .chip-template .closechip .material-icons{font-size:18px}"],encapsulation:2}),e}(),dt=n("26FU"),pt=function(){function e(){this.subject=new dt.a({})}return e.prototype.triggerAndSendSplitmap=function(e){this.subject.next(e)},e.prototype.recieveTriggeredData=function(){return this.subject.asObservable()},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),ut=n("dOeY"),ht=n("Wjhp"),mt=n("2J1J"),ft=n("sNR5"),gt=n("IzAD"),bt=["splitmapComponent"];function yt(e,t){if(1&e&&(c.ac(0,"mat-panel-title",23),c.Vc(1),c.Zb()),2&e){var n=t.$implicit;c.Db(1),c.Xc(" ",n.label," ")}}function vt(e,t){if(1&e){var n=c.bc();c.ac(0,"mat-slide-toggle",27),c.mc("ngModelChange",(function(e){return c.Mc(n),c.qc(4).toggleIsChecked=e}))("change",(function(e){return c.Mc(n),c.qc(4).datastreamSlideToggle(e)})),c.Zb()}if(2&e){var a=c.qc(4);c.wc("ngModel",a.toggleIsChecked)}}function xt(e,t){1&e&&(c.ac(0,"span",28,29),c.Vc(2," info "),c.Zb())}function wt(e,t){if(1&e&&(c.ac(0,"span",24),c.Vc(1),c.Tc(2,vt,1,1,"mat-slide-toggle",25),c.Tc(3,xt,3,0,"span",26),c.Zb()),2&e){var n=t.$implicit,a=t.index;c.Db(1),c.Xc(" ",n.name," "),c.Db(1),c.wc("ngIf",1==a),c.Db(1),c.wc("ngIf",3==a)}}function Ct(e,t){if(1&e){var n=c.bc();c.ac(0,"mat-button-toggle",37,38),c.mc("change",(function(e){c.Mc(n);var a=t.$implicit,o=t.index;return c.qc(4).operatorSelected(a,o,e)})),c.Vc(2),c.Zb()}if(2&e){var a=t.$implicit;c.wc("value",a.name),c.Db(2),c.Xc("",a.name," ")}}function Lt(e,t){1&e&&(c.ac(0,"mat-error"),c.Vc(1,"Please select at least one operator"),c.Zb())}function Mt(e,t){if(1&e){var n=c.bc();c.ac(0,"div",30),c.ac(1,"p",31),c.Vc(2),c.Zb(),c.ac(3,"p",32),c.ac(4,"mat-button-toggle-group",33,34),c.mc("ngModelChange",(function(e){return c.Mc(n),c.qc(3).selectedButtonToggle=e})),c.Tc(6,Ct,3,2,"mat-button-toggle",35),c.Zb(),c.Zb(),c.ac(7,"p"),c.Tc(8,Lt,2,0,"mat-error",36),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit,o=c.qc(3);c.Db(2),c.Wc(a.label),c.Db(2),c.wc("ngModel",o.selectedButtonToggle),c.Db(2),c.wc("ngForOf",a.operatorsList),c.Db(2),c.wc("ngIf",o.operatorError)}}function St(e,t){if(1&e){var n=c.bc();c.ac(0,"li",46),c.ac(1,"mat-checkbox",47),c.mc("ngModelChange",(function(e){return c.Mc(n),t.$implicit.selected=e}))("change",(function(){c.Mc(n);var e=t.$implicit,a=c.qc().$implicit;return c.qc(3).optionSelected(e,a.name)})),c.Vc(2),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit;c.Db(1),c.wc("name",a.name)("ngModel",a.selected)("checked",a.selected)("disabled",a.disabled),c.Db(1),c.Xc(" ",a.name," ")}}function Dt(e,t){if(1&e){var n=c.bc();c.ac(0,"li",52),c.ac(1,"mat-radio-group",53),c.mc("ngModelChange",(function(e){return c.Mc(n),c.qc(6).cleargrid=e})),c.ac(2,"mat-radio-button",54),c.mc("change",(function(){c.Mc(n);var e=t.$implicit,a=c.qc().$implicit;return c.qc(5).gridCheckbox(e.name,a.name,e.selected,e.tag)})),c.Vc(3),c.Zb(),c.Zb(),c.ac(4,"div",55),c.Vc(5),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit,o=c.qc().$implicit,i=c.qc(5);c.Db(1),c.wc("name",o.name)("ngModel",i.cleargrid),c.Db(1),c.xc("value",a.name),c.wc("checked",a.selected)("disabled",a.disabled),c.Db(1),c.Xc(" ",a.name," "),c.Db(2),c.Wc(a.description)}}function kt(e,t){if(1&e&&(c.ac(0,"mat-tab",49),c.ac(1,"ul",50),c.Tc(2,Dt,6,7,"li",51),c.Zb(),c.Zb()),2&e){var n=t.$implicit;c.xc("label",n.name),c.wc("disabled",n.disabled),c.Db(2),c.wc("ngForOf",n.tabData)}}function At(e,t){if(1&e&&(c.ac(0,"div"),c.ac(1,"mat-tab-group"),c.Tc(2,kt,3,3,"mat-tab",48),c.Zb(),c.Zb()),2&e){var n=c.qc().$implicit;c.Db(2),c.wc("ngForOf",n.tablabels)}}function Pt(e,t){if(1&e){var n=c.bc();c.ac(0,"mat-accordion",39),c.ac(1,"mat-expansion-panel",40),c.mc("expandedChange",(function(e){return c.Mc(n),t.$implicit.expanded=e})),c.ac(2,"mat-expansion-panel-header",41),c.ac(3,"mat-panel-title"),c.ac(4,"span",42),c.ac(5,"mat-checkbox",43),c.mc("change",(function(e){c.Mc(n);var a=t.$implicit,o=t.index;return c.qc(3).toggleCriteriaOptions(a.selected,a,o,e)})),c.Vc(6),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.ac(7,"ul",44),c.Tc(8,St,3,5,"li",45),c.Zb(),c.Tc(9,At,3,1,"div",36),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit,o=t.index,i=c.qc(3);c.Eb("name",a.name),c.Db(1),c.wc("disabled",a.accordionState)("expanded",a.expanded),c.Db(4),c.wc("checked",a.selected)("name",a.name)("disabled",a.disabled),c.Db(1),c.Xc(" ",a.name," "),c.Db(2),c.wc("ngForOf",i.criterias[o].options),c.Db(1),c.wc("ngIf","Grid"==a.name)}}function Tt(e,t){if(1&e){var n=c.bc();c.ac(0,"form",9,10),c.ac(2,"div",11),c.ac(3,"mat-accordion"),c.ac(4,"mat-expansion-panel",12),c.ac(5,"mat-expansion-panel-header",13),c.Tc(6,yt,2,1,"mat-panel-title",14),c.Zb(),c.ac(7,"div",15),c.ac(8,"div",16),c.Tc(9,wt,4,3,"span",17),c.Zb(),c.Tc(10,Mt,9,4,"div",18),c.Zb(),c.Zb(),c.Zb(),c.Zb(),c.Tc(11,Pt,10,9,"mat-accordion",19),c.ac(12,"p",20),c.ac(13,"button",21),c.mc("click",(function(){return c.Mc(n),c.qc(2).resetForm()})),c.Vc(14,"Reset"),c.Zb(),c.ac(15,"button",22),c.mc("click",(function(){return c.Mc(n),c.qc(2).submitFormData()})),c.Vc(16,"Save"),c.Zb(),c.Zb(),c.Zb()}if(2&e){var a=t.$implicit,o=c.qc(2);c.Db(4),c.wc("expanded",o.isExpanded),c.Db(2),c.wc("ngForOf",a.data),c.Db(3),c.wc("ngForOf",a.data[0].dataStreams),c.Db(1),c.wc("ngForOf",a.operators),c.Db(1),c.wc("ngForOf",o.criterias),c.Db(2),c.wc("disabled",o.resetDisabled),c.Db(2),c.wc("disabled",o.disableSubmitButton)}}function Ft(e,t){if(1&e){var n=c.bc();c.ac(0,"div",1),c.ac(1,"div",2),c.ac(2,"p",3),c.Vc(3,"Analytics > Network > Smart Benchmarking"),c.Zb(),c.ac(4,"p",4),c.mc("click",(function(){return c.Mc(n),c.qc().closeSmartbenchMenubar()})),c.ac(5,"i",5),c.Vc(6,"close"),c.Zb(),c.Zb(),c.Zb(),c.ac(7,"div",6),c.ac(8,"div",7),c.Tc(9,Tt,17,7,"form",8),c.Zb(),c.Zb(),c.Zb()}if(2&e){var a=c.qc();c.Db(9),c.wc("ngForOf",a.uiContent)}}var _t=function(){function e(e,t,n,a,o){this.http=e,this.componentFactoryResolver=t,this.datashare=n,this.mainlayer=a,this.smartSplitmapService=o,this.panelOpenState=!1,this.operatorsArray=[],this.status=!1,this.stateCriteria=!0,this.isExpanded=!0,this.operatorError=!1,this.updatedArray=[],this.criteriaNamesArray=[],this.criteriaOptionsArray=[],this.criteriasPayload=[],this.finalPayload=[],this.radioButtonStatus=!0,this.gridData=[],this.optionError=!1,this.disableSubmitButton=!0,this.resetDisabled=!0,this.expanded=!1,this.componentsReferences=Array()}return e.prototype.ngOnInit=function(){this.getSmartbenchConfigData()},e.prototype.getSmartbenchConfigData=function(){var e=this;this.http.get("assets/data/layers/network/quality-and-experience/smartbenchconfig.json").subscribe((function(t){void 0!==t&&(e.uiContent=t,e.criterias=e.uiContent[0].criterias,e.criteriaOptions=e.uiContent[0].criterias,e.dataStreams=e.uiContent[0].data[0].dataStreams,e.operatorsList=e.uiContent[0].operators[0].operatorsList,e.showBenchmark=Promise.resolve(!0))}))},e.prototype.closeSmartbenchMenubar=function(){this.closeWidget(),document.getElementsByClassName("fa-sliders-h")[0].classList.remove("smartmenuToggle")},e.prototype.closeWidget=function(){document.getElementsByTagName("app-smartbench-menubar")[0].remove()},e.prototype.datastreamSlideToggle=function(e){this.hideCriteriaForLSR(),e.checked?this.lsrJioDataCall():this.myJioDataCall()},e.prototype.hideCriteriaForLSR=function(){var e=this,t=document.querySelectorAll("mat-accordion");Object(f.h)(t).forEach((function(t){null!==t.getAttribute("name")&&(e.toggleIsChecked?("Quality SINR"==t.getAttribute("name")&&(t&&t.style.removeProperty("display"),t.style.display="none"),e.resetForm()):t.style.display="block")}))},e.prototype.myJioDataCall=function(){return[{name:"My JIo"}]},e.prototype.lsrJioDataCall=function(){return[{name:"My JIo"}]},e.prototype.operatorSelected=function(e,t,n){if(this.checkButtonToggleState(n),-1==this.operatorsArray.indexOf(e.name))this.operatorsArray.push(e.name);else{var a=this.operatorsArray.indexOf(e.name);this.operatorsArray.splice(a,1)}this.toggleAllAccordions(this.operatorsArray)},e.prototype.checkButtonToggleState=function(e){var t=this;$(e.source._elementRef.nativeElement).hasClass("mat-button-toggle-checked")?$(e.source._elementRef.nativeElement).removeClass("selectedButton"):$(e.source._elementRef.nativeElement).addClass("selectedButton"),document.querySelectorAll(".selectedButton").forEach((function(e){$(e).hasClass("selectedButton")&&t.refreshForm()}))},e.prototype.toggleAllAccordions=function(e){var t=this;this.criterias.forEach((function(n){e.length>0?(n.disabled=!1,n.accordionState=!1,t.operatorError=!1,t.resetDisabled=!1,n.options?n.options.forEach((function(e){e.selected=!1,e.disabled=!0})):n.tablabels&&n.tablabels.forEach((function(e){!1===e.disabled&&(e.disabled=!0)}))):(t.operatorError=!0,t.refreshForm())}))},e.prototype.changeDecisions=function(e){var t=this;this.criterias.forEach((function(n){e.length>0?(n.disabled=!1,n.accordionState=!1,t.operatorError=!1,t.resetDisabled=!1):(t.operatorError=!0,t.refreshForm())}))},e.prototype.gridCheckbox=function(e,t,n,a){var o={name:a,options:[{name:e},{Tabname:t}]};0==this.gridData.length||(this.gridData=[]),this.gridData.push(o)},e.prototype.toggleCriteriaOptions=function(e,t,n,a){var o=this;this.indexValue=n,this.disableSubmitButton=!1,this.criterias.filter((function(i){if(i.name==t.name&&a.checked){if("Grid"==i.name)return o.criterias[n].tablabels.forEach((function(t){t.disabled=e,o.criterias[n].selected=!e,t.tabData.forEach((function(e){e.disabled=!1}))})),void o.enableAccordionFilterEngine(o.operatorsArray,o.indexValue,e);o.criterias[n].selected=!e,o.criterias[n].options.forEach((function(t){t.selected=e,t.disabled=e}))}else if(i.name==t.name&&!a.checked){if(o.changeDecisions(o.operatorsArray),"Grid"==i.name)return o.criterias[n].tablabels.forEach((function(t){t.disabled=e,o.criterias[n].selected=!e,t.tabData.forEach((function(e){e.selected=!1,e.disabled=!0,o.cleargrid=null,o.gridData=[]}))})),void o.enableAccordionFilterEngine(o.operatorsArray,o.indexValue,e);o.criterias[n].selected=!e,o.criterias[n].options.forEach((function(t){t.selected=!e,t.disabled=e}))}o.enableAccordionFilterEngine(o.operatorsArray,o.indexValue,e)}))},e.prototype.enableAccordionFilterEngine=function(e,t,n){0==e.length||this.disableCriteriaAccordionsFn(1==e.length?3:1)},e.prototype.disableCriteriaAccordionsFn=function(e){var t=this;this.criterias.forEach((function(n,a){!0!==n.selected||0!=--e||t.criterias.filter((function(e,t){return!1===e.selected})).forEach((function(e){e.disabled=!0,e.selected=!1,e.accordionState=!0}))}))},e.prototype.refreshForm=function(){this.criterias.forEach((function(e,t){e.selected=!1,e.disabled=!0,e.expanded=!1,e.accordionState=!0,"Grid"==e.name?(e.selected=!1,e.disabled=!0,e.tablabels.forEach((function(e,t){e.tabData.forEach((function(e){e.disabled=!0}))}))):e.options.forEach((function(t){e.selected=!1,t.disabled=!0}))})),this.cleargrid=null,this.gridData=[]},e.prototype.resetForm=function(){this.selectedButtonToggle=void 0,this.refreshForm(),this.operatorsArray=[],this.cleargrid=null,this.gridData=[],this.disableSubmitButton=!0,this.resetDisabled=!0},e.prototype.optionSelected=function(e,t){if(-1==this.criteriaOptionsArray.indexOf(e.name))this.criteriaOptionsArray.push(e.name);else{var n=this.criteriaOptionsArray.indexOf(e.name);this.criteriaOptionsArray.splice(n,1)}},e.prototype.filterPayloadData=function(e){var t=[];return e.forEach((function(e){var n=[];e.criteriaPayload.forEach((function(a,o){0==a.options.length&&n.push(o),t=e.criteriaPayload.filter((function(e,t){return-1==n.indexOf(t)}))}))})),t},e.prototype.getSelectedCheckboxes=function(){var e=this;return this.checkedList=[],this.criteriaOptions.forEach((function(t,n){if(1==t.selected){if("Grid"==t.name)return;var a=t.options.filter((function(e,t){return!0===e.selected}));e.checkedList.push({name:t.name,options:a})}})),this.checkedList},e.prototype.submitFormData=function(){this.formatDataObjects(),this.resetForm()},e.prototype.formatDataObjects=function(){var e=[{dataStreamJSON:this.myJioDataCall||this.lsrJioDataCall,criteriaPayload:this.getSelectedCheckboxes(),operators:this.operatorsArray}];this.finalPayload=e;var t=e[0].criteriaPayload.concat(this.gridData);e[0].criteriaPayload=t,console.table("payloadDataObject",e),this.smartSplitmapService.triggerAndSendSplitmap(e),this.closeWidget()},e.\u0275fac=function(t){return new(t||e)(c.Ub(ae.b),c.Ub(c.j),c.Ub(p.a),c.Ub(wn),c.Ub(pt))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-smartbench-menubar"]],viewQuery:function(e,t){var n;1&e&&c.cd(bt,!0,c.Q),2&e&&c.Hc(n=c.nc())&&(t.splitmapComponentRef=n.first)},inputs:{expanded:"expanded",smartbenchmenuref:"smartbenchmenuref"},decls:2,vars:3,consts:[["class","benchmarking-container mt-5 bg-grey border ",4,"ngIf"],[1,"benchmarking-container","mt-5","bg-grey","border"],[1,"d-flex","justify-content-between","py-3","px-4","position-relative","border-bottom"],[1,"font-weight-bold","text-dark","mb-0"],[1,"cross-btn","text-dark","font17","mb-0","position-absolute","cursor-pointer",3,"click"],[1,"material-icons"],[1,"benchmarking-innercontainer","p-4"],[1,"benchmark-form"],["class","inner-container",4,"ngFor","ngForOf"],[1,"inner-container"],["splitForm","ngForm"],[1,"mb-3"],[3,"expanded"],[1,"border-bottom"],["class","font-weight-bold",4,"ngFor","ngForOf"],[1,"content","pt-4"],[1,"stream","d-flex","align-items-center"],["class","pr-2",4,"ngFor","ngForOf"],["class","operators-list",4,"ngFor","ngForOf"],["class","mb-2 criteria-accordions",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-4","mb-0"],["type","submit",1,"btn","btn-light","border","reset-btn","m-0",3,"disabled","click"],["type","submit",1,"btn","btn-primary","save-btn","text-white","m-0",3,"disabled","click"],[1,"font-weight-bold"],[1,"pr-2"],["name","toggle",3,"ngModel","ngModelChange","change",4,"ngIf"],["class","material-icons tooltip-info","matTooltip",'MyJio : Comparison of "MyJio - Jio Samples/ Grids" Vs. "MyJio - Airtel/Vodafone Samples/ Grids " \n ....  LSR : Comparison of  LSR-Jio Samples/Grids" Vs. "MyJio - Airtel/Vodafone Samples/ Grids")',"matTooltipClass","allow-cr",4,"ngIf"],["name","toggle",3,"ngModel","ngModelChange","change"],["matTooltip",'MyJio : Comparison of "MyJio - Jio Samples/ Grids" Vs. "MyJio - Airtel/Vodafone Samples/ Grids " \n ....  LSR : Comparison of  LSR-Jio Samples/Grids" Vs. "MyJio - Airtel/Vodafone Samples/ Grids")',"matTooltipClass","allow-cr",1,"material-icons","tooltip-info"],["tooltip","matTooltip"],[1,"operators-list"],[1,"font-weight-bold","font17","mt-3"],[1,"mt-2"],["multiple","true","name","button",1,"border-0",3,"ngModel","ngModelChange"],["group","matButtonToggleGroup"],["class","mr-3 rounded-pill   border",3,"value","change",4,"ngFor","ngForOf"],[4,"ngIf"],[1,"mr-3","rounded-pill","border",3,"value","change"],["button",""],[1,"mb-2","criteria-accordions"],[3,"disabled","expanded","expandedChange"],[1,"border-bottom","pl-1"],[1,"example-list-section"],["ngModel","","required","",1,"example-margin",3,"checked","name","disabled","change"],[1,"d-flex","flex-wrap","options-list","m-0","p-0"],["class","mr-3",4,"ngFor","ngForOf"],[1,"mr-3"],[3,"name","ngModel","checked","disabled","ngModelChange","change"],[3,"label","disabled",4,"ngFor","ngForOf"],[3,"label","disabled"],[1,"pl-0"],["class","d-flex justify-content-between w-100 p-3",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","w-100","p-3"],["aria-label","Select an option",3,"name","ngModel","ngModelChange"],[3,"value","checked","disabled","change"],[1,"tabgrid",2,"width","200px"]],template:function(e,t){1&e&&(c.Tc(0,Ft,10,1,"div",0),c.rc(1,"async")),2&e&&c.wc("ngIf",c.sc(1,1,t.showBenchmark))},directives:[a.n,a.m,S.z,S.q,S.r,ut.a,ut.c,ut.e,ut.f,ht.a,S.p,S.s,mt.a,ft.b,ft.a,O.b,k.a,k.c,S.v,gt.c,gt.a,Ge.b,Ge.a],pipes:[a.b],styles:['.example-section{margin:12px 0}.example-margin{margin:0 12px}ul{list-style-type:none;margin-top:4px}.header{z-index:99999}.font17{font-size:17px}.mat-expansion-panel-header:not([aria-disabled=true]){background-color:#f1f1f1}.op-buttons:focus{background-color:#adff2f}.mat-accordion{display:block}.mat-accordion .tooltip-info{color:#5c5c5c}.mat-button-toggle-checked.mat-button-toggle-appearance-standard.mat-button-toggle-checked{background-color:#0070db;color:#fff}mat-expansion-panel-header{pointer-events:none}mat-checkbox,mat-expansion-panel-header .mat-expansion-indicator{pointer-events:auto!important}.mat-slide-toggle-thumb{border:1px solid #0070db}.mat-slide-toggle-bar,.mat-slide-toggle.mat-checked .mat-slide-toggle-bar{background-color:#0070db}.mat-slide-toggle.mat-checked .mat-slide-toggle-thumb{background-color:#fff}.mat-expansion-panel-content .mat-button-toggle-appearance-standard .mat-button-toggle-label-content{line-height:36px;padding:0 25px}.benchmarking-container{position:absolute;z-index:999;top:62px;right:60px;width:500px;border-radius:4px;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column}.benchmarking-container:after{content:"";background:#fff;opacity:.6;top:0;left:0;bottom:0;right:0;position:absolute;z-index:-1;height:100%}.benchmarking-innercontainer{overflow-y:scroll;height:485px}.benchmarking-innercontainer::-webkit-scrollbar{width:9px}.benchmarking-innercontainer::-webkit-scrollbar-track{-webkit-box-shadow:inset 0 0 6px rgba(0,0,0,.3);border-radius:10px}.benchmarking-innercontainer::-webkit-scrollbar-thumb{border-radius:10px;background:#d9d9d9;-webkit-box-shadow:inset 0 0 6px #d9d9d9}.benchmarking-innercontainer::-webkit-scrollbar-thumb:window-inactive{background:#d9d9d9}label.mat-checkbox-layout{margin-bottom:0}.mat-expansion-panel-header.mat-expanded:focus,.mat-expansion-panel-header.mat-expanded:hover,.mat-expansion-panel-header:not([aria-disabled=true]){background-color:#f1f2f4}.benchmarking-container p .btn.reset-btn,.benchmarking-container p .btn.save-btn{padding:0 30px;height:44px;color:#0070db}.cross-btn{right:2.2rem;font-size:23px}.criteria-accordions .mat-expansion-panel-body{padding-top:16px;padding-left:16px}'],encapsulation:2}),e}(),Ot=function(){function e(e,t){this.dialogRef=e,this.data=t,this.enter=!1,this.exit=!1,this.title=t.title,this.message=t.message,this.status=t.status}return e.prototype.ngOnInit=function(){},e.prototype.enterOnConfirm=function(){this.dialogRef.close(!0)},e.prototype.enterOnDismiss=function(){this.dialogRef.close(!1)},e.\u0275fac=function(t){return new(t||e)(c.Ub(w.g),c.Ub(w.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-smartbench-dialog"]],decls:19,vars:2,consts:[[1,"sbm-warning-popup","text-center","position-relative","pt-5"],[1,"sbm-status-icon","position-absolute","d-flex","justify-content-center","align-items-center","rounded-circle"],["width","55","xmlns","http://www.w3.org/2000/svg","viewBox","0 0 53.3 48.82"],["d","M53.3,42.31l-20.37-36a6.21,6.21,0,0,0-10.86,0L1.7,42.31a6.47,6.47,0,0,0,0,6.4,6.18,6.18,0,0,0,5.43,3.2H47.87a6.18,6.18,0,0,0,5.43-3.2A6.47,6.47,0,0,0,53.3,42.31Zm-2.71,4.81a3.09,3.09,0,0,1-2.72,1.6H7.13a3.09,3.09,0,0,1-2.72-1.6,3.23,3.23,0,0,1,0-3.21l20.37-36a3.11,3.11,0,0,1,5.44,0l20.37,36A3.23,3.23,0,0,1,50.59,47.12Z","transform","translate(-0.85 -3.09)",1,"cls-1"],["x","25.09","y","15.91","width","3.12","height","15.94",1,"cls-1"],["d","M27.5,38.13a2.13,2.13,0,1,0,2.08,2.12A2.1,2.1,0,0,0,27.5,38.13Z","transform","translate(-0.85 -3.09)",1,"cls-1"],["mat-dialog-title","",1,"mb-2","text-danger","mb-4"],["mat-dialog-content",""],["mat-dialog-actions","",1,"justify-content-center"],["mat-button","",1,"cancel-btn","border",3,"click"],["mat-raised-button","","color","primary",1,"save-btn",3,"click"]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"p",1),c.pc(),c.ac(2,"svg",2),c.ac(3,"defs"),c.ac(4,"style"),c.Vc(5,".cls-1{fill:#fff;}"),c.Zb(),c.Zb(),c.Vb(6,"path",3),c.Vb(7,"rect",4),c.Vb(8,"path",5),c.Zb(),c.Zb(),c.oc(),c.ac(9,"h1",6),c.Vc(10),c.Zb(),c.ac(11,"div",7),c.ac(12,"p"),c.Vc(13),c.Zb(),c.Zb(),c.ac(14,"div",8),c.ac(15,"button",9),c.mc("click",(function(){return t.enterOnDismiss()})),c.Vc(16,"Cancel"),c.Zb(),c.ac(17,"button",10),c.mc("click",(function(){return t.enterOnConfirm()})),c.Vc(18,"Apply"),c.Zb(),c.Zb(),c.Zb()),2&e&&(c.Db(10),c.Xc(" ",t.title," "),c.Db(3),c.Wc(t.message))},directives:[w.h,w.e,w.c,D.b],styles:["[_nghost-%COMP%]{width:100%;height:100%;padding:10px;display:block}.sbm-warning-popup[_ngcontent-%COMP%]   .mat-dialog-title[_ngcontent-%COMP%]{font-size:24px}.sbm-warning-popup[_ngcontent-%COMP%]   .mat-dialog-actions[_ngcontent-%COMP%]{padding-bottom:30px}.sbm-warning-popup[_ngcontent-%COMP%]   .sbm-status-icon[_ngcontent-%COMP%]{width:106px;height:106px;top:-71px;left:50%;background:#0070db;margin-left:-58px}.sbm-warning-popup[_ngcontent-%COMP%]   .save-btn[_ngcontent-%COMP%]{background:#0070db}.sbm-warning-popup[_ngcontent-%COMP%]   .cancel-btn[_ngcontent-%COMP%]{color:#0070db}"]}),e}(),It=function(){return function(e,t,n){this.title=e,this.message=t,this.status=n}}(),zt=n("JR3O"),Rt=n("VphZ"),Zt=n("yclc"),Nt=n("Ox0k"),Vt=n("JoXt"),Bt=function(){function e(e,t,n,a,o){this.element=e,this.http=t,this.dialog=n,this.datashare=a,this.sideNavService=o,this.currentBand=[],this.onAirData=[{name:"Properties",value:5,color:"#8CC63F",font:"Material-Design-Iconic-Font",fontvalue:"\uf112",eventname:"sites-tree-properties-nominals"},{name:"Candidates",value:5,color:"#ED1E79",font:"Material-Design-Iconic-Font",fontvalue:"\uf207",eventname:"sites-tree-candidates-nominals"}],this.toggleActive=!0}return e.prototype.ngOnInit=function(){var e=this;this.datashare.currentSpiderData.subscribe((function(e){console.log(":message",e)})),this.http.get("assets/data/layers/nominalssites/nominals.json").subscribe((function(t){e.currentbands=t.site2300,e.initializeBiggerNode()}))},e.prototype.initializeBiggerNode=function(){var e=$(this.element.nativeElement).find(".spideroverlay")[0],t=$(e).find("svg"),n=Rt.f(t[0]);this.drawSVG(e,n,this.onAirData,this)},e.prototype.drawSVG=function(e,t,n,a){var o=this,i=e.offsetWidth,r=e.offsetHeight,s=i>0?i:500,l=r>0?r:500,c=Math.min(s,500)-20-20,d=s/2+100,p=l/2,u=t.append("g").attr("class","wrapper").attr("transform","translate("+d+","+p+")");this.arc=this.createArc(c),this.pie=this.rotatePieChart();var h=u.append("g").attr("transform","translate(-100,0)");this.donutArcsGroup=this.createDonutGroup(u,n),this.createDonutArc(),this.linePointsGroup=this.createLineGroup(u,n),this.appendLineGroupPath(e,(function(e){return"M0,0C"+(e.source.x+e.target.x)/2+",0 "+(e.source.x+e.target.x)/2+","+e.target.y+" "+e.target.x+","+e.target.y})),this.appendLineToCircle(e),this.circleGroup=this.createCircleGroup(u,this.pie,n,e),this.createCircle(),this.appendLabelsInsideCircle(),this.appendLabelOutside(),this.bandarc=Rt.a(),this.bandsArcsGroup=h.append("g").attr("class","bandsArcsGroup");for(var m=0,f=this.currentbands.length;m<f;m++){var g=this.bandsArcsGroup.append("g").attr("id","cellGroup-"+m).attr("class","cellGroup").attr("transform","translate(-22.5,-39.4)").style("cursor","pointer");g.append("foreignObject").attr({width:45,height:45.4}),g.append("svg:image").attr("width",45).attr("height",45.4).attr("xlink:href","assets/data/layers/nominalssites/0.svg")}h.append("circle").attr("r",3).attr("stroke-width",1).attr("stroke","#000000").attr("fill","white").style("cursor","pointer"),h.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",100).attr("y1",0).attr("x2",0).attr("y2",0),this.circleGroup.on("mouseover",(function(){Rt.f(this).select("circle").transition().attr("stroke","#000000").attr("stroke-width",2)})).on("mouseout",(function(){Rt.f(this).select("circle").transition().attr("stroke","#FFFFFF").attr("stroke-width",1)})).on("click",(function(e){o.openSpiderPopups(e,a)})),t.on("click",(function(){$(e).parent().remove(),Rt.b.stopPropagation()}))},e.prototype.createArc=function(e){return Rt.a().innerRadius(.75*e/2).outerRadius(.75*e/2+30)},e.prototype.rotatePieChart=function(){return Rt.d().startAngle(0).endAngle(-90*Math.PI/90+2*Math.PI).value((function(e){return e.value})).padAngle(.01).sort(null)},e.prototype.createLines=function(){return Rt.c().x((function(e){return e.lx})).y((function(e){return e.ly}))},e.prototype.createDonutGroup=function(e,t){return e.selectAll(".donutArcsGroup").data(this.pie(t)).enter().append("g").attr("class","donutArcsGroup")},e.prototype.createDonutArc=function(){this.donutArcsGroup.append("path").attr("d",this.arc).style("fill","none").attr("class",(function(e,t){var n=/(^.+?)L/.exec(Rt.f(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/180){var a=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+a+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}return Rt.f(this.parentNode).append("path").attr("class","hiddenDonutArcs").attr("id","donutArc"+t).attr("d",n).style("fill","none"),"donutArcs"}))},e.prototype.createLineGroup=function(e,t){return e.selectAll(".linePointsGroup").data(this.pie(t)).enter().append("g").attr("class","linePointsGroup")},e.prototype.appendLineGroupPath=function(e,t){return this.linePointsGroup.append("path").attr("class",(function(t,n){var a=$(e).find("#donutArc"+n)[0],o=Rt.f(a).node(),i=o.getPointAtLength(o.getTotalLength()/2);return t.source={x:0,y:0},t.target={x:i.x,y:i.y},"linePoints"})).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("d",t)},e.prototype.appendLineToCircle=function(e){return this.linePointsGroup.append("circle").attr("class",(function(t,n){var a=$(e).find("#donutArc"+n)[0],o=Rt.f(a).node(),i=o.getPointAtLength(o.getTotalLength()/2);return t.source={x:0,y:0},t.target={x:i.x,y:i.y},"circlePointsEnd"})).attr("r",3).attr("fill","#FFFFFF").attr("cx",(function(e){return e.target.x})).attr("cy",(function(e){return e.target.y}))},e.prototype.createCircleGroup=function(e,t,n,a){return e.selectAll(".circleGroup").data(t(n)).enter().append("g").style("cursor","pointer").style("pointer-events",(function(e,t){return e.data.disabled?"none":"all"})).attr("class","circleGroup").attr("transform",(function(e,t){var n=$(a).find("#donutArc"+t)[0],o=Rt.f(n).node(),i=o.getPointAtLength(o.getTotalLength()/2);return"translate("+i.x+","+i.y+")"}))},e.prototype.createCircle=function(){return this.circleGroup.append("circle").attr("class","circlePoints").attr("r",20).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill",(function(e){return e.data.disabled?"#b3b3b3":e.data.color})).attr("cx",(function(e){return 25})).attr("cy",(function(e){var t=e.endAngle*(180/Math.PI);return t<=90?-10:t>=180?10:0}))},e.prototype.createBandGroup=function(e,t){return this.bandGroup.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},e.prototype.createBandLine=function(e,t){return this.bandGroup.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},e.prototype.createBandCircle=function(e){return this.bandGroup.append("circle").attr("class","lineBandsCircle").attr("r",3).attr("fill","#FFFFFF").attr("cx",e.x).attr("cy",e.y)},e.prototype.appendLabelsInsideCircle=function(){return this.circleGroup.append("text").style("text-anchor","start").style("fill","#ffffff").style("font-size","12px").attr("class","donutText").attr("x",(function(e){return 50})).style("font-weight",(function(e){if(e.data.font)return"bold"})).attr("y",(function(e){var t=e.endAngle*(180/Math.PI);return t<=90?-10:t>=180?20:5})).text((function(e){return e.data.name}))},e.prototype.appendLabelOutside=function(){return this.circleGroup.append("text").style("text-anchor","middle").style("dominant-baseline","middle").style("fill","#ffffff").style("color","#ffffff").style("font-size","24px").style("font-family",(function(e){return e.data.font})).attr("x",(function(e){return 25})).attr("y",(function(e){var t=e.endAngle*(180/Math.PI);return t<=90?-7.5:t<180?2.5:t>=180?12:0})).attr("class","iconText").text((function(e){return e.data.fontvalue}))},e.prototype.openSpiderPopups=function(e,t){var n=new CustomEvent("close-side-bar");window.dispatchEvent(n),"Properties"===e.data.name?t.openPropDialogConfiguration():"Candidates"===e.data.name&&t.openCandidatesDialog()},e.prototype.openPropDialogConfiguration=function(){this.dialog.open(Zt.a,{width:"95vw",maxWidth:"97vw",height:"95%",panelClass:"material-dialog-container"})},e.prototype.openCandidatesDialog=function(){this.dialog.open(Nt.a,{width:"85vw",maxWidth:"97vw",height:"85vh",panelClass:"material-dialog-container"})},e.\u0275fac=function(t){return new(t||e)(c.Ub(c.l),c.Ub(ae.b),c.Ub(w.b),c.Ub(p.a),c.Ub(Vt.a))},e.\u0275cmp=c.Ob({type:e,selectors:[["jcpBeta-spider"]],decls:3,vars:0,consts:[[1,"spidermain-wrapper"],[1,"spideroverlay"],["xmlns","http://www.w3.org/2000/svg","version","1.1"]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"div",1),c.pc(),c.Vb(2,"svg",2),c.Zb(),c.Zb())},styles:[".spidermain-wrapper[_ngcontent-%COMP%]{\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          z-index: 10000;\n          background-color: rgba(0,0,0,.5);\n          top:0;\n          overflow:auto\n      }\n      \n      .spideroverlay[_ngcontent-%COMP%], .spideroverlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{\n          width: 100%;\n          height: 100%;\n          position: relative;\n          overflow:auto\n      }\n      \n      .spideroverlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{\n          display: inline-block;\n      }\n      .wrapper[_ngcontent-%COMP%]{\n          display: inline-block;\n      }"]}),e}(),Et=function(){function e(e,t,n,a){this.datashare=e,this.http=t,this.dialog=n,this.mainComponentRef=a,this.capitals="/assets/data/layers/markerData.json",this.getNominalData(),this.ref=this}return e.prototype.getNominalData=function(){var e=this;this.http.get("assets/data/layers/nominalssites/nominals.json").subscribe((function(t){e.nominalData=t,console.log("nominalData",e.nominalData)}))},e.prototype.getReference=function(e){this.mainlayerRef=e},e.prototype.makeCapitalMarkers=function(e){var t=this;this.map=e,this.http.get(this.capitals).subscribe((function(n){var a,o;try{for(var i=Object(f.j)(n.features),r=i.next();!r.done;r=i.next()){var s=r.value;l.marker([s.geometry.coordinates[1],s.geometry.coordinates[0]]).addTo(e).on("click",(function(e){t.onMapClick(e,t.ref,t.mainlayerRef)}))}}catch(c){a={error:c}}finally{try{r&&!r.done&&(o=i.return)&&o.call(i)}finally{if(a)throw a.error}}}))},e.prototype.onMapClick=function(e,t,n){console.log(e.target._latlng),n.map.setView(e.target._latlng),n.datashare.sendDataToSpider({event:e.target,data:t.nominalData});var a=n.componentFactoryResolver.resolveComponentFactory(Bt);n.componentRef=n.target.createComponent(a)},e.\u0275fac=function(t){return new(t||e)(c.ic(p.a),c.ic(ae.b),c.ic(w.b),c.ic(c.j))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),jt=function(){function e(e,t,n,a,o){this.datashare=e,this.element=t,this.router=n,this.http=a,this.dialog=o,this.splitter1Data=[{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"OLT",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec28",eventname:"sites-tree-createworkorder"},{name:"Splitter 2",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",eventname:"onaismallcell-tree-properties"},{name:"Splitter 2",value:5,color:"#1A7DDD",font:"icomoon",fontvalue:"\uec27",eventname:"sites-tree-onairalarms"},{name:"Splitter 1",value:5,color:"#94C65A",font:"icomoon",fontvalue:"\uec23",eventname:"sites-tree-properties"}],this.currentBand=[]}return e.prototype.ngOnInit=function(){var e=this;console.log(this.splitter1Data.length,"MMMMMMM"),this.datashare.currentsmallCellPlanned.subscribe((function(t){console.log(t,"val"),e.currentbands=t.currentbands,e.currentcell=t.currentcell})),this.initializeBiggerNode()},e.prototype.initializeBiggerNode=function(){var e=$(this.element.nativeElement).find(".spideroverlayspliter")[0],t=$(e).find("svg"),n=Rt.f(t[0]);this.drawSVG(e,n,this.splitter1Data,this)},e.prototype.drawSVG=function(e,t,n,a){var o=this,i=e.offsetWidth,r=e.offsetHeight,s=i>0?i:500,l=r>0?r:500,c=Math.min(s,500)-20-20,d=t.append("g").attr("class","wrapper").attr("transform","translate("+(s/2+4)+","+(l/2+12)+")"),p=(d.append("g").attr("transform","translate(0,0)"),Rt.a().innerRadius(.95*c/2).outerRadius(.95*c/2+30)),u=Rt.d().startAngle(0*Math.PI/360).endAngle(90*Math.PI/360+2*Math.PI).value((function(e){return e.value})).padAngle(.01).sort(null);this.createLines();var h=d.append("g").attr("class","bandsArcsGroup");h.append("circle").attr("class","circleOrbit").attr("fill","none").attr("r",275),h.selectAll("circle").attr("id",(function(e,t){return"circleOrbit"+t}));var m=h.selectAll(".donutArcsGroup").data(u(n)).enter().append("g").attr("class","donutArcsGroup");m.append("path").attr("d",p).style("fill","none").attr("class",(function(e,t){var n=/(^.+?)L/.exec(Rt.f(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/180){var a=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+a+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}return Rt.f(this.parentNode).append("path").attr("class","hiddenDonutArcs").attr("id","donutArc"+t).attr("d",n).style("fill","none"),"donutArcs"})),this.linePointsGroup=this.createLineGroup(m,n),this.appendLineGroupPath(e,(function(e){return"M"+e.source.x+","+(e.source.y+5)+"A0,0 0 0,1 "+(e.target.x+e.source.x-8)+","+(e.target.y+e.source.y-8)})),this.appendLineToCircle(e);var f=h.selectAll(".circleGroup").data(u(n)).enter().append("g").style("cursor","pointer").style("pointer-events",(function(e,t){return e.data.disabled?"none":"all"})).attr("class","circleGroup").attr("transform",(function(t,n){var a=$(e).find("#donutArc"+n)[0],o=Rt.f(a).node(),i=o.getPointAtLength(o.getTotalLength()/2);return"translate("+(i.x+80)+","+(i.y-10)+")"}));f.append("rect").attr("class","rectPoints").attr("width",40).attr("height",40).attr("rx",4).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("transform","translate(-100,0)").attr("fill",(function(e){return e.data.disabled?"#b3b3b3":e.data.color})).attr("y",(function(e){var t=e.endAngle*(180/Math.PI);return t>=0?-5:t>=90?10:t>=180?20:t>=270?50:-20})).attr("x",(function(e){return-5})),f.append("text").style("text-anchor","start").style("fill","#000").style("color","#000").style("font-family","Lato Bold").style("font-size","13px").attr("class","donutText").attr("transform","translate(-100,0)").attr("y",(function(e){var t=e.startAngle*(180/Math.PI);return t<=0?-15:t<=90?10:t<=180?50:t<=270?45:t<=360?-10:0})).attr("x",(function(e){var t=e.startAngle*(180/Math.PI);return t<=0?-10:t<=90?40:t<=180?35:t<=270?-65:t<=360?-70:-60})).text((function(e){return e.data.name})),f.append("text").style("text-anchor","middle").style("dominant-baseline","middle").style("fill","#ffffff").style("color","#ffffff").style("font-size","24px").attr("width",30).attr("height",30).attr("transform","translate(-100,0)").style("font-family",(function(e){return e.data.font})).attr("x",(function(e){return 15})).attr("y",(function(e){return 18})).attr("class","iconText").text((function(e){return e.data.fontvalue})),this.bandarc=Rt.a();var g=h.append("g").attr("id","centerImgGroup").attr("class","cellGroup").attr("transform","translate(-100,0)").style("cursor","pointer").style("opacity","0.3");g.append("foreignObject").attr({width:30,height:30}),g.append("rect").attr("class","rectPointscenter").attr("width",40).attr("height",40).attr("rx",4).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill",(function(e){return"#1A7DDD"})).attr("y",(function(e){return-15})).attr("x",(function(e){return 80})),g.style("opacity","1").attr("class","iconTextCenter"),g.append("svg:image").attr("width",30).attr("height",30).attr("x",(function(e){return 85})).attr("y",(function(e){return-10})).attr("xlink:href","assets/images/Layers/ip-topology/Equipment/icon-16.svg"),g.append("text").style("text-anchor","middle").style("fill","#000").style("color","#000").style("font-family","Lato Bold").style("font-size","13px").attr("class","donutText").attr("transform","translate(0,0)").attr("y",(function(e){return 40})).attr("x",(function(e){return 100})).text((function(e){return"Spliter 1"})),g.append("text").style("text-anchor","middle").style("fill","#848C95").style("color","#848C95").style("font-family","Lato Medium").style("font-size","12px").attr("class","donutTextHeder").attr("transform","translate(0,0)").attr("y",(function(e){return 70})).attr("x",(function(e){return 100})).text((function(e){return"Lattitude & Longitude"})),g.append("text").style("text-anchor","middle").style("fill","#212529").style("color","#212529").style("font-family","Lato Medium").style("font-size","13px").attr("class","donutTextHederVal").attr("transform","translate(0,30)").attr("y",(function(e){return 60})).attr("x",(function(e){return 100})).text((function(e){return"1234\u201928718278274578\u2019"})),h.append("g").attr("class","cellGroup").attr("transform","translate(-22.5,-39.4)").style("cursor","pointer").append("foreignObject").attr({width:45,height:45.4}),f.on("mouseover",(function(){Rt.f(this).select("circle").transition().attr("stroke","#000000").attr("stroke-width",2)})).on("mouseout",(function(){Rt.f(this).select("circle").transition().attr("stroke","#FFFFFF").attr("stroke-width",1)})).on("click",(function(e){o.openSpiderPopups(e,a)})),t.on("click",(function(){console.log($(e).parent(),"$(element).parent()"),$(e).parent().remove(),Rt.b.stopPropagation()}))},e.prototype.leafSVGMouseOut=function(e,t){this.leafSVG.on("mouseout",function(e,t){return function(){return e.cellid!=t.cellid&&Rt.f(this).transition().attr("stroke-width",1),!1}}(e,t))},e.prototype.createArc=function(e,t){return Math.min(e,t),Rt.a().innerRadius(.95*e/2).outerRadius(.95*e/2+30)},e.prototype.layoutPie=function(e){return Rt.d().value((function(e){return e.value})).padAngle(.01).sort(null)},e.prototype.diagonal=function(e){return function(e){return"M"+e.source.y+","+e.source.x+"C"+(e.source.y+e.target.y)/2+","+e.source.x+" "+(e.source.y+e.target.y)/2+","+e.target.x+" "+e.target.y+","+e.target.x}},e.prototype.rotatePieChart=function(){return Rt.d().startAngle(0*Math.PI/360).endAngle(90*Math.PI/360+2*Math.PI).value((function(e){return e.value})).padAngle(.01).sort(null)},e.prototype.createLines=function(){return Rt.c().x((function(e){return e.lx})).y((function(e){return e.ly}))},e.prototype.createDonutGroup=function(e,t){return e.selectAll(".donutArcsGroup").data(this.pie(t)).enter().append("g").attr("class","donutArcsGroup")},e.prototype.createDonutArc=function(e,t,n){},e.prototype.createLineGroup=function(e,t){var n=Rt.d().startAngle(0*Math.PI/360).endAngle(90*Math.PI/360+2*Math.PI).value((function(e){return e.value})).padAngle(.01).sort(null);return e.selectAll(".linePointsGroup").data(n(t)).enter().append("g").attr("class","linePointsGroup")},e.prototype.appendLineGroupPath=function(e,t){return this.linePointsGroup.append("path").attr("class",(function(t,n){var a=$(e).find("#donutArc"+n)[0],o=Rt.f(a).node(),i=o.getPointAtLength(o.getTotalLength()/2);return t.source={x:0,y:0},t.target={x:i.x,y:i.y},"linePoints"})).attr("stroke-width",2).attr("stroke","#F03DA8").style("stroke-dasharray","3, 3").attr("transform","translate(0,0)").attr("fill","none").attr("d",t)},e.prototype.appendLineToCircle=function(e){},e.prototype.createCircleGroup=function(e,t,n,a){return e.selectAll(".circleGroup").data(t(n)).enter().append("g").style("cursor","pointer").style("pointer-events",(function(e,t){return e.data.disabled?"none":"all"})).attr("class","circleGroup").attr("transform",(function(e,t){var n=$(a).find("#donutArc"+t)[0],o=Rt.f(n).node(),i=o.getPointAtLength(o.getTotalLength()/2);return"translate("+(i.x+80)+","+(i.y-10)+")"}))},e.prototype.createCircle=function(){return this.circleGroup.append("rect").attr("class","rectPoints").attr("width",40).attr("height",40).attr("rx",4).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("transform","translate(-100,0)").attr("fill",(function(e){return e.data.disabled?"#b3b3b3":e.data.color})).attr("y",(function(e){var t=e.endAngle*(180/Math.PI);return t>=0?-5:t>=90?10:t>=180?20:t>=270?50:-20})).attr("x",(function(e){return-5}))},e.prototype.createBandGroup=function(e,t){return this.bandGroup.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},e.prototype.createBandLine=function(e,t){return this.bandGroup.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},e.prototype.createBandCircle=function(e){return this.bandGroup.append("circle").attr("class","lineBandsCircle").attr("r",3).attr("fill","#FFFFFF").attr("cx",e.x).attr("cy",e.y)},e.prototype.appendLabelsInsideCircle=function(){},e.prototype.appendLabelOutside=function(){return this.circleGroup.append("text").style("text-anchor","middle").style("dominant-baseline","middle").style("fill","#ffffff").style("color","#ffffff").style("font-size","24px").attr("width",30).attr("height",30).attr("transform","translate(-100,0)").style("font-family",(function(e){return e.data.font})).attr("x",(function(e){return 15})).attr("y",(function(e){return 18})).attr("class","iconText").text((function(e){return e.data.fontvalue}))},e.prototype.openSpiderPopups=function(e,t){"Properties"===e.data.name?t.openPropDialogConfiguration():"Capacity"===e.data.name?t.openCapacityViewPopups():"KPI's"===e.data.name?t.openKpiDialogConfiguration():"Alarms"===e.data.name?t.openAlarmDialog():"Configuration"===e.data.name?t.openConfigDialog():"Candidates"===e.data.name&&t.openCandidatesDialog()},e.prototype.openCapacityViewPopups=function(){},e.prototype.openPropDialogConfiguration=function(){},e.prototype.openKpiDialogConfiguration=function(){},e.prototype.openAlarmDialog=function(){},e.prototype.openConfigDialog=function(){},e.prototype.openCandidatesDialog=function(){},e.prototype.findNewPoint=function(e,t,n,a){var o={};return o.x=Math.round(Math.cos(n*Math.PI/360)*a+e),o.y=Math.round(Math.sin(n*Math.PI/360)*a+t),o},e.prototype.getBoundingBoxCenter=function(e){var t=e.node().getBBox();return[t.x+t.width/2,t.y+t.height/2]},e.\u0275fac=function(t){return new(t||e)(c.Ub(p.a),c.Ub(c.l),c.Ub(i.b),c.Ub(ae.b),c.Ub(w.b))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-spliter-view"]],decls:4,vars:0,consts:[[1,"spidermain-wrapper-logical-topology-spliter"],[1,"spideroverlayspliter"],[1,"spiderview","spider-fiveg-circular"],["spiderView",""]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"div",1),c.pc(),c.Vb(2,"svg",2,3),c.Zb(),c.Zb())},styles:[".spidermain-wrapper-logical-topology-spliter[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:10000;background-color:rgba(0,0,0,0);top:0;left:130px;overflow:auto}.spideroverlayspliter[_ngcontent-%COMP%], .spideroverlayspliter[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:auto}.spideroverlayspliter[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{display:inline-block}.spider-fiveg-circular[_ngcontent-%COMP%]{box-shadow:0 0 1rem 0 rgba(0,0,0,.2);border-radius:5px;position:relative!important;z-index:1;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);padding:0;background-color:hsla(0,0%,100%,.4)}"]}),e}(),Gt=function(){function e(e,t,n,a,o,i){this.componentFactoryResolver=e,this.datashare=t,this.element=n,this.router=a,this.http=o,this.dialog=i,this.smallCellData=[{name:"Properties",value:5,color:"#8CC63F",font:"icomoon",fontvalue:"\uf112",frequency:.01492,eventname:"sites-tree-properties",radiuscircle:250,deviceType:[{device:"css router",color:"#94C65A",font:"icomoon",fontvalue:"\uec26",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"AG1 Router",color:"#94C65A",font:"icomoon",fontvalue:"\uec27",value:5},{device:"OLT",color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",value:5},{device:"Splitter 1",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec24",value:5},{device:"OTB",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec29",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"Other",color:"#94C65A",font:"icomoon",fontvalue:"\uec2c",value:5},{device:"css router",color:"#94C65A",font:"icomoon",fontvalue:"\uec26",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"AG1 Router",color:"#94C65A",font:"icomoon",fontvalue:"\uec27",value:5},{device:"OLT",color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",value:5},{device:"Splitter 1",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec24",value:5},{device:"OTB",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec29",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"Other",color:"#94C65A",font:"icomoon",fontvalue:"\uec2c",value:5},{device:"css router",color:"#94C65A",font:"icomoon",fontvalue:"\uec26",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"AG1 Router",color:"#94C65A",font:"icomoon",fontvalue:"\uec27",value:5},{device:"OLT",color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",value:5},{device:"Splitter 1",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec24",value:5},{device:"OTB",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec29",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"Other",color:"#94C65A",font:"icomoon",fontvalue:"\uec2c",value:5}]},{name:"Properties",value:5,color:"#8CC63F",font:"icomoon",fontvalue:"\uf112",frequency:.01492,eventname:"sites-tree-properties",radiuscircle:175,deviceType:[{device:"css router",color:"#94C65A",font:"icomoon",fontvalue:"\uec26",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"AG1 Router",color:"#94C65A",font:"icomoon",fontvalue:"\uec27",value:5},{device:"OLT",color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",value:5},{device:"Splitter 1",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec24",value:5},{device:"OTB",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec29",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"Other",color:"#94C65A",font:"icomoon",fontvalue:"\uec2c",value:5}]},{name:"Create Workorder",value:5,color:"#8dc63f",font:"icomoon",fontvalue:"\uf222",disabled:!0,frequency:.02782,radiuscircle:100,eventname:"sites-tree-createworkorder",deviceType:[{device:"css router",color:"#94C65A",font:"icomoon",fontvalue:"\uec26",value:5},{device:"L2 Switch",color:"#94C65A",font:"icomoon",fontvalue:"\uec28",value:5},{device:"OLT",color:"#94C65A",font:"icomoon",fontvalue:"\uec2b",value:5},{device:"Splitter 1",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec24",value:5},{device:"OTB",color:"#1A7DDD",font:"icomoon",fontvalue:"\uec29",value:5}]}],this.currentBand=[]}return e.prototype.ngOnInit=function(){this.datashare.currentsmallCellPlanned.subscribe((function(e){})),this.initializeBiggerNode()},e.prototype.initializeBiggerNode=function(){var e=this,t=$(this.element.nativeElement).find(".spideroverlay")[0],n=$(t).find("svg"),a=Rt.f(n[0]),o=t.offsetWidth,i=t.offsetHeight,r=o>0?o:500,s=i>0?i:500,l=a.append("g").attr("class","wrapper").attr("transform","translate("+(r/2+4)+","+(s/2+12)+")");l.append("g").attr("transform","translate(0,0)"),this.smallCellData.forEach((function(n){var o=Math.min(r,500)-20-20,i=Rt.a().innerRadius(.95*o/2).outerRadius(.95*o/2+30),s=Rt.a().innerRadius(.33*o/2).outerRadius(.33*o/2+30),c=Rt.a().innerRadius(.63*o/2).outerRadius(.63*o/2+30),d=Rt.d().startAngle(0*Math.PI/360).endAngle(90*Math.PI/360+2*Math.PI).value((function(e){return e.value})).padAngle(.01).sort(null),p=l.append("g").attr("class","bandsArcsGroup");p.append("circle").attr("class","circleOrbit").attr("fill","none").attr("stroke","#000").attr("stroke-opacity",.5).attr("r",n.radiuscircle),p.selectAll("circle").attr("id",(function(e,t){return"circleOrbit"+t}));var u=p.selectAll(".donutArcsGroup").data(d(n.deviceType)).enter().append("g").attr("class","donutArcsGroup");"100"==n.radiuscircle?u.append("path").attr("d",s).style("fill","none").attr("class",(function(e,t){var n=/(^.+?)L/.exec(Rt.f(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/180){var a=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+a+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}return Rt.f(this.parentNode).append("path").attr("class","hiddenDonutArcs").attr("id","donutArcInner"+t).attr("d",n).style("fill","none"),"donutArcsInner"})):"175"==n.radiuscircle?u.append("path").attr("d",c).style("fill","none").attr("class",(function(e,t){var n=/(^.+?)L/.exec(Rt.f(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/270){var a=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+a+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}return Rt.f(this.parentNode).append("path").attr("class","hiddenDonutArcs").attr("id","donutArcOuterMost"+t).attr("d",n).style("fill","none"),"donutArcs"})):u.append("path").attr("d",i).style("fill","none").attr("class",(function(e,t){var n=/(^.+?)L/.exec(Rt.f(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/180){var a=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+a+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}return Rt.f(this.parentNode).append("path").attr("class","hiddenDonutArcs").attr("id","donutArc"+t).attr("d",n).style("fill","none"),"donutArcs"}));var h=p.selectAll(".circleGroup").data(d(n.deviceType)).enter().append("g").style("cursor","pointer").style("pointer-events",(function(e,t){return e.data.disabled?"none":"all"})).attr("class","circleGroup").attr("transform",(function(e,a){if("100"==n.radiuscircle){var o=$(t).find("#donutArcInner"+a)[0];return"translate("+(r=(i=Rt.f(o).node()).getPointAtLength(i.getTotalLength()/2)).x+","+r.y+")"}return"175"==n.radiuscircle?(o=$(t).find("#donutArcOuterMost"+a)[0],"translate("+((r=(i=Rt.f(o).node()).getPointAtLength(i.getTotalLength()/2)).x-20)+","+r.y+")"):(o=$(t).find("#donutArc"+a)[0],"translate("+((r=(i=Rt.f(o).node()).getPointAtLength(i.getTotalLength()/2)).x-20)+","+r.y+")");var i,r}));h.append("rect").attr("class","rectPoints").attr("width",40).attr("height",40).attr("rx",4).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill",(function(e){return e.data.disabled?"#b3b3b3":e.data.color})).attr("y",(function(e){return"100"==n.radiuscircle?-25:(t=e.endAngle*(180/Math.PI))>=0?-20:t>=90?10:t>=180?20:t>=270?50:-20;var t})).attr("x",(function(e){return"100"==n.radiuscircle?-25:0})),h.append("text").style("text-anchor","start").style("fill","#000").style("color","#000").style("font-size","12px").attr("class","donutText").attr("y",(function(e){return"100"==n.radiuscircle?30:(t=e.startAngle*(180/Math.PI))<=90||t>=180?35:40;var t})).attr("x",(function(e){return"100"==n.radiuscircle?-25:-5})).text((function(e){return e.data.device})),h.append("text").style("text-anchor","middle").style("dominant-baseline","middle").style("fill","#ffffff").style("color","#000").style("font-size","24px").style("font-family",(function(e){return e.data.font})).attr("x",(function(e){return"100"==n.radiuscircle?-5:20})).attr("y",(function(e){return"100"==n.radiuscircle?-5:2})).attr("class","iconText").text((function(e){return e.data.fontvalue})),h.on("mouseover",(function(){Rt.f(this).select("circle").transition().attr("stroke","#000000").attr("stroke-width",2)})).on("mouseout",(function(){Rt.f(this).select("circle").transition().attr("stroke","#FFFFFF").attr("stroke-width",1)})).on("click",(function(t){e.openSpiderPopups(t,e)}));var m=p.append("g").attr("id","centerImgGroup").attr("class","cellGroup").attr("transform","translate(-12,-20)").style("cursor","pointer").style("opacity","0.3");m.append("foreignObject").attr({width:30,height:30}),m.append("rect").attr("class","rectPointscenter").attr("width",40).attr("height",40).attr("rx",4).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill",(function(e){return"#003A74"})).attr("y",(function(e){return-5})).attr("x",(function(e){return-5})),m.style("opacity","1"),m.append("svg:image").attr("width",30).attr("height",30).attr("xlink:href","assets/images/Layers/ip-topology/Equipment/icon-14.svg"),m.append("text").style("text-anchor","middle").style("fill","#848C95").style("color","#848C95").style("font-family","Lato Medium").style("font-size","12px").attr("class","donutTextHeder").attr("transform","translate(0,0)").attr("y",(function(e){return 55})).attr("x",(function(e){return 12})).text((function(e){return"Lattitude & Longitude"})),m.append("text").style("text-anchor","middle").style("fill","#212529").style("color","#212529").style("font-family","Lato Medium").style("font-size","12px").attr("class","donutTextHederVal").attr("transform","translate(0,0)").attr("y",(function(e){return 70})).attr("x",(function(e){return 12})).text((function(e){return"1234\u201928718278274578\u2019"})),a.on("click",(function(){$(t).parent().remove(),Rt.b.stopPropagation()}))}))},e.prototype.leafSVGMouseOut=function(e,t){this.leafSVG.on("mouseout",function(e,t){return function(){return e.cellid!=t.cellid&&Rt.f(this).transition().attr("stroke-width",1),!1}}(e,t))},e.prototype.openSpiderPopups=function(e,t){"Properties"===e.data.name?t.openPropDialogConfiguration():"Capacity"===e.data.name?t.openCapacityViewPopups():"Splitter 1"===e.data.device?t.openSplitter1():"Alarms"===e.data.name?t.openAlarmDialog():"Configuration"===e.data.name?t.openConfigDialog():"Candidates"===e.data.name&&t.openCandidatesDialog()},e.prototype.openSplitter1=function(){var e=this;setTimeout((function(){e.dialog.open(jt,{panelClass:"material-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0})}),500)},e.\u0275fac=function(t){return new(t||e)(c.Ub(c.j),c.Ub(p.a),c.Ub(c.l),c.Ub(i.b),c.Ub(ae.b),c.Ub(w.b))},e.\u0275cmp=c.Ob({type:e,selectors:[["jcpBeta-spider-view"]],decls:5,vars:0,consts:[[1,"spidermain-wrapper-logical-topology"],[1,"spideroverlay"],[1,"spiderview","spider-fiveg-circular"],["spiderView",""]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"div",1),c.pc(),c.Vb(2,"svg",2,3),c.Zb(),c.oc(),c.Vb(4,"div"),c.Zb())},styles:[".spidermain-wrapper-logical-topology[_ngcontent-%COMP%]{\n          width: 100%;\n          height: 100%;\n          position: absolute;\n          z-index: 10000;\n          background-color: rgba(0,0,0,0);\n          top:0;\n          overflow:auto\n      }\n      \n      .spideroverlay[_ngcontent-%COMP%], .spideroverlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{\n          width: 100%;\n          height: 100%;\n          position: relative;\n          overflow:auto\n      }\n      \n      .spideroverlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%]{\n          display: inline-block;\n      }\n      .wrapper[_ngcontent-%COMP%]{\n          display: inline-block;\n      }\n      .spider-fiveg-circular[_ngcontent-%COMP%] {\n          box-shadow: 0 0 1rem 0 rgba(0, 0, 0, .2);\n          border-radius: 5px;\n          position: relative !important;\n          z-index: 1;\n          backdrop-filter: blur(15px);\n          padding: 0;\n          background-color:rgba(255, 255, 255, 0.4);\n      }"]}),e}(),Ut=n("ZWlK"),Wt=n("DQIN"),Ht=n("d8dI"),Jt=function(){function e(e,t,n,a,o){var i=this;this.navigationFactoryService=e,this.componentFactoryResolver=t,this.datashare=n,this.http=a,this.shapeService=o,this.arrayOfSites=[],this.pixelRatio=window.devicePixelRatio||1,this._assetQueue=null,this._colors=["#757584","#0070DB","#92D050","#8C6900","#0D47A1","#006838","#00506A","#00ADEE","#5900B2"],this._siteImagePath="assets/images/Layers/ip-topology/Equipment/",this._plannedSiteImageManifest=[{id:"ont",src:this._siteImagePath+"icon-22.svg",type:Ut.LoadQueue.IMAGE},{id:"olt",src:this._siteImagePath+"icon-23.svg",type:Ut.LoadQueue.IMAGE},{id:"l2-switch",src:this._siteImagePath+"icon-20.svg",type:Ut.LoadQueue.IMAGE},{id:"otb",src:this._siteImagePath+"icon-21.svg",type:Ut.LoadQueue.IMAGE},{id:"ag1-router",src:this._siteImagePath+"icon-19.svg",type:Ut.LoadQueue.IMAGE},{id:"splitter-1",src:this._siteImagePath+"icon-16.svg",type:Ut.LoadQueue.IMAGE},{id:"splitter-2",src:this._siteImagePath+"icon-15.svg",type:Ut.LoadQueue.IMAGE},{id:"others",src:this._siteImagePath+"icon-24.svg",type:Ut.LoadQueue.IMAGE},{id:"css-router",src:this._siteImagePath+"icon-18.svg",type:Ut.LoadQueue.IMAGE},{id:"all-device",src:this._siteImagePath+"icon-14.svg",type:Ut.LoadQueue.IMAGE}],this.draw=function(){var e=this,t=this.componentRef=this;this.map=this.shapeService.mapServiceData,this.siteData=this.sitesValArr;var n=this.lib.customLayer({container:document.createElement("canvas"),zooms:[0,18],opacity:1,visible:!0,zIndex:120,alwaysRender:!0});n.on("layer-beforemount",(function(){})),n.on("layer-mounted",(function(){})),n.on("layer-render",(function(){t.sitesSmallCell4GLayerMap(this)})),n.on("layer-beforedestroy",(function(){})),n.on("layer-destroyed",(function(){})),this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){e.selectedLayerArrList=t,n.remove(e.map);for(var a=0;a<e.selectedLayerArrList.length;a++){var o=e.selectedLayerArrList[a];if(console.log(e.selectedLayerArrList),"JCP/Layers/Topologies/Fibre/LogicalTopology/Planned"==o.link)return n.addTo(e.map)}}))},this.resizeContainer=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},this.ref=this,this.lib=leaflayer(),this.redrawLayer(),console.log("asdasdasas"),this.getJSON().subscribe((function(e){i.sitesValArr=e}))}return e.prototype.getJSON=function(){return this.http.get("assets/data/layers/iptopology/iptopology.json")},e.prototype.redrawLayer=function(){var e=this;setTimeout((function(){e.draw()}),1e3)},e.prototype.sitesSmallCell4GLayerMap=function(e){var t=this,n=this.resizeContainer(e);if(this.siteData=this.sitesValArr.sites,window,"object"==typeof this.siteData&&void 0!==this.siteData){this.container=new Ut.Container,this.stage=new Ut.Stage(n),Ut.Ticker.addEventListener("tick",this.stage),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._simplePopup=this.getPopup();var a=this.siteData;this.zoomLevel=e._zoom;var o=this.zoomLevel<=7?.4:this.zoomLevel<=10?.5:this.zoomLevel<=13?.75:this.zoomLevel<=15?.5:.75;this._scaleMatrix=o*=this.pixelRatio;var i=l.point(0,-60*o/this.pixelRatio);this._simplePopup.options.offset=i,this.container.removeAllChildren();var r=new Ut.Shadow("rgba(0,0,0,0.2)",1,2,5),s=this.map.getBounds(),c=new Wt.LoadQueue(!0);c.loadManifest(this._plannedSiteImageManifest,!0);for(var d=new Ut.Container,p=new Ut.Container,u=a.length,h=function(){var e=a[f],n=e.connectivity,i=l.latLng(e.latitude,e.longitude);if(!s.contains(i))return"continue";var u=m.map.latLngToContainerPoint(i),h={x:u.x*m.pixelRatio,y:u.y*m.pixelRatio},g=new Ut.Container;g.x=h.x,g.y=h.y,g.scaleX=o,g.scaleY=o,g.name=e.neId,g.mouseChildren=!1,g.cursor="pointer",g.latlng=i,g.data=e,g.alpha=1;var b=m._colors[0];if(e.nodeType)switch(e.nodeType){case"NONEPC":b=m._colors[1];break;case"EPC":b=m._colors[2];break;case"SUPERCORE":b=m._colors[3];break;case"ATP11_B":b=m._colors[4];break;case"SCFT":b=m._colors[5];break;case"EMF":b=m._colors[6];break;case"HOTO":b=m._colors[7];break;default:b=m._colors[0]}m._assetQueue=new Ut.LoadQueue(!1,null,!0),m._assetQueue.loadManifest(m._plannedSiteImageManifest,!0);var y=Math.floor(10*Math.random()+8),v=m.getCircleGraphics(b,y),x=new Ut.Shape(v);g.addChild(x);var w=void 0;for(var C in n){var L=n[C].target,M=l.latLng(L.latitude,L.longitude),S=m.map.latLngToContainerPoint(M);(w=new Ut.Shape(m.iptopolinks({x:S.x*m.pixelRatio,y:S.y*m.pixelRatio},"#FB5246",h))).cursor="pointer",w.addEventListener("mouseover",(function(e){var t=e.target;t.graphics.strokeWidthCommand.width=3*o,t.graphics.strokeColorCommand.style="#1e88e5"})),w.addEventListener("mouseout",(function(e){var t=e.target;t.graphics.strokeWidthCommand.width=o,t.graphics.strokeColorCommand.style="#41b021"})),w.addEventListener("click",(function(e){})),d.addChild(w)}if(console.log(m.zoomLevel,"this.zoomLevel"),m.zoomLevel>=5){g.removeChild(x),d.removeChild(w);var D=function(t){var a,s=n[t].target,p=m.drawRoundRect(o,s.color),u=new Ut.Shape(p);u.scaleX=o,u.scaleY=o,u.regX=28,u.regY=30,u.shadow=r,g.addChild(u),n.length>1?(a="all-device",c.on("complete",(function(t){var n={preload:c,latlng:i,data:e,nodeContainer:g,id:a},r=new Ut.Bitmap(n.preload.getResult(n.id));r.scaleX=o,r.scaleY=o,r.regX=20,r.regY=20,r.latlng=n.latlng,r.data=n.data,n.nodeContainer.addChild(r)}))):("CSS Router"==s.device?a="css-router":"L2 Switch"==s.device?a="l2-switch":"OLT"==s.device?a="olt":"ONT"==s.device?a="ont":"OTB"==s.device?a="otb":"AG1 Router"==s.device?a="ag1-router":"Splitter 1"==s.device?a="splitter-1":"Splitter 2"==s.device?a="splitter-2":"Others"==s.device&&(a="others"),c.on("complete",(function(t){var n={preload:c,latlng:i,data:e,nodeContainer:g,id:a},r=new Ut.Bitmap(n.preload.getResult(n.id));r.scaleX=o,r.scaleY=o,r.regX=20,r.regY=20,r.latlng=n.latlng,r.data=n.data,n.nodeContainer.addChild(r)})));var f=l.latLng(s.latitude,s.longitude),b=m.map.latLngToContainerPoint(f),y=new Ut.Shape(m.iptopolinks({x:b.x*m.pixelRatio,y:b.y*m.pixelRatio},"#41b021",h));y.cursor="pointer",y.addEventListener("mouseover",(function(e){var t=e.target;t.graphics.strokeWidthCommand.width=3*o,t.graphics.strokeColorCommand.style="#1e88e5"})),y.addEventListener("mouseout",(function(e){var t=e.target;t.graphics.strokeWidthCommand.width=o,t.graphics.strokeColorCommand.style="#41b021"})),y.addEventListener("click",(function(e){})),d.addChild(y)};for(var k in n)D(k);console.log(e,"d");var A=new Ut.Text(e.neId,"bold 14px Lato-Medium","#FFFFFF");A.textAlign="center",A.x=20*o/m.pixelRatio,A.y=120*o/m.pixelRatio;var P=A.clone();P.shadow=r,P.color="#000000",g.addChild(A,P),g.on("click",(function(e){e.target.data.connectivity.length>1&&t.spiderViewFeature(e,t.ref,t.mainlayerRef)}))}s.extend(i),p.addChild(g,d)},m=this,f=0;f<u;f++)h();this.container.addChild(p),this.stage.addChild(this.container),this._bounds=s,this.container.alpha=1,this.stage.update()}},e.prototype.getReference=function(e){this.mainlayerRef=e},e.prototype.spiderViewFeature=function(e,t,n){if(n.map.setView(e.target.latlng,14),"white"==e.target.color)return!1;var a={};if(a.currentbands=e.target.data,a.mainlayer=n,a.eventData=e,!this.datashare)throw new Error("Data sharing service not found. Please add one.");if(this.datashare.changesmallCellPlanned(a),!this.componentFactoryResolver)throw new Error("Dynamic component loader not found. Please include resolveComponentFactory module from the ng core.");var o=this.componentFactoryResolver.resolveComponentFactory(Gt);n.target.createComponent(o)},e.prototype.loadImage=function(e){return new Promise((function(t,n){var a=new Image;a.onload=function(e){return t(a)},a.onerror=function(){return n("failed to load "+e)},a.src=e}))},e.prototype.getPopup=function(){return l.popup({className:"leaflet-simple-popup",minWidth:120,offset:l.point(0,-40),closeButton:!1})},e.prototype.getCircleGraphics=function(e,t){var n=new Ut.Graphics;return n.setStrokeStyle(1),n.beginStroke(e),n.beginFill(e),n.drawCircle(0,0,t),n},e.prototype.drawRoundRect=function(e,t){var n=new Ut.Graphics;return n.beginFill(t),n.drawRoundRect(0,0,80,80,10),n},e.prototype.getSelectionGraphics=function(e,t,n){var a=new Ut.Graphics;return a.setStrokeStyle(2),a.setStrokeDash([5,5]),a.beginStroke(e),a.beginFill(t),a.drawCircle(0,0,n),a},e.prototype.iptopolinks=function(e,t,n){var a=new Ut.Graphics,o=a.setStrokeStyle(2).command;a.strokeWidthCommand=o;var i=a.beginStroke(t).command;return a.strokeColorCommand=i,a.setStrokeDash([5,5]),a.moveTo(e.x,e.y),a.lineTo(n.x,n.y),a.closePath(),a.endFill(),a},e.prototype.removeLayer=function(){var e=this.stage;e.removeChild(this.container),e.update()},e.prototype.dispatchDialog=function(){this.openDialog({headerText:"LogicalConnectivity Settings",template:this.logicalConnectivitySettingsPopup},{width:536,height:600,backdropClass:"light-white-backdrop",disableClose:!1})},e.prototype.closeDialog=function(){this.dialog.close()},e.prototype.openDialog=function(e,t){this.dialog=this.navigationFactoryService.open(e,t)},e.prototype.ngOnInit=function(){this.dispatchDialog()},e.\u0275fac=function(t){return new(t||e)(c.ic(Ht.a),c.ic(c.j),c.ic(p.a),c.ic(ae.b),c.ic(d.a))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),$t=n("xG9w"),Qt=function(){function e(e,t,n,a){var o=this;this.datashare=e,this.http=t,this.dialog=n,this.shapeService=a,this.arrayOfSites=[],this.pixelRatio=window.devicePixelRatio||1,this._colors=["#757584","#92D050","#8C6900","#006838","#00506A","#00ADEE","#5900B2","#0D47A1"],this._siteImagePath="assets/images/Layers/macro-nominal/",this._plannedSiteImageManifest=[{id:"smallcellpetal",src:this._siteImagePath+"0.svg",type:Ut.LoadQueue.IMAGE}],this.draw=function(){var e=this,t=this.componentRef=this;this.map=this.shapeService.mapServiceData,this.siteData=this.sitesValArr;var n=this.lib.customLayer({container:document.createElement("canvas"),zooms:[0,18],opacity:1,visible:!0,zIndex:120,alwaysRender:!0});n.on("layer-beforemount",(function(){})),n.on("layer-mounted",(function(){})),n.on("layer-render",(function(){t.sitesNominalLayerMap(this),this._assetQueue=new Ut.LoadQueue(!0,null,!0),this._assetQueue.loadManifest(this._plannedSiteImageManifest,!0)})),n.on("layer-beforedestroy",(function(){})),n.on("layer-destroyed",(function(){})),this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){e.selectedLayerArrList=t,n.remove(e._map),e.removeAllMarkers();for(var a=0;a<e.selectedLayerArrList.length;a++){var o=e.selectedLayerArrList[a];if("JCP/Layers/Nominal/Macro/Macro4G"==o.link&&1==o.selected)return n.addTo(e.map)}}))},this.resizeContainer=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},this.ref=this,this.lib=leaflayer(),this.redrawLayer(),this.getJSON().subscribe((function(e){o.sitesValArr=e}))}return e.prototype.getJSON=function(){return this.http.get("assets/data/layers/nominalssites/nominals.json")},e.prototype.redrawLayer=function(){var e=this;setTimeout((function(){e.draw()}),1e3)},e.prototype.sitesNominalLayerMap=function(e){var t=this,n=this.resizeContainer(e);if(this.siteData=this.sitesValArr,window,"object"==typeof this.siteData&&void 0!==this.siteData){this.container=new Ut.Container,this.stage=new Ut.Stage(n),Ut.Ticker.addEventListener("tick",this.stage),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._simplePopup=this.getPopup();var a=$t.d(this.siteData.site2300,(function(e){return e.sitebandtype="site2300",e})),o=$t.b([a],!0),i=$t.c(o,"sapid");this._points=i,this.zoomLevel=e._zoom;var r=this.zoomLevel<=7?.03:this.zoomLevel<=10?.08:this.zoomLevel<=13?.15:this.zoomLevel<=15?.25:this.zoomLevel<=16?.35:.4;this.scaleMatrix=r*this.pixelRatio,this.scaleMatrix=r;var s=l.point(0,-60*r/this.pixelRatio);this._simplePopup.options.offset=s,this.container.removeAllChildren();var c=new Ut.Shadow("rgba(0,0,0,0.2)",1,2,5),d=this.map.getBounds(),p=new Wt.LoadQueue(!0);for(var u in p.loadManifest(this._plannedSiteImageManifest,!0),i){var h=i[u],m=l.latLng(h[0].latitude,h[0].longitude);if(d.contains(m)){var f=this.map.latLngToContainerPoint(m),g={x:f.x*this.pixelRatio,y:f.y*this.pixelRatio},b=new Ut.Container;for(var y in b.cursor="pointer",b.shadow=c,b.x=g.x,b.y=g.y,b.scaleX=r,b.scaleY=r,b.name=h[0].sapid,h){for(var v=h[y],x=0,w=v.siteArray.length;x<w;x++){var C=v.siteArray[x],L=new Ut.Bitmap("assets/images/Layers/macro-nominal/0.svg");L.regX=10,L.regY=30,L.scaleX=5,L.scaleY=5,L.latlng=m,L.data=C,L.band=y,b.addChild(L)}if(this.zoomLevel>=12){var M=new Ut.Text(h[0].sapid,"bold 40px Lato-Medium","#FFFFFF");M.textAlign="center",M.y=300*r/this.pixelRatio;var S=M.clone();S.shadow=c,S.color="#000000",b.on("click",(function(e){console.log(e,"event"),t.spiderViewFeature(e,t.ref,t.mainlayerRef)})),b.addChild(M,S)}}d.extend(m),this.container.addChild(b)}}this.stage.addChild(this.container),this._bounds=d,this.container.alpha=1,this.stage.update()}},e.prototype.loadSVGiconsOverCanvas=function(e){var t=new Ut.Bitmap(e.preload.getResult(e.id));t.scaleX=5,t.scaleY=5,t.regX=14.5,t.regY=27,t.latlng=e.latlng,t.data=e.band,t.current=e.cell,e.siteContainer.addChild(t)},e.prototype.getPopup=function(){return l.popup({className:"leaflet-simple-popup",minWidth:120,offset:l.point(0,-40),closeButton:!1})},e.prototype.removeAllMarkers=function(){},e.prototype.getReference=function(e){this.mainlayerRef=e},e.prototype.spiderViewFeature=function(e,t,n){var a=e.target;console.log(a,"layer"),n.map.setView(a.latlng);var o={ref:n};console.log("sideNavService",n.sideNavService),n.datashare.sendDataToSpider(o);var i=n.componentFactoryResolver.resolveComponentFactory(Bt);n.componentRef=n.target.createComponent(i)},e.\u0275fac=function(t){return new(t||e)(c.ic(p.a),c.ic(ae.b),c.ic(w.b),c.ic(d.a))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),qt=function(){function e(e,t,n,a){this.datashare=e,this.router=t,this.shapeService=n,this.http=a,this.draw=function(){var e=this;this._map=this.shapeService.mapServiceData;var t=function(){var e=this.getContainer(),t=l.Browser.retina?2:1,n=this._bounds.getSize(),a=this._padding;e.width=t*n.x,e.height=t*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px";var o=e.getContext("2d");return l.Browser.retina&&o.scale(t,t),o.translate(a.x,a.y),o.clearRect(0,0,e.width,e.height),o},n=this.lib.customLayer({container:document.createElement("canvas"),padding:.1,zooms:[0,18],opacity:1,visible:!0,zIndex:120,alwaysRender:!0});n.on("layer-beforemount",(function(){})),n.on("layer-mounted",(function(){})),n.on("layer-render",(function(){t.bind(this)(),this._map.getBounds()})),n.on("layer-beforedestroy",(function(){})),n.on("layer-destroyed",(function(){})),this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){e.selectedLayerArrList=t,n.remove(e._map),e._map.hasLayer(e.stateLayer)&&e._map.removeLayer(e.stateLayer);for(var a=0;a<e.selectedLayerArrList.length;a++)if("JCP/Layers/Small-Cell"==e.selectedLayerArrList[a].link)return console.log("got it all amll ESC"),e.boundariesData(),n.addTo(e._map)}))},this.lib=leaflayer(),this.redrawLayer()}return e.prototype.redrawLayer=function(){var e=this;console.log(this.shapeService,"this.shapeService"),setTimeout((function(){e.draw()}),1e3)},e.prototype.boundariesData=function(){var e=this;this.shapeService.getStateShapes().subscribe((function(t){e.states=t,e.initStatesLayer()}))},e.prototype.initStatesLayer=function(){var e=this;this.stateLayer=l.geoJSON(this.states,{style:function(e){return{weight:2,opacity:.5,color:"#008f68",fillOpacity:.4,fillColor:"#6DB65B"}},onEachFeature:function(t,n){n.on({mouseout:function(t){return e.resetFeature(t)},click:function(t){return e.zoomToFeature(t)}}),n.bindTooltip(t.properties.NAME_1,{permanent:!0,direction:"center",className:"countryLabel"})}}),this._map.addLayer(this.stateLayer)},e.prototype.highlightFeature=function(e){e.target.setStyle({weight:2,opacity:.8,color:"#DFA612",fillOpacity:1,fillColor:"#FAE042"})},e.prototype.resetFeature=function(e){e.target.setStyle({weight:2,opacity:.5,color:"#008f68",fillOpacity:.4,fillColor:"#6DB65B"})},e.prototype.zoomToFeature=function(e){e.target.fitBounds(e.target.getBounds())},e.prototype.ngOnDestroy=function(){this.dataShareSub.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(c.ic(p.a),c.ic(i.b),c.ic(d.a),c.ic(ae.b))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Xt=n("YIN2"),Yt=function(){function e(e,t,n,a,o){var i=this;this.componentFactoryResolver=e,this.datashare=t,this.http=n,this.dialog=a,this.shapeService=o,this.arrayOfSites=[],this.pixelRatio=window.devicePixelRatio||1,this._assetQueue=null,this._colors=["#757584","#92D050","#8C6900","#006838","#00506A","#00ADEE","#5900B2","#0D47A1"],this._siteImagePath="assets/images/Layers/planned-small-cell/",this._plannedSiteImageManifest=[{id:"smallcellpetal",src:this._siteImagePath+"plannedwhite.svg",type:Ut.LoadQueue.IMAGE}],this.draw=function(){var e=this,t=this.componentRef=this;this.map=this.shapeService.mapServiceData,this.siteData=this.sitesValArr;var n=this.lib.customLayer({container:document.createElement("canvas"),zooms:[0,18],opacity:1,visible:!0,zIndex:120,alwaysRender:!0});n.on("layer-beforemount",(function(){})),n.on("layer-mounted",(function(){})),n.on("layer-render",(function(){t.sitesSmallCell4GLayerMap(this)})),n.on("layer-beforedestroy",(function(){})),n.on("layer-destroyed",(function(){})),this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){e.selectedLayerArrList=t,n.remove(e.map);for(var a=0;a<e.selectedLayerArrList.length;a++)if("JCP/Layers/OnAir/smallCell/smallCell4g"==e.selectedLayerArrList[a].link)return n.addTo(e.map)}))},this.resizeContainer=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},this.ref=this,this.lib=leaflayer(),this.redrawLayer(),this.getJSON().subscribe((function(e){i.sitesValArr=e}))}return e.prototype.getJSON=function(){return this.http.get("assets/data/layers/plannedSmallCell/sites-smallCellPlanned.json")},e.prototype.redrawLayer=function(){var e=this;setTimeout((function(){e.draw()}),1e3)},e.prototype.sitesSmallCell4GLayerMap=function(e){var t=this,n=this.resizeContainer(e);if(this.siteData=this.sitesValArr,window,"object"==typeof this.siteData&&void 0!==this.siteData){this.container=new Ut.Container,this.stage=new Ut.Stage(n),Ut.Ticker.addEventListener("tick",this.stage),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._simplePopup=this.getPopup(),$t.b([this.siteData.site],!0);var a=this.siteData.sites;this.zoomLevel=e._zoom;var o=this.zoomLevel<=7?.03:this.zoomLevel<=10?.08:this.zoomLevel<=13?.15:this.zoomLevel<=15?.25:this.zoomLevel<=16?.35:.4;this.scaleMatrix=o*this.pixelRatio,this.scaleMatrix=o;var i=l.point(0,-60*o/this.pixelRatio);this._simplePopup.options.offset=i,this.container.removeAllChildren();var r=new Ut.Shadow("rgba(0,0,0,0.2)",1,2,5),s=this.map.getBounds(),c=new Wt.LoadQueue(!0);for(var d in c.loadManifest(this._plannedSiteImageManifest,!0),a){var p=a[d],u=l.latLng(p.latitude,p.longitude);if(s.contains(u)){var h=this.map.latLngToContainerPoint(u),m={x:h.x*this.pixelRatio,y:h.y*this.pixelRatio},f=new Ut.Container;f.cursor="pointer",f.shadow=r,f.x=m.x,f.y=m.y,f.scaleX=o,f.scaleY=o,f.name=p.sapid;var g=this._colors[0];if(p.currentStage)switch(p.currentStage){case"INSTALLATION":g=this._colors[1];break;case"ATP11_A":g=this._colors[2];break;case"INTEGRATION":g=this._colors[3];break;case"ATP11_B":g=this._colors[4];break;case"SCFT":g=this._colors[5];break;case"EMF":g=this._colors[6];break;case"HOTO":g=this._colors[7];break;default:g=this._colors[0]}if(this._assetQueue=new Ut.LoadQueue(!1,null,!0),this._assetQueue.loadManifest(this._plannedSiteImageManifest,!0),this.zoomLevel>=12){var b=p.siteArray.length,y=this.getCircleGraphics(g,110),v=new Ut.Shape(y);f.addChild(v);for(var x=this.getCircleGraphics("#FFFFFF",40),w=new Ut.Shape(x),C=0,L=b;C<L;C++){var M=p.siteArray[C],S=M.azimuth-10,D=new Ut.Bitmap("assets/images/Layers/planned-small-cell/plannedwhite.svg");D.regX=10,D.regY=20,D.scaleX=5,D.scaleY=5,D.rotation=S,D.latlng=u,D.data=p,D.data.color=g,D.current=M,f.addChild(D),D.on("click",(function(e){console.log(e,"event"),t.spiderViewFeature(e,t.ref,t.mainlayerRef)}))}var k=y.command,A=x.command;if(p.siteArray&&p.siteArray.length>1){var P=new Ut.Container;P.x=k.radius,P.y=-(k.radius-A.radius);var T=w.clone();P.addChild(T);var F=new Ut.Text(p.siteArray.length,"bold 60px RobotoDraft","#000000");F.textAlign="center",F.textBaseline="middle",P.addChild(F),f.addChild(P)}var _=new Ut.Text(p.sapid,"bold 50px Lato-Medium","#FFFFFF");_.textAlign="center",_.y=k.radius+2;var O=_.clone();O.shadow=r,O.color="#000000",f.addChild(_,O)}s.extend(u),this.container.addChild(f)}}this.stage.addChild(this.container),this._bounds=s,this.container.alpha=1,this.stage.update()}},e.prototype.getReference=function(e){this.mainlayerRef=e},e.prototype.spiderViewFeature=function(e,t,n){var a=e.target;if(console.log(e,"event"),n.map.setView(a.latlng,17),"white"==e.target.color)return!1;var o={};if(o.currentbands=e.target.data,o.currentcell=e.target.current,!this.datashare)throw new Error("Data sharing service not found. Please add one.");if(this.datashare.changesmallCellPlanned(o),!this.componentFactoryResolver)throw new Error("Dynamic component loader not found. Please include resolveComponentFactory module from the ng core.");var i=this.componentFactoryResolver.resolveComponentFactory(Xt.a);n.target.createComponent(i)},e.prototype.getPopup=function(){return l.popup({className:"leaflet-simple-popup",minWidth:120,offset:l.point(0,-40),closeButton:!1})},e.prototype.getCircleGraphics=function(e,t){var n=new Ut.Graphics;return n.setStrokeStyle(1),n.beginStroke(Ut.Graphics.getRGB(0,0,0,.5)),n.beginFill(e),n.drawCircle(0,0,t),n},e.prototype.removeLayer=function(){var e=this.stage;e.removeChild(this.container),e.update()},e.\u0275fac=function(t){return new(t||e)(c.ic(c.j),c.ic(p.a),c.ic(ae.b),c.ic(w.b),c.ic(d.a))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),Kt=function(){function e(e,t,n,a){var o=this;this.datashare=e,this.http=t,this.dialog=n,this.shapeService=a,this.arrayOfSites=[],this.pixelRatio=window.devicePixelRatio||1,this._assetQueue=null,this._colors=["#757584","#92D050","#8C6900","#006838","#00506A","#00ADEE","#5900B2","#0D47A1"],this._siteImagePath="assets/images/Layers/planned-macro/",this._plannedSiteImageManifest=[],this.draw=function(){var e=this,t=this.componentRef=this;this.map=this.shapeService.mapServiceData,this.siteData=this.sitesValArr;var n=this.lib.customLayer({container:document.createElement("canvas"),zooms:[0,18],opacity:1,visible:!0,zIndex:120,alwaysRender:!0});n.on("layer-beforemount",(function(){})),n.on("layer-mounted",(function(){})),n.on("layer-render",(function(){t.siteshpodsc4GLayerMap(this)})),n.on("layer-beforedestroy",(function(){})),n.on("layer-destroyed",(function(){})),this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){e.selectedLayerArrList=t,n.remove(e.map),e.removeAllMarkers();for(var a=0;a<e.selectedLayerArrList.length;a++){var o=e.selectedLayerArrList[a];if(console.log(o,"ele"),"JCP/Layers/Planned/Macro/Macro4G"==o.link)return console.log(n.addTo(e.map),"canvasLayer.addTo(this.map)"),n.addTo(e.map)}}))},this.resizeContainer=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},this.ref=this,this.lib=leaflayer(),console.log(this.lib,"lib"),this.redrawLayer(),this.getJSON().subscribe((function(e){console.log(e,"data"),o.sitesValArr=e}))}return e.prototype.getJSON=function(){return this.http.get("assets/data/layers/planned-macro/sites-planned-macro.json")},e.prototype.redrawLayer=function(){var e=this;console.log(this.shapeService,"this.shapeService"),setTimeout((function(){e.draw()}),1e3)},e.prototype.siteshpodsc4GLayerMap=function(e){console.log(e,"itemSitesMap");var t=this.resizeContainer(e);console.log(t,"canvasElement"),this.siteData=this.sitesValArr,window;for(var n=0;n<10;n++)this._plannedSiteImageManifest.push({id:"planned-"+n,src:this._siteImagePath+n+".svg",type:Ut.LoadQueue.IMAGE}),console.log(this._plannedSiteImageManifest,"this._plannedSiteImageManifest");if("object"==typeof this.siteData&&void 0!==this.siteData){this.container=new Ut.Container,this.stage=new Ut.Stage(t),Ut.Ticker.addEventListener("tick",this.stage),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._simplePopup=this.getPopup();var a=$t.d(this.siteData.site2300,(function(e){return e.sitebandtype="site2300",e})),o=$t.b([a],!0),i=$t.c(o,"sapid");this._points=i,this.zoomLevel=e._zoom;var r=this.zoomLevel<=7?.03:this.zoomLevel<=10?.08:this.zoomLevel<=13?.15:this.zoomLevel<=15?.25:this.zoomLevel<=16?.35:.4;this.scaleMatrix=r*this.pixelRatio,this.scaleMatrix=r;var s=l.point(0,-60*r/this.pixelRatio);this._simplePopup.options.offset=s,this.container.removeAllChildren();var c=new Ut.Shadow("rgba(0,0,0,0.2)",1,2,5),d=this.map.getBounds(),p=new Wt.LoadQueue(!0);p.loadManifest(this._plannedSiteImageManifest,!0);var u=function(e){var t=i[e],n=l.latLng(t[0].latitude,t[0].longitude);if(!d.contains(n))return"continue";var a=h.map.latLngToContainerPoint(n),o={x:a.x*h.pixelRatio,y:a.y*h.pixelRatio},s=new Ut.Container;if(s.cursor="pointer",s.shadow=c,s.x=o.x,s.y=o.y,s.scaleX=r,s.scaleY=r,s.name=t[0].sapid,h._assetQueue=new Ut.LoadQueue(!1,null,!0),h._assetQueue.loadManifest(h._plannedSiteImageManifest,!0),h.zoomLevel>=12){var u=function(e){for(var a=t[e],o=0,i=0,r=a.siteTask.length;i<r;i++)console.log(a.siteTask,"d.siteTask"),"close"==a.siteTask[i].status.toLowerCase()&&(console.log(a.siteTask[i],"d.siteTask[j]"),o++);var l="planned-"+o;p.on("complete",(function(t){var o={preload:p,latlng:n,band:e,cell:a,siteContainer:s,id:l},i=new Ut.Bitmap(o.preload.getResult(o.id));i.scaleX=5,i.scaleY=5,i.regX=14.5,i.regY=27,i.latlng=o.latlng,i.data=o.band,i.current=o.cell,o.siteContainer.addChild(i)}))};for(var m in t)u(m);var f=new Ut.Text(t[0].sapid,"bold 60px Lato-Medium","#FFFFFF");f.textAlign="center",f.y=200*r/h.pixelRatio;var g=f.clone();g.shadow=c,g.color="#000000",s.addChild(f,g)}d.extend(n),h.container.addChild(s)},h=this;for(var m in i)u(m);this.stage.addChild(this.container),this._bounds=d,this.container.alpha=1,this.stage.update()}},e.prototype.getPopup=function(){return l.popup({className:"leaflet-simple-popup",minWidth:120,offset:l.point(0,-40),closeButton:!1})},e.prototype.removeAllMarkers=function(){},e.\u0275fac=function(t){return new(t||e)(c.ic(p.a),c.ic(ae.b),c.ic(w.b),c.ic(d.a))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),en=function(){function e(e,t,n,a){var o=this;this.datashare=e,this.http=t,this.dialog=n,this.shapeService=a,this.arrayOfSites=[],this.pixelRatio=window.devicePixelRatio||1,this._assetQueue=null,this._colors=["#757584","#92D050","#8C6900","#006838","#00506A","#00ADEE","#5900B2","#0D47A1"],this._siteImagePath="assets/images/Layers/hpodsc4g/",this._plannedSiteImageManifest=[{id:"smallcellpetal",src:this._siteImagePath+"3.svg",type:Ut.LoadQueue.IMAGE}],this.draw=function(){var e=this,t=this.componentRef=this;this.map=this.shapeService.mapServiceData,this.siteData=this.sitesValArr;var n=this.lib.customLayer({container:document.createElement("canvas"),zooms:[0,18],opacity:1,visible:!0,zIndex:120,alwaysRender:!0});n.on("layer-beforemount",(function(){})),n.on("layer-mounted",(function(){})),n.on("layer-render",(function(){t.siteshpodsc4GLayerMap(this)})),n.on("layer-beforedestroy",(function(){})),n.on("layer-destroyed",(function(){})),this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){e.selectedLayerArrList=t,n.remove(e.map),e.removeAllMarkers();for(var a=0;a<e.selectedLayerArrList.length;a++){var o=e.selectedLayerArrList[a];if(console.log(o,"ele"),"JCP/Layers/OnAir/Hpodsc/HPODSC4g"==o.link)return console.log(n.addTo(e.map),"canvasLayer.addTo(this.map)"),n.addTo(e.map)}}))},this.resizeContainer=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},this.ref=this,this.lib=leaflayer(),console.log(this.lib,"lib"),this.redrawLayer(),this.getJSON().subscribe((function(e){console.log(e,"data"),o.sitesValArr=e}))}return e.prototype.getJSON=function(){return this.http.get("assets/data/layers/plannedhpodsc4g/sites-hpodsc4g.json")},e.prototype.redrawLayer=function(){var e=this;console.log(this.shapeService,"this.shapeService"),setTimeout((function(){e.draw()}),1e3)},e.prototype.siteshpodsc4GLayerMap=function(e){var t=this;console.log(e,"itemSitesMap");var n=this.resizeContainer(e);if(console.log(n,"canvasElement"),this.siteData=this.sitesValArr,window,"object"==typeof this.siteData&&void 0!==this.siteData){this.container=new Ut.Container,this.stage=new Ut.Stage(n),Ut.Ticker.addEventListener("tick",this.stage),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._simplePopup=this.getPopup();var a=$t.d(this.siteData.site2300,(function(e){return e.sitebandtype="site2300",e})),o=$t.b([a],!0),i=$t.c(o,"sapid");this._points=i,this.zoomLevel=e._zoom;var r=this.zoomLevel<=7?.03:this.zoomLevel<=10?.08:this.zoomLevel<=13?.15:this.zoomLevel<=15?.25:this.zoomLevel<=16?.35:.4;this.scaleMatrix=r*this.pixelRatio,this.scaleMatrix=r;var s=l.point(0,-60*r/this.pixelRatio);this._simplePopup.options.offset=s,this.container.removeAllChildren();var c=new Ut.Shadow("rgba(0,0,0,0.2)",1,2,5),d=this.map.getBounds(),p=new Wt.LoadQueue(!0);p.loadManifest(this._plannedSiteImageManifest,!0);var u=function(e){var n=i[e],a=l.latLng(n[0].latitude,n[0].longitude);if(!d.contains(a))return"continue";var o=h.map.latLngToContainerPoint(a),s={x:o.x*h.pixelRatio,y:o.y*h.pixelRatio},u=new Ut.Container;if(u.cursor="pointer",u.shadow=c,u.x=s.x,u.y=s.y,u.scaleX=r,u.scaleY=r,u.name=n[0].sapid,h._assetQueue=new Ut.LoadQueue(!1,null,!0),h._assetQueue.loadManifest(h._plannedSiteImageManifest,!0),h.zoomLevel>=12){var m=function(e){for(var o=n[e],i=function(n,i){var r,s=o.siteArray[n];r="purple"==o.cellStatus?"planned-1":"darkblue"==o.cellStatus?"planned-2":"smallcellpetal",p.on("complete",(function(n){t.loadSVGiconsOverCanvas({preload:p,latlng:a,band:e,cell:s,siteContainer:u,id:r})}))},r=0,s=o.siteArray.length;r<s;r++)i(r)};for(var f in n)m(f);var g=new Ut.Text(n[0].sapid,"bold 60px Lato-Medium","#FFFFFF");g.textAlign="center",g.y=200*r/h.pixelRatio;var b=g.clone();b.shadow=c,b.color="#000000",u.addChild(g,b)}d.extend(a),h.container.addChild(u)},h=this;for(var m in i)u(m);this.stage.addChild(this.container),this._bounds=d,this.container.alpha=1,this.stage.update()}},e.prototype.loadSVGiconsOverCanvas=function(e){var t=new Ut.Bitmap(e.preload.getResult(e.id));t.scaleX=5,t.scaleY=5,t.regX=14.5,t.regY=27,t.latlng=e.latlng,t.data=e.band,t.current=e.cell,e.siteContainer.addChild(t)},e.prototype.getPopup=function(){return l.popup({className:"leaflet-simple-popup",minWidth:120,offset:l.point(0,-40),closeButton:!1})},e.prototype.removeAllMarkers=function(){},e.\u0275fac=function(t){return new(t||e)(c.ic(p.a),c.ic(ae.b),c.ic(w.b),c.ic(d.a))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),tn=n("hmtm"),nn=n("v7R3"),an=n("j/gN"),on=n("mMLT"),rn=function(){function e(e,t,n,a,o){this.datashare=e,this.element=t,this.router=n,this.http=a,this.dialog=o,this.imageURL="assets/data/layers/nominalssites/0.svg",this.offAirData=[{name:"History",value:5,color:"#F7931E",font:"Material-Design-Iconic-Font",fontvalue:"\uf336",eventname:"sites-tree-offairhistory"},{name:"Create Work Order",value:5,color:"#29ABE2",font:"Material-Design-Iconic-Font",fontvalue:"\uf275",disabled:!0,eventname:"sites-tree-createwo"}],this.normalData=[{name:"History",value:5,color:"#F7931E",font:"Material-Design-Iconic-Font",fontvalue:"\uf336",eventname:"sites-tree-offairhistory"},{name:"Create Work Order",value:5,color:"#29ABE2",font:"Material-Design-Iconic-Font",fontvalue:"\uf275",disabled:!0,eventname:"sites-tree-createwo"}],this.onAirData=[{name:"Alarms",value:5,color:"#ED1C24",font:"Material-Design-Iconic-Font",fontvalue:"\uf1fe",eventname:"sites-tree-onairalarms"},{name:"Neighbours",value:5,color:"#29ABE2",font:"icomoon",fontvalue:"\ue919",eventname:"sites-tree-neighbours"},{name:"KPI's",value:5,color:"#F7931E",font:"Material-Design-Iconic-Font",fontvalue:"\uf334",eventname:"sites-tree-ranperformace"},{name:"Properties",value:5,color:"#8CC63F",font:"Material-Design-Iconic-Font",fontvalue:"\uf112",eventname:"sites-tree-properties"},{name:"Capacity",value:5,color:"#009245",font:"Material-Design-Iconic-Font",fontvalue:"\uf323",eventname:"sites-tree-capacity"},{name:"Configuration",value:5,color:"#662D91",font:"Material-Design-Iconic-Font",fontvalue:"\uf1ed",eventname:"sites-tree-configuration"},{name:"Indoor Analysis",value:5,color:"#29ABE2",font:"Material-Design-Iconic-Font",fontvalue:"\uf175",eventname:"sites-tree-indoor"},{name:"Cell Coverage Map",value:5,color:"#ED1C24",font:"Material-Design-Iconic-Font",fontvalue:"\uf299",eventname:"overshooting-coverage-map"},{name:"Create Workorder",value:5,color:"#8dc63f",font:"Material-Design-Iconic-Font",fontvalue:"\uf222",eventname:"sites-tree-createworkorder"},{name:"See Routers",value:5,color:"#dc2050",font:"icomoon",fontvalue:"\uebcc",eventname:"see-routers"}],this.sectorData={sapid:"I-MU-MUMB-ENB-I414",sectorid:3,latitude:19.0296866,longitude:72.9056938,azimuth:210,mechTilt:0,antennaType:"S-Wave 67&#x2f;89&#x2f;18&#x2f;23-65-15&#x2f;15&#x2f;17&#x2f;17 DV2&#x2f;14V10CI-F&#x28;PB&#x29; &#x28;iRET&#x29;",antennaHeight:25,elecTilt:6,totalTilt:6,cellid:1409042,cNum:2,ecgi:"4058740158012",horizontalBeamWidth:65,verticalBeamWidth:7.2,antennaVendor:"Rosenberger",cellName:"I-MU-MUMB-ENB-I414-3",eirp:"61.74",antennaGain:"16.3",feederCableLength:"2",opticCableLength:"60",retStatus:"YES",transmitPower0:null,transmitPower1:null,transmitPower2:null,transmitPower3:null,txPower:"46",oamLsmrId:"INMUNVMBXXXXNB0001AG3REM006",oamVlan:"103",oamIpv6Address:"2405&#x3a;200&#x3a;101&#x3a;1100&#x3a;3&#x3a;2&#x3a;103&#x3a;15a",oamGatewayIpv6Address:"2405&#x3a;200&#x3a;101&#x3a;1100&#x3a;3&#x3a;2&#x3a;103&#x3a;159",oamIpv6SubnetMask:"126",oamGatewayIpv6SubnetMask:"126",signalingVlan:"102",signalingIpv6Address:"2405&#x3a;200&#x3a;101&#x3a;1100&#x3a;3&#x3a;2&#x3a;102&#x3a;15a",signalingGatewayIPv6Address:"2405&#x3a;200&#x3a;101&#x3a;1100&#x3a;3&#x3a;2&#x3a;102&#x3a;159",signalingIPv6SubnetMask:"126",signalingGatewayIPv6SubnetMask:"126",signalingMMEGroupId:"WEST1MME8003",bearerVlan:"101",bearerIpv6Address:"2405&#x3a;200&#x3a;101&#x3a;1100&#x3a;3&#x3a;2&#x3a;101&#x3a;15a",bearerGatewayIPv6Address:"2405&#x3a;200&#x3a;101&#x3a;1100&#x3a;3&#x3a;2&#x3a;101&#x3a;159",bearerIPv6SubnetMask:"126",bearerGatewayIPv6SubnetMask:"126",bearerSAEGWPrimaryGroupId:"MUMBSAEPR0001",cellIdNew:"1409042",totalLosses:"0.364",antennaModel:"4T4R",propagationModel:"4 SPM_MU MR_7",pilotChannelTxPower:12.2,clutterCategory:"MU",radiusThreshold:330,rsrpThreshold:"-95.3",objectRsrpThreshold:"-110.3",baseChannelFreq:"2315",carrier:"2",dtxFactor:"1",atpcFactor:"1",unitLoss:"18.2",rfCableLength:"2",combinerLoss:"0",connectorLoss:"0.2",eirpBaseChannel:"1491.42",eirpDtxAtpc:"1491.42",eirpTotal:"2982.84",rrhType:"V2_Window_Less",pci:347,tac1:"H&#x27;003B",eNodeBId:"5504",bandwidth:20,adminState:"Unlocked",progressState:"ONAIR",earfcn2300:38800,cellid2:1409045,ecgi2:"4058740158015",pci2:84,cNum2:14,tac2:"H&#x27;003B",eNodeBId2:"5504",bandwidth2:10,adminState2:"Unlocked",progressState2:"ONAIR",earfcn_ac2300:39350,handoverFailureRate:.05894,handoverFailureRate2:.08965,eTiltChangeDate:1496285131570},this.currentBand=[]}return e.prototype.ngOnInit=function(){var e=this;this.datashare.currentSpiderData.subscribe((function(t){e.message=t})),this.http.get("assets/data/layers/microsites-onair.json").subscribe((function(t){e.currentbands=t.site2300,e.sector=e.sectorData,e.initializeBiggerNode()}))},e.prototype.initializeBiggerNode=function(){var e=$(this.element.nativeElement).find(".spideroverlay")[0],t=$(e).find("svg"),n=Rt.f(t[0]);this.drawSVG(e,n,this.onAirData,this)},e.prototype.drawSVG=function(e,t,n,a){var o=this,i=e.offsetWidth,r=e.offsetHeight,s=i>0?i:500,l=r>0?r:500,c=Math.min(s,500)-20-20,d=s/2+100,p=l/2,u=t.append("g").attr("class","wrapper").attr("transform","translate("+d+","+p+")");this.arc=this.createArc(c),this.pie=this.rotatePieChart(),this.createLines();var h=u.append("g").attr("transform","translate(-100,0)");this.donutArcsGroup=this.createDonutGroup(u,n),this.createDonutArc(),this.linePointsGroup=this.createLineGroup(u,n),this.appendLineGroupPath(e,(function(e){return"M0,0C"+(e.source.x+e.target.x)/2+",0 "+(e.source.x+e.target.x)/2+","+e.target.y+" "+e.target.x+","+e.target.y})),this.appendLineToCircle(e),this.circleGroup=this.createCircleGroup(u,this.pie,n,e),this.createCircle(),this.appendLabelsInsideCircle(),this.appendLabelOutside(),this.bandarc=Rt.a(),this.bandsArcsGroup=h.append("g").attr("class","bandsArcsGroup");for(var m=0,f=this.currentbands.length;m<f;m++){var g=null;(g=this.bandsArcsGroup.append("g").attr("id","cellGroup-"+m).attr("class","cellGroup").attr("transform","translate(-22.5,-39.4)").style("cursor","pointer")).append("foreignObject").attr({width:45,height:45.4}),g.append("svg:image").attr("width",45).attr("height",45.4).attr("xlink:href","assets/data/layers/nominalssites/0.svg")}h.append("circle").attr("r",3).attr("stroke-width",1).attr("stroke","#000000").attr("fill","white").style("cursor","pointer"),h.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",100).attr("y1",0).attr("x2",0).attr("y2",0),g=null,(g=this.bandsArcsGroup.append("g").attr("id","cellGroup-"+m).attr("class","cellGroup").attr("transform","translate(-22.5,-39.4)").style("cursor","pointer")).append("foreignObject").attr({width:45,height:45.4}),this.circleGroup.on("mouseover",(function(){Rt.f(this).select("circle").transition().attr("stroke","#000000").attr("stroke-width",2)})).on("mouseout",(function(){Rt.f(this).select("circle").transition().attr("stroke","#FFFFFF").attr("stroke-width",1)})).on("click",(function(e){o.openSpiderPopups(e,a)})),t.on("click",(function(){$(e).parent().remove(),Rt.b.stopPropagation()}))},e.prototype.leafSVGMouseOut=function(e,t){this.leafSVG.on("mouseout",function(e,t){return function(){return e.cellid!=t.cellid&&Rt.f(this).transition().attr("stroke-width",1),!1}}(e,t))},e.prototype.createArc=function(e){return Rt.a().innerRadius(.75*e/2).outerRadius(.75*e/2+30)},e.prototype.rotatePieChart=function(){return Rt.d().startAngle(0).endAngle(-90*Math.PI/90+2*Math.PI).value((function(e){return e.value})).padAngle(.01).sort(null)},e.prototype.createLines=function(){return Rt.c().x((function(e){return e.lx})).y((function(e){return e.ly}))},e.prototype.createDonutGroup=function(e,t){return e.selectAll(".donutArcsGroup").data(this.pie(t)).enter().append("g").attr("class","donutArcsGroup")},e.prototype.createDonutArc=function(){this.donutArcsGroup.append("path").attr("d",this.arc).style("fill","none").attr("class",(function(e,t){var n=/(^.+?)L/.exec(Rt.f(this).attr("d"))[1];if(n=n.replace(/,/g," "),e.endAngle>90*Math.PI/180){var a=/0 0 1 (.*?)$/.exec(n)[1],o=/M(.*?)A/.exec(n)[1];n="M"+a+"A"+/A(.*?)0 0 1/.exec(n)[1]+"0 0 0 "+o}return Rt.f(this.parentNode).append("path").attr("class","hiddenDonutArcs").attr("id","donutArc"+t).attr("d",n).style("fill","none"),"donutArcs"}))},e.prototype.createLineGroup=function(e,t){return e.selectAll(".linePointsGroup").data(this.pie(t)).enter().append("g").attr("class","linePointsGroup")},e.prototype.appendLineGroupPath=function(e,t){return this.linePointsGroup.append("path").attr("class",(function(t,n){var a=$(e).find("#donutArc"+n)[0],o=Rt.f(a).node(),i=o.getPointAtLength(o.getTotalLength()/2);return t.source={x:0,y:0},t.target={x:i.x,y:i.y},"linePoints"})).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("d",t)},e.prototype.appendLineToCircle=function(e){return this.linePointsGroup.append("circle").attr("class",(function(t,n){var a=$(e).find("#donutArc"+n)[0],o=Rt.f(a).node(),i=o.getPointAtLength(o.getTotalLength()/2);return t.source={x:0,y:0},t.target={x:i.x,y:i.y},"circlePointsEnd"})).attr("r",3).attr("fill","#FFFFFF").attr("cx",(function(e){return e.target.x})).attr("cy",(function(e){return e.target.y}))},e.prototype.getstet=function(){console.log("Pooja")},e.prototype.creatLeafSVG=function(e,t,n,a,o,i,r){var s=this;return this.bandsArcsGroup.append("path").attr("d",(function(){return s.bandarc({innerRadius:e,outerRadius:t,startAngle:n,endAngle:a})})).attr("id","leafSVGArc"+o+i).style("cursor","pointer").attr("fill",(function(){return r.pcicolor})).attr("stroke-width",1).attr("stroke","#000")},e.prototype.createCircleGroup=function(e,t,n,a){return e.selectAll(".circleGroup").data(t(n)).enter().append("g").style("cursor","pointer").style("pointer-events",(function(e,t){return e.data.disabled?"none":"all"})).attr("class","circleGroup").attr("transform",(function(e,t){var n=$(a).find("#donutArc"+t)[0],o=Rt.f(n).node(),i=o.getPointAtLength(o.getTotalLength()/2);return"translate("+i.x+","+i.y+")"}))},e.prototype.createCircle=function(){return this.circleGroup.append("circle").attr("class","circlePoints").attr("r",20).attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill",(function(e){return e.data.disabled?"#b3b3b3":e.data.color})).attr("cx",(function(e){return 25})).attr("cy",(function(e){var t=e.endAngle*(180/Math.PI);return t<=90?-10:t>=180?10:0}))},e.prototype.createBandGroup=function(e,t){return this.bandGroup.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},e.prototype.createBandLine=function(e,t){return this.bandGroup.append("line").attr("class","lineBands").attr("stroke-width",1).attr("stroke","#FFFFFF").attr("fill","none").attr("x1",e.x).attr("y1",e.y).attr("x2",t.x).attr("y2",t.y)},e.prototype.createBandCircle=function(e){return this.bandGroup.append("circle").attr("class","lineBandsCircle").attr("r",3).attr("fill","#FFFFFF").attr("cx",e.x).attr("cy",e.y)},e.prototype.appendLabelsInsideCircle=function(){return this.circleGroup.append("text").style("text-anchor","start").style("fill","#ffffff").style("font-size","12px").attr("class","donutText").attr("x",(function(e){return 50})).style("font-weight",(function(e){if(e.data.font)return"bold"})).attr("y",(function(e){var t=e.endAngle*(180/Math.PI);return t<=90?-10:t>=180?20:5})).text((function(e){return e.data.name}))},e.prototype.appendLabelOutside=function(){return this.circleGroup.append("text").style("text-anchor","middle").style("dominant-baseline","middle").style("fill","#ffffff").style("color","#ffffff").style("font-size","24px").style("font-family",(function(e){return e.data.font})).attr("x",(function(e){return 25})).attr("y",(function(e){var t=e.endAngle*(180/Math.PI);return t<=90?-7.5:t<180?2.5:t>=180?12:0})).attr("class","iconText").text((function(e){return e.data.fontvalue}))},e.prototype.openSpiderPopups=function(e,t){"Properties"===e.data.name?t.openPropDialogConfiguration():"Capacity"===e.data.name?t.openCapacityViewPopups():"KPI's"===e.data.name?t.openKpiDialogConfiguration():"Alarms"===e.data.name?t.openAlarmDialog():"Configuration"===e.data.name?t.openConfigDialog():"Candidates"===e.data.name&&t.openCandidatesDialog()},e.prototype.openCapacityViewPopups=function(){this.dialog.open(on.a,{width:"75vw",maxWidth:"97vw",height:"80%",panelClass:"material-dialog-container"})},e.prototype.openPropDialogConfiguration=function(){this.dialog.open(Zt.a,{width:"95vw",maxWidth:"97vw",height:"95%",panelClass:"material-dialog-container"})},e.prototype.openKpiDialogConfiguration=function(){this.dialog.open(an.a,{width:"75vw",height:"90vh",maxWidth:"97vw",panelClass:"material-dialog-container"})},e.prototype.openAlarmDialog=function(){this.dialog.open(nn.a,{width:"75vw",height:"90vh",maxWidth:"97vw",panelClass:"material-dialog-container"})},e.prototype.openConfigDialog=function(){this.dialog.open(tn.a,{width:"60vw",height:"65vh",maxWidth:"97vw",panelClass:"material-dialog-container"})},e.prototype.openCandidatesDialog=function(){this.dialog.open(Nt.a,{width:"85vw",maxWidth:"97vw",height:"85vh",panelClass:"material-dialog-container"})},e.\u0275fac=function(t){return new(t||e)(c.Ub(p.a),c.Ub(c.l),c.Ub(i.b),c.Ub(ae.b),c.Ub(w.b))},e.\u0275cmp=c.Ob({type:e,selectors:[["jcpBeta-spider"]],decls:4,vars:0,consts:[[1,"spidermain-wrapper"],[1,"spideroverlay"],["src","assets/data/layers/nominalssites/0.svg"],["xmlns","http://www.w3.org/2000/svg","version","1.1"]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"div",1),c.Vb(2,"img",2),c.pc(),c.Vb(3,"svg",3),c.Zb(),c.Zb())},styles:[".spidermain-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;z-index:10000;background-color:rgba(0,0,0,.5);top:0;overflow:auto}.spideroverlay[_ngcontent-%COMP%], .spideroverlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:100%;height:100%;position:relative;overflow:auto}.spideroverlay[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   g[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]{display:inline-block}"]}),e}(),sn=function(){function e(e,t){this.componentFactoryResolver=e,this.dataSharingService=t,this.pixelRatio=window.devicePixelRatio||1,this.recieveData()}return e.prototype.makeSiteJsonCall=function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.onload=function(){t(this.responseText)},a.onerror=n,a.open("GET",e),a.send()}))},e.prototype.recieveData=function(){var e=this;this.makeSiteJsonCall("assets/data/layers/microsites-onair.json").then((function(t){e.dataArray=JSON.parse(t)})).catch((function(e){console.error(e.message)}))},e.prototype.addLayerToMap=function(e){var t=this;this.referenceComp=e,this.map=this.referenceComp.map,this.customLayerLibrary=leaflayer(),this.siteData=this.dataArray;var n=this.componentRef=this,a=this.customLayerLibrary.customLayer({container:document.createElement("canvas")});a.on("layer-render",(function(){n.nodeDrawings(this)})),setTimeout((function(){t.canvasLayerObj=a}),1e3),a.addTo(this.referenceComp.map)},e.prototype.generateCanvasTagConfig=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},e.prototype.nodeDrawings=function(e){var t=this,n=this.generateCanvasTagConfig(e);if("object"==typeof this.siteData&&void 0!==this.siteData){this.container=new Ut.Container,this.stage=new Ut.Stage(n),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._simplePopup=this.getPopup();var a=$t.d(this.siteData.site850,(function(e){return e.sitebandtype="site850",e})),o=$t.d(this.siteData.site1800,(function(e){return e.sitebandtype="site1800",e})),i=$t.d(this.siteData.site2300,(function(e){return e.sitebandtype="site2300",e})),r=$t.b([a,o,i],!0),s=$t.c(r,"sapid");this._points=s,this.zoomLevel=e._zoom;var c=this.zoomLevel<=7?.03:this.zoomLevel<=10?.08:this.zoomLevel<=13?.15:this.zoomLevel<=15?.25:this.zoomLevel<=16?.35:.4;this.scaleMatrix=c*this.pixelRatio,this.scaleMatrix=c;var d=l.point(0,-60*c/this.pixelRatio);if(this._simplePopup.options.offset=d,this.container.removeAllChildren(),"Planned"==this.addtionalsector)var p="rgb(0,15,255)";else p="#06C1FF";var u=this.getPointGraphics(p),h=new Ut.Shadow("rgba(0,0,0,0.2)",1,2,5);for(var m in s){var f=s[m],g=l.latLng(f[0].latitude,f[0].longitude),b=this.map.getBounds();if(b.contains(g)){var y=this.map.latLngToContainerPoint(g),v={x:y.x*this.pixelRatio,y:y.y*this.pixelRatio};if(this.hightlightCell&&this.hightlightCell==f[0].sapid){this.selectionContainer=new Ut.Container,this.selectionContainer.name="highlightcontainer",this.selectionContainer.scaleX=c,this.selectionContainer.scaleY=c,this.selectionContainer.x=v.x,this.selectionContainer.y=v.y;var x=this.getSelectionGraphics("#1e88e5","#FFFFFF"),w=new Ut.Shape(x);this.selectionContainer.addChild(w),this.container.addChild(this.selectionContainer)}var C=new Ut.Container;C.x=v.x,C.y=v.y,C.scaleX=c,C.scaleY=c,C.name=f[0].sapid;var L={};for(var M in f){var S=f[M];null!=S.sitebandtype&&(L[S.sitebandtype]=!0)}for(var M in f){var D=f[M];if(null!=D.sitebandtype){var k="site850"==D.sitebandtype?75:"site1800"==D.sitebandtype?55:35,A="site850"==D.sitebandtype?55:"site1800"==D.sitebandtype?35:15;"site1800"==D.sitebandtype&&(L.site2300||(A=15)),"site850"==D.sitebandtype&&(!L.site1800&&L.site2300&&(A=35),L.site1800||L.site2300||(A=15));var P=A,T=void 0,F=void 0;for(var _ in D.siteArray){var O,I=D.siteArray[_],z=void 0;if(I.sitebandtype=D.sitebandtype,I.sitebandtype=D.sitebandtype,O=null!=I.carrier,"site2300"==D.sitebandtype)switch(z="Planned"==this.addtionalsector?"rgb(0,15,255)":"#5883d1",I.sectorid){case 1:var R=$t.a(D.siteArray,{sectorid:4});void 0!==R?R.azimuth==I.azimuth?(T=I.azimuth-30,F=I.azimuth-5):(T=I.azimuth-I.horizontalBeamWidth/4,F=I.azimuth+I.horizontalBeamWidth/4):(T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2);break;case 2:var Z=$t.a(D.siteArray,{sectorid:5});void 0!==Z?Z.azimuth==I.azimuth?(T=I.azimuth-30,F=I.azimuth-5):(T=I.azimuth-I.horizontalBeamWidth/4,F=I.azimuth+I.horizontalBeamWidth/4):(T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2);break;case 3:var N=$t.a(D.siteArray,{sectorid:6});void 0!==N?N.azimuth==I.azimuth?(T=I.azimuth-30,F=I.azimuth-5):(T=I.azimuth-I.horizontalBeamWidth/4,F=I.azimuth+I.horizontalBeamWidth/4):(T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2);break;case 4:var V=$t.a(D.siteArray,{sectorid:1});void 0!==V?V.azimuth==I.azimuth?(T=I.azimuth+5,F=I.azimuth+30):(T=I.azimuth-I.horizontalBeamWidth/4,F=I.azimuth+I.horizontalBeamWidth/4):(T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2);break;case 5:var B=$t.a(D.siteArray,{sectorid:2});void 0!==B?B.azimuth==I.azimuth?(T=I.azimuth+5,F=I.azimuth+30):(T=I.azimuth-I.horizontalBeamWidth/4,F=I.azimuth+I.horizontalBeamWidth/4):(T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2);break;case 6:var E=$t.a(D.siteArray,{sectorid:3});void 0!==E?E.azimuth==I.azimuth?(T=I.azimuth+5,F=I.azimuth+30):(T=I.azimuth-I.horizontalBeamWidth/4,F=I.azimuth+I.horizontalBeamWidth/4):(T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2)}else"site1800"==D.sitebandtype?(z="Planned"==this.addtionalsector?"rgb(0,15,255)":"#e7f300",T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2):(z="Planned"==this.addtionalsector?"rgb(0,15,255)":"#be0c2f",T=I.azimuth-I.horizontalBeamWidth/2,F=I.azimuth+I.horizontalBeamWidth/2);if(I.pcicolor=z,"Planned"==this.addtionalsector)var j="#fff";else j="#000000";var G=new Ut.Shape(this.pieGenerator(0,0,T,F,k,A,P,O,z,j,1));G.alpha=.8,G.shadow=h,G.cursor="pointer",G.latlng=g,G.site=f,G.sector=I,G.on("mouseover",(function(e){t.nodeOnMouseOver(e)})),G.on("mouseout",(function(e){t.nodeOnMouseOut(e)})),G.on("click",(function(e){t.nodeOnMouseClick(e)})),C.addChild(G)}}}var U=new Ut.Shape(u);if(U.name="centerdot",U.shadow=h,U.cursor="pointer",U.site=S.siteArray,U.latlng=g,C.addChild(U),this.zoomLevel>=15){var W=new Ut.Text(f[0].sapid,"bold 30px Lato-Medium","#FFFFFF");W.textAlign="center",W.y=280*c/this.pixelRatio;var H=W.clone();H.color="#000000",C.addChild(W,H)}b.extend(g),this.container.addChild(C)}}this.container.alpha=1,this.stage.addChild(this.container),this.stage.update()}},e.prototype.nodeOnMouseClick=function(e){this.map.setView(e.target.latlng,17),this.loadSpiderViewComponent(e)},e.prototype.loadSpiderViewComponent=function(e){var t={};if(t.currentbands=e.target.site,t.sector=e.target.sector,this.referenceComp.targetElementSpiderView.clear(),!this.dataSharingService)throw new Error("Data sharing service not found. Please add one.");if(this.dataSharingService.sendDataToSpider(t),!this.componentFactoryResolver)throw new Error("Dynamic component loader not found. Please include resolveComponentFactory module from the ng core.");var n=this.componentFactoryResolver.resolveComponentFactory(rn);this.referenceComp.targetElementSpiderView.createComponent(n)},e.prototype.nodeOnMouseOver=function(e){var t=e.target,n=e.currentTarget;if(t.alpha=1,t.graphics.strokeStyleCommand.width=4,this.stage.update(),null!=n.sector.sitebandtype){var a="";a+='<div class="layout-row"><span class="prefix">PCI : </span> <span class="value">'+n.sector.pci+" </span></div>",a+='<div class="layout-row"><span class="prefix">Band : </span> <span class="value">'+("site2300"==n.sector.sitebandtype?2300:"site1800"==n.sector.sitebandtype?1800:850)+" MHz</span></div>",this._simplePopup.setLatLng(n.latlng).setContent(a).openOn(this.map)}},e.prototype.nodeOnMouseOut=function(e){var t=e.target;t.alpha=.8,t.graphics.strokeStyleCommand.width=1,this.stage.update(),this.map.closePopup()},e.prototype.getPopup=function(){return l.popup({className:"leaflet-simple-popup",minWidth:120,offset:l.point(0,-40),closeButton:!1})},e.prototype.getPointGraphics=function(e){var t=new Ut.Graphics;return t.setStrokeStyle(1),t.beginStroke(Ut.Graphics.getRGB(0,0,0)),t.beginFill(e),t.drawCircle(0,0,10),t},e.prototype.getSelectionGraphics=function(e,t){var n=new Ut.Graphics;return n.setStrokeStyle(5),n.beginStroke(e),n.beginFill(t),n.drawCircle(0,0,90),n},e.prototype.pieGenerator=function(e,t,n,a,o,i,r,s,l,c,d){var p=n+(a-n)/2,u=new Ut.Graphics,h=u.setStrokeStyle(d).command;return u.strokeStyleCommand=h,u.beginFill(l),u.beginStroke(c),u.arc(e,t,o,this.toRad(n),this.toRad(a),!1),u.lineTo(e+Math.cos(this.toRad(a))*i,t+Math.sin(this.toRad(a))*i),u.arc(e,t,i,this.toRad(a),this.toRad(n),!0),u.closePath(),u.endFill(),s&&(u.setStrokeStyle(1),u.moveTo(e+Math.cos(this.toRad(p))*r,t+Math.sin(this.toRad(p))*r),u.lineTo(e+Math.cos(this.toRad(p))*o,t+Math.sin(this.toRad(p))*o),u.closePath(),u.beginStroke("#CD4B5B")),u},e.prototype.toRad=function(e){return(e-90)*Math.PI/180},e.prototype.removeLayerFromMap=function(){this.canvasLayerObj.remove()},e.\u0275fac=function(t){return new(t||e)(c.ic(c.j),c.ic(p.a))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),ln=n("lcx6"),cn=n.n(ln),dn=function(){function e(){this.siteData=null,this.pixelRatio=window.devicePixelRatio||1}return e.prototype.makeSiteJsonCall=function(e){return new Promise((function(t,n){var a=new XMLHttpRequest;a.onload=function(){t(this.responseText)},a.onerror=n,a.open("GET",e),a.send()}))},e.prototype.addLayerToMap=function(e){var t=this;this.map=e,this.customLayerLibrary=leaflayer();var n=this.componentRef=this,a=this.customLayerLibrary.customLayer({container:document.createElement("canvas")});a.on("layer-render",(function(){n.setJSONDataCall(this)})),setTimeout((function(){t.canvasLayerObj=a}),1e3),a.addTo(this.map)},e.prototype.generateCanvasTagConfig=function(e){var t=e.getContainer(),n=l.Browser.retina?2:1,a=e._bounds.getSize();return t.width=n*a.x,t.height=n*a.y,t.style.width=a.x+"px",t.style.height=a.y+"px",t},e.prototype.setJSONDataCall=function(e){var t,n=this;if(this.zoomLevel=e._zoom,!(this.zoomLevel>13)){var a="";switch(!0){case this.zoomLevel<4:this.textRatio=0,this.countMin=5e3,this.countMax=3e4,a="circles";break;case this.zoomLevel<8:this.textRatio=13,this.countMin=5e3,this.countMax=3e4,a="circles";break;case this.zoomLevel<10:this.textRatio=13,this.countMin=5e3,this.countMax=3e4,a="jiostates";break;case this.zoomLevel<11:this.textRatio=11,this.countMin=500,this.countMax=5e3,a="cities";break;case this.zoomLevel<=12:this.textRatio=9,this.countMin=10,this.countMax=100,a="jiocenters";break;default:this.textRatio=9,this.countMin=5,this.countMax=20}a.length>0&&(t="assets/data/layers/boundaries/"+a+".json",this.siteData=null,this.makeSiteJsonCall(t).then((function(t){var a=t;n.siteData=null,n.siteData=JSON.parse(a),n.boundariesDrawing(e,n.siteData)})).catch((function(e){console.error(e.message)})))}},e.prototype.boundariesDrawing=function(e,t){var n=this.generateCanvasTagConfig(e);this.container=new Ut.Container,this.stage=new Ut.Stage(n),this.stage.enableDOMEvents(!0),this.stage.enableMouseOver(50),this._points=t;var a=this._points,o=this._points.length,i=this.textRatio?this.textRatio:3*this.zoomLevel;i*=this.pixelRatio;var r=this.countMin?this.countMin:5e3,s=this.countMax?this.countMax:3e4;this.container.removeAllChildren();for(var l=new Ut.Shadow("rgba(0,0,0,0.5)",1,2,5),c=new Ut.Container,d=new Ut.Container,p=0;p<o;p++){for(var u=a[p],h=u.coordinates,m=h.length,f=[],g=0;g<m;g++){var b=h[g],y=this.map.latLngToContainerPoint([b[0],b[1]]);f.push({x:y.x*this.pixelRatio,y:y.y*this.pixelRatio})}if(f.length){var v=this.getPolyGraphics(Ut.Graphics.getRGB(248,152,29,.8),"#E35425",f),x=new Ut.Shape(v);x.name=u.CIRCLENAME,x.cursor="pointer",x.points=f,c.addChild(x);var w=cn()([h],.1);if(w&&w[0]){var C={x:(y=this.map.latLngToContainerPoint([w[0],w[1]])).x*this.pixelRatio,y:y.y*this.pixelRatio},L=Math.floor(Math.random()*(s-r)+r),M=new Ut.Text(L,+i+"px Arial","#fff");M.textAlign="center",M.textBaseline="middle",M.outline=1,M.x=C.x,M.y=C.y;var S=M.clone();S.shadow=l,S.color="#FFFFFF",d.addChild(M,S),d.addChild(M)}}}this.container.addChild(c,d),this.container.alpha=1,this.stage.addChild(this.container),this.stage.update()},e.prototype.getPolyGraphics=function(e,t,n){var a=new Ut.Graphics;return a.setStrokeStyle(2),a.beginStroke(t),a.beginFill(e),a},e.prototype.removeLayerFromMap=function(){this.canvasLayerObj.remove()},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac=function(t){return new(t||e)},providedIn:"root"}),e}(),pn=function(){function e(e,t){this.nodeCreationService=e,this.boundariesService=t}return e.prototype.initialializeNodesAndBoundaries=function(e){var t=this;this.removeCanvasFromMap(),this.boundariesService.addLayerToMap(e.map),e.map.on("zoom",(function(){e.map.getZoom()>=13?(t.removeCanvasFromMap(),t.nodeCreationService.addLayerToMap(e)):(t.removeCanvasFromMap(),t.boundariesService.addLayerToMap(e.map))}))},e.prototype.removeCanvasFromMap=function(){var e=document.getElementsByTagName("canvas")[0];e&&e.remove()},e.\u0275fac=function(t){return new(t||e)(c.ic(sn),c.ic(dn))},e.\u0275prov=c.Qb({token:e,factory:e.\u0275fac,providedIn:"root"}),e}(),un=["spiderView"],hn=["sidenav"],mn=["smartbenchComponent"],fn=["splitmapComponent"],gn=["headerView"];function bn(e,t){if(1&e&&(c.ac(0,"div",12),c.Vc(1),c.Zb()),2&e){var n=c.qc();c.Db(1),c.Xc(" ",n.layerName,"")}}function yn(e,t){if(1&e){var n=c.bc();c.ac(0,"div",13),c.ac(1,"i",14),c.mc("click",(function(e){return c.Mc(n),c.qc().loadSmartbenchMenu(e.target)})),c.Zb(),c.Zb()}}function vn(e,t){if(1&e){var n=c.bc();c.ac(0,"div",15,16),c.mc("click",(function(){return c.Mc(n),c.qc().slideToggleStripbarMenu()})),c.ac(2,"mat-icon"),c.ac(3,"span",17),c.Vc(4),c.Zb(),c.Zb(),c.Zb()}if(2&e){var a=c.qc();c.Db(4),c.Xc(" ",a.arrowDirectionIcon?"keyboard_arrow_left":"keyboard_arrow_right"," ")}}function xn(e,t){}var wn=function(){function e(e,t,n,a,o,i,r,s,l,c,d,p,u,f,g,b,y,v){var x=this;this.shapeService=e,this.datashare=t,this.markerService=n,this.dialog=a,this.http=o,this.logicaltopologyService=i,this.macroNominalService=r,this.smallCellService=s,this.router=l,this.componentFactoryResolver=c,this.vc=d,this.sideNavService=p,this.smallCellPlanned4gService=u,this.macroPlanned4gService=f,this.Hpodsc4gService=g,this.nodesAndBoundariesManagerService=b,this.smartSplitmapService=y,this.cdr=v,this.selectedLayerArrList=[],this.selectedBaseMap=[],this.countOfLayerSelected=0,this.layerDetailsArray=[],this.layerNamesArray=[],this.smartbenchlayerenabled=!1,this.componentsReferences=[],this.stripDataEnabled=!1,this.dataShareSub=new m.a,this.smartbenchmarkDialogEnabled=!1,this.smartDialogText=!1,this.stripToggleBtn=!1,this.arrowDirectionIcon=!1,this.components=[h],this.currentComponent=null,this.router.events.subscribe((function(e){x.routPathVal=e.url})),this.macroNominalService.getReference(this),this.smallCellPlanned4gService.getReference(this),this.logicaltopologyService.getReference(this),console.log("sideNavService",this.sideNavService)}return e.prototype.ngOnInit=function(){this.libCustomLayer=leaflayer(),this.rulerLeafletLib=rulerLeaflet(),this.contextMenuLib=contextLayerMenu(),this.googleMutant=googleMutant(),this.macroNominalService.getReference(this),this.smallCellPlanned4gService.getReference(this),this.logicaltopologyService.getReference(this),this.datashare.mainLayer(this)},e.prototype.ngAfterViewInit=function(){this.initMap(),this.nodesAndboundariesCall(),this.setStripMenubar(),this.recieveAndLoadSplitmapCompoent(),this.datashare.addSpecificHeader(this.headerView)},e.prototype.ngAfterViewChecked=function(){this.cdr.detectChanges()},e.prototype.setStripMenubar=function(){var e=this;this.datashare.currentMessage.subscribe((function(t){var n=t;e.layerNamesArray=[];try{0==n.length?(e.hideStripBarMenu(n),e.arrowDirectionIcon=!1,e.stripToggleBtn=!1,e.destroySplitWidgetComponents()):n.length>0&&(e.layerDetailsArray=t,e.setUpStripContent(n))}catch(a){}}))},e.prototype.setUpStripContent=function(e,t){t&&(this.layerNamesArray=[]);for(var n=0;n<this.layerDetailsArray.length;n++)this.layerNamesArray.push(this.layerDetailsArray[n].name);if(void 0!==this.layerNamesArray&&this.layerNamesArray.length>0){var a=this.layerNamesArray[this.layerDetailsArray.length-1];this.stripDataEnabled=!0;var o=this.layerNamesArray.indexOf(a);"Smart Benchmarking"==a&&e[o].selected?this.smartBenchmarkDialog(o,e,a):(this.showStripHTMLContent(),this.layerName=a,this.smartbenchlayerenabled=!1,this.removeSmartBenchmarkingMenuIcon(),this.destroySplitWidgetComponents())}},e.prototype.showStripHTMLContent=function(){var e=document.getElementById("angular-app-root").clientWidth-30;document.getElementById("topstrip").style.width=e+"px",document.getElementById("topstrip").style.display="flex",this.stripToggleBtn=!0},e.prototype.slideToggleStripbarMenu=function(){var e=document.getElementById("topstrip");e.classList.contains("slide-in")?(e.classList.remove("slide-in"),e.classList.add("slide-out"),this.arrowDirectionIcon=!1):(e.classList.remove("slide-out"),e.classList.add("slide-in"),this.arrowDirectionIcon=!0)},e.prototype.smartBenchmarkDialog=function(e,t,n){var a=this,o=new It("Warning!","This feature is currently in Beta. Turning this layer on will cause other layers to close.",!0);document.getElementById("angular-app-root").style.zIndex="auto";var i=this.dialog.open(Ot,{maxWidth:"428px",data:o,disableClose:!0,panelClass:"material-dialog-container",autoFocus:!1});Array.from(document.getElementsByClassName("mat-dialog-container"))[0].style.overflow="inherit",i.afterClosed().subscribe((function(t){a.dialogCurrentState=t||!1,a.dialogCurrentState?(a.showStripHTMLContent(),a.layerName=n,a.smartbenchlayerenabled=!0):(a.smartbenchlayerenabled=!1,a.layerDetailsArray[e].selected=!1,a.layerDetailsArray.splice(e,1),a.layerNamesArray.splice(e,1),a.setUpStripContent(a.layerDetailsArray,!0),a.hideStripBarMenu(a.layerNamesArray))}))},e.prototype.hideStripBarMenu=function(e){0==e.length&&(document.getElementById("topstrip").style.display="none",this.removeSmartBenchmarkingMenuIcon())},e.prototype.removeSmartBenchmarkingMenuIcon=function(){document.getElementsByClassName("fa-sliders-h")[0]&&document.getElementsByClassName("fa-sliders-h")[0].classList.remove("smartmenuToggle")},e.prototype.destroySplitWidgetComponents=function(){(this.smartbenchmenuRef||this.splitmapcomponentRef)&&(this.smartbenchmenuRef.destroy(),this.splitmapcomponentRef.destroy())},e.prototype.loadSmartbenchMenu=function(e){e.classList.add("smartmenuToggle"),this.smartbenchComponentRef.clear();var t=this.componentFactoryResolver.resolveComponentFactory(_t);this.smartbenchmenuRef=this.smartbenchComponentRef.createComponent(t),this.smartbenchmenuRef.instance.smartbenchmenuref=this.smartbenchmenuRef},e.prototype.recieveAndLoadSplitmapCompoent=function(){var e=this;this.clickEventSub=this.smartSplitmapService.recieveTriggeredData().subscribe((function(t){void 0!==t&&t.length>0&&e.loadSplitMapComponent(t)}))},e.prototype.loadSplitMapComponent=function(e){var t=this;0==this.componentsReferences.length?this.loadsplimapConfig(e):(this.ref.destroy(),setTimeout((function(){t.loadsplimapConfig(e)}),100))},e.prototype.loadsplimapConfig=function(e){this.splitmapComponentRef.clear();var t=this.componentFactoryResolver.resolveComponentFactory(ct);this.splitmapcomponentRef=this.splitmapComponentRef.createComponent(t),this.splitmapcomponentRef.instance.splitmapPayload=e,this.ref=this.splitmapcomponentRef,this.componentsReferences.push(this.splitmapcomponentRef),document.getElementsByClassName("fa-sliders-h")[0].classList.remove("smartmenuToggle")},e.prototype.initMap=function(){var e=this,t=l.icon({iconRetinaUrl:"assets/images/Layers/pin.svg",iconUrl:"assets/images/Layers/3-1.svg",iconSize:[25,41],iconAnchor:[12,41],shadowSize:[41,41]});l.Marker.prototype.options.icon=t,this.optionMap={layers:[this.googleMutant.gridLayer.googleMutant({maxZoom:18,type:"roadmap"})],center:[19.04,72.9],zoomControl:!1,zoom:5,contextmenu:!0,contextmenuWidth:140,contextmenuItems:[{text:"ScreenShort",callback:function(t){setTimeout((function(){e.simpleMapScreenshoterContext=l.simpleMapScreenshoter({hidden:!0}).addTo(e.map),e.simpleMapScreenshoterContext.takeScreen("image",{caption:function(){return"Jio Cognitive Platform"}}).then((function(e){a.open(M,{width:"650px",height:"450px",data:{imageDataURL:e},panelClass:"table-view-layers-dialog-container"})})).catch((function(e){alert(e.toString())})),e.simpleMapScreenshoterContext.addTo(e.map)}),2e3),$(".leaflet-contextmenu").hide()}},{text:"Distance Measure",callback:function(t){e.rulerLeafletLib.control.ruler({position:"bottomright",lengthUnit:{display:"km",decimal:2,factor:null,label:"Distance:"}}).addTo(e.map),$(".leaflet-contextmenu").hide()}},{text:"Select Sites",callback:function(e){$(".leaflet-contextmenu").hide()}},{text:"Import KML",callback:function(e){$(".leaflet-contextmenu").hide()}},{text:"View KPIs",callback:function(e){$(".leaflet-contextmenu").hide()}},{text:"Save Polygon",callback:function(t){e.dialog.open(r.a,{width:"500px",height:"190px",panelClass:"material-dialog-container"}),$(".leaflet-contextmenu").hide()}},{text:"Clear Polygon",callback:function(e){$(".leaflet-contextmenu").hide()}},{text:"Clear All Polygons",callback:function(e){$(".leaflet-contextmenu").hide()}}]},this.map=this.contextMenuLib.map("map",this.optionMap),this.map.on("pm:globalremovalmodetoggled",(function(e){})),l.control.zoom({position:"bottomright"}).addTo(this.map),this.map.pm.addControls({position:"bottomright",drawMarker:!0,drawPolygon:!0,drawPolyline:!0,drawCircle:!0,drawCircleMarker:!1,editPolygon:!0,deleteLayer:!0,cutPolygon:!0,drawRectangle:!1,editMode:!0,dragMode:!0}),this.map.on("pm:create",(function(t){e.datashare.currentMessageDialog.subscribe((function(e){console.log(e,"testdataval")}));var n=new google.maps.Geocoder,a=new google.maps.LatLng(t.marker._latlng.lat,t.marker._latlng.lng);n.geocode({location:a},(function(t,n){e.address=n==google.maps.GeocoderStatus.OK?(t[3]?t[3]:t[2]?t[2]:t[1]?t[1]:t[0]).formatted_address:"",e.datashare.changeMessage(e.address)})),t.layer.on("pm:edit",(function(e){console.log(e.layer.toGeoJSON(),"....>>")}))})),this.datashare.currentMessage.subscribe((function(e){})),this.map.on("pm:create",(function(e){a.open(Ne,{width:"578px",height:"556px",background:"#FFFFFF 0% 0% no-repeat padding-box",panelClass:"table-view-layers-dialog-container"})})),this.map.on("pm:snapdrag",(function(t){console.log("e",t),a.open(Ne,{width:"575px",height:"346px",panelClass:"table-view-layers-dialog-container",data:e.address})})),this.currentZoom=this.map.getZoom(),this.screenShotControl=l.Control.extend({options:{position:"bottomright"},onAdd:function(e){var t=l.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom-count-layers");return t.innerHTML=' <div class="tab-container-layers"><div class="icon-style"><i class="ic ic-snapshot1"></i></div></div>',t.style.backgroundColor="white",t.style.backgroundSize="40px 40px",t.style.width="40px",t.style.height="40px",t.onclick=function(){new rt.SimpleMapScreenshoter({hidden:!0}).addTo(o).takeScreen("image",{caption:function(){return"Jio Cognitive Platform"}}).then((function(e){a.open(M,{width:"650px",height:"450px",data:{imageDataURL:e},panelClass:"table-view-layers-dialog-container"})})).catch((function(e){alert(e.toString())}))},t},onRemove:function(e){}}),this.map.on("simpleMapScreenshoter.error",(function(e){var t=document.createElement("div");t.classList.add("create-screen-error"),t.innerHTML=e.e.toString(),document.getElementById("screens").appendChild(t)})),this.map.addControl(new this.screenShotControl);var n=this.datashare,a=this.dialog,o=this.map;this.customControlPanIndia=l.Control.extend({options:{position:"bottomright"},onAdd:function(e){var t=l.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom-count-layers");return t.innerHTML=' <div class="tab-container-layers"><div class="icon-style"><i class="ic ic-pan-01"></i></div></div>',t.style.backgroundColor="white",t.style.backgroundSize="40px 40px",t.style.width="40px",t.style.height="40px",t.onclick=function(){5!=e.getZoom()&&e.setZoom(5)},t},onRemove:function(e){}}),this.map.addControl(new this.customControlPanIndia);var i=this.countOfLayerSelected;this.customControl=l.Control.extend({options:{position:"bottomright"},onAdd:function(e){var t=this,o=l.DomUtil.create("div","leaflet-bar leaflet-control leaflet-control-custom-count-layers");return this.dataShareSub=n.currentMessage.subscribe((function(e){t.selectedLayerArrList=e;for(var n=0;n<t.selectedLayerArrList.length;n++);t.countOfLayerSelected=t.selectedLayerArrList.length,o.innerHTML='<div class="tab-container-layers"><div class="icon-count"><span style="font-size: 12px;font-weight: 600;" id="command">'+t.countOfLayerSelected+'</span></div><div class="icon-style"><i class="ic ic-layers-01"></i></div></div>'})),o.innerHTML=' <div class="tab-container-layers"><div class="icon-count"><span style="font-size: 12px;font-weight: 600;" id="command">'+i+'</span></div><div class="icon-style"><i class="ic ic-layers-01"></i></div></div>',o.style.backgroundColor="white",o.style.backgroundSize="40px 40px",o.style.width="40px",o.style.height="40px",o.onclick=function(){var e=a.open(x,{width:"340px",position:{bottom:"310px",right:"60px"},panelClass:"table-view-layers-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0});e.backdropClick().subscribe((function(t){e.close()})),e.componentInstance.onAddDropDown.subscribe((function(e){n.currentMessage.subscribe((function(e){}))}))},this._container=o,this._update(),this._container},onRemove:function(e){},_update:function(){}}),this.map.addControl(new this.customControl),this.customControlList=l.Control.Layers.extend({options:{position:"bottomright"},onAdd:function(){var e=l.DomUtil.create("div"," leaflet-bar leaflet-bar-horizontal ",this._control);e.style.display="flex",e.style.position="absolute",e.style.bottom="0px",e.style.right="50px";var t=l.DomUtil.create("a","horizontal_icon_table_view",e);t.innerHTML='<div class="ic ic-table-01"></div>';var n=l.DomUtil.create("a","horizontal_icon_kpi",e);n.innerHTML='<div class="ic ic-KPI-01"></div>';var i=l.DomUtil.create("a","horizontal_icon_legends",e);return i.innerHTML='<div class="ic ic-legends-01"></div>',t.onclick=function(){var e=event.target;l.DomUtil.removeClass(t,"horizontal_icon_table_view"),e.classList.add("control_layer_active");var n=a.open(it,{width:"700px",height:"470px",position:{bottom:"60px",right:"60px"},panelClass:"table-view-layers-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0});n.backdropClick().subscribe((function(e){})),n.afterClosed().subscribe((function(n){l.DomUtil.addClass(t,"horizontal_icon_table_view"),e.classList.remove("control_layer_active")})),n.componentInstance.onAdd.subscribe((function(e){"Pan India"==e.selectedAreaName?(o.fitBounds([[e.rowDataTable.latitude,e.rowDataTable.longitude]]),o.setZoom(7)):"jioState"==e.selectedAreaNameParent?(o.fitBounds([[e.rowDataTable.latitude,e.rowDataTable.longitude]]),o.setZoom(8)):(o.fitBounds([[e.rowDataTable.latitude,e.rowDataTable.longitude]]),o.setZoom(12))})),n.componentInstance.onAddDropDown.subscribe((function(e){"Pan India"==e.selectedAreaName?o.setZoom(5):"jioState"==e.selectedAreaNameParent?(o.fitBounds([[e.objArea.latitude,e.objArea.longitude]]),o.setZoom(7)):(o.fitBounds([[e.objArea.latitude,e.objArea.longitude]]),o.setZoom(13))}))},n.onclick=function(){var e=a.open(Y,{maxWidth:"700px",height:"450px",position:{bottom:"60px",right:"60px"},panelClass:"table-view-layers-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0});e.backdropClick().subscribe((function(t){e.close()}))},i.onclick=function(){var e=a.open(Te,{width:"538px",height:"313px",position:{bottom:"60px",right:"60px"},panelClass:"table-view-layers-dialog-container",backdropClass:"cdk-overlay-transparent-backdrop",disableClose:!0,hasBackdrop:!0});e.backdropClick().subscribe((function(t){e.close()}))},e}}),this.map.addControl(new this.customControlList),this.optionsSacle={position:"bottomleft"},l.control.scale({position:this.optionsSacle.position,imperial:!1,maxWidth:100}).addTo(this.map),this.shapeService.mapServiceData=this.map,this.basemapfunc(),this.datashare.currentMessageDialog.subscribe((function(t){if("coverage-prediction"==t.display){$("#Layers").parent()[0].click(),e.datashare.layerNameFunc([{name:"Back To Coverage Prediction",source:"create"}]);var n={title:"Back To Coverage Prediction",headerSapid:"Maharashtra-NP-CV-121020_v1",name:"coverage-prediction"},a=e.componentFactoryResolver.resolveComponentFactory(zt.a);e.headerToShow=e.target.createComponent(a),e.headerToShow.instance.headerData=n,e.datashare.addExtraLayerDynamic([{name:"coverage-prediction",display:"create"}]),e.datashare.removeLayerFromNavigation("overage-prediction")}if("nominal-validation"==t.display&&($("#Layers").parent()[0].click(),e.datashare.layerNameFunc([{name:"Back To Nominal Validation",source:"create"}]),n={title:"Back To Nominal Validation",headerSapid:"Maharashtra-NP-CV-121020_v1",name:"nominal-validation"},a=e.componentFactoryResolver.resolveComponentFactory(zt.a),e.headerToShow=e.target.createComponent(a),e.headerToShow.instance.headerData=n,e.datashare.addExtraLayerDynamic([{name:"nominal-validation",display:"create"}]),e.datashare.removeLayerFromNavigation("nominal-validation")),t!={}&&"undefined"!=e.dataPolyList){e.dataPolyList=t;for(var o=0;o<e.dataPolyList.transferDataPoly.length;o++){var i=e.dataPolyList.transferDataPoly[o];console.log(i,"ele"),"Circle"==i.polydata.properties.shape?(e.circle=l.circle([i.polydata.geometry.coordinates[1],i.polydata.geometry.coordinates[0]],i.polydata.properties.radius,{color:"red",fillColor:"#f03",fillOpacity:.5}).addTo(e.map),e.map.setZoom(i.polydata.geometry.coordinates[1],i.polydata.geometry.coordinates[0],14)):"Polygon"==i.polydata.properties.shape?(e.poly=l.polygon([[19.060009,72.876063],[19.013112,72.907984],[19.065525,72.916565],[19.060009,72.876063]]).addTo(e.map),e.map.setZoom(14)):"Rectangle"==i.polydata.properties.shape?(e.polyRectangle=l.rectangle([[19.045527,72.902422],[19.045527,72.905597],[19.049482,72.905597],[19.049482,72.902422],[19.045527,72.902422]],{color:"#ff7800",weight:1}).addTo(e.map),e.map.setZoom(14)):(e.polyline=l.polyline([[19.045568,72.894765],[19.046055,72.898672],[19.045933,72.901742]]).addTo(e.map),e.map.setZoom(14))}}})),console.log(this.datashare,"datashare?????")},e.prototype.basemapfunc=function(){var e=this;this.dataShareSub=this.datashare.currentMessage.subscribe((function(t){t instanceof Array&&t.forEach((function(t){var n=e;"Terrain"===t.name?(e.map.eachLayer((function(e){n.map.removeLayer(e)})),e.googleMutant.gridLayer.googleMutant({maxZoom:18,type:"terrain"}).addTo(e.map)):"Satellite"===t.name?(e.map.eachLayer((function(e){n.map.removeLayer(e)})),e.googleMutant.gridLayer.googleMutant({maxZoom:18,type:"hybrid"}).addTo(e.map)):"Streets Gray Scale"===t.name?(e.map.eachLayer((function(e){n.map.removeLayer(e)})),e.googleMutant.gridLayer.googleMutant({type:"roadmap",maxZoom:18,styles:[{stylers:[{saturation:-100}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"}]}]}).addTo(e.map)):"Streets Night"===t.name?(e.map.eachLayer((function(e){n.map.removeLayer(e)})),e.googleMutant.gridLayer.googleMutant({type:"roadmap",maxZoom:18,styles:[{elementType:"geometry",stylers:[{color:"#242f3e"}]},{elementType:"labels.text.fill",stylers:[{color:"#746855"}]},{elementType:"labels.text.stroke",stylers:[{color:"#242f3e"}]},{featureType:"administrative",elementType:"geometry",stylers:[{color:"#79473d"}]},{featureType:"administrative.country",elementType:"geometry.stroke",stylers:[{visibility:"on"}]},{featureType:"administrative.locality",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi",elementType:"geometry",stylers:[{visibility:"on"}]},{featureType:"poi",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"poi.park",elementType:"geometry",stylers:[{color:"#263c3f"}]},{featureType:"poi.park",elementType:"labels.text.fill",stylers:[{color:"#6b9a76"}]},{featureType:"road",elementType:"geometry",stylers:[{color:"#38414e"}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#212a37"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#9ca5b3"}]},{featureType:"road.highway",elementType:"geometry",stylers:[{color:"#746855"}]},{featureType:"road.highway",elementType:"geometry.stroke",stylers:[{color:"#1f2835"}]},{featureType:"road.highway",elementType:"labels.text.fill",stylers:[{color:"#f3d19c"}]},{featureType:"transit",elementType:"geometry",stylers:[{color:"#2f3948"}]},{featureType:"transit.station",elementType:"labels.text.fill",stylers:[{color:"#d59563"}]},{featureType:"water",elementType:"geometry",stylers:[{color:"#17263c"}]},{featureType:"water",elementType:"labels.text.fill",stylers:[{color:"#515c6d"}]},{featureType:"water",elementType:"labels.text.stroke",stylers:[{color:"#17263c"}]}]}).addTo(e.map)):"Streets Colored"===t.name&&(e.map.eachLayer((function(e){n.map.removeLayer(e)})),e.googleMutant.gridLayer.googleMutant({maxZoom:18,type:"roadmap"}).addTo(e.map))})),0===t.length&&e.googleMutant.gridLayer.googleMutant({maxZoom:18,type:"roadmap"}).addTo(e.map)}))},e.prototype.nodesAndboundariesCall=function(){window.maps=this.map,window},e.prototype.ngOnDestroy=function(){this.dataShareSub.unsubscribe()},e.\u0275fac=function(t){return new(t||e)(c.Ub(d.a),c.Ub(p.a),c.Ub(Et),c.Ub(w.b),c.Ub(ae.b),c.Ub(Jt),c.Ub(Qt),c.Ub(qt),c.Ub(i.b),c.Ub(c.j),c.Ub(c.Q),c.Ub(Vt.a),c.Ub(Yt),c.Ub(Kt),c.Ub(en),c.Ub(pn),c.Ub(pt),c.Ub(c.h))},e.\u0275cmp=c.Ob({type:e,selectors:[["app-main-layer"]],viewQuery:function(e,t){var n;1&e&&(c.cd(un,!0,c.Q),c.Rc(hn,!0),c.cd(mn,!0,c.Q),c.cd(fn,!0,c.Q),c.cd(s.a,!0),c.cd(gn,!0,c.Q)),2&e&&(c.Hc(n=c.nc())&&(t.target=n.first),c.Hc(n=c.nc())&&(t.sidenav=n.first),c.Hc(n=c.nc())&&(t.smartbenchComponentRef=n.first),c.Hc(n=c.nc())&&(t.splitmapComponentRef=n.first),c.Hc(n=c.nc())&&(t.adHost=n.first),c.Hc(n=c.nc())&&(t.headerView=n.first))},decls:16,vars:3,consts:[["id","layerDivId","fxFlexFill","",2,"height","100%","overflow","auto"],["id","map",1,"mapClass"],["spiderView",""],["id","topstrip",1,"topstrip","position-absolute","bg-white","justify-content-between","rounded","align-items-center"],["class","layer-label pl-4 align-items-center text-dark font-weight-bold",4,"ngIf"],[1,"right-content","tab-container-layers","d-flex","align-items-center"],["class","smartwidget-icon-wrapper",4,"ngIf"],["id","striptoggle","class","striptoggle-btn d-flex align-items-center justify-content-center m-0 cursor-pointer position-absolute",3,"click",4,"ngIf"],["headerView",""],["ad-host",""],["smartbenchComponent",""],["splitmapComponent",""],[1,"layer-label","pl-4","align-items-center","text-dark","font-weight-bold"],[1,"smartwidget-icon-wrapper"],[1,"fa","fa-sliders-h","smartwidget-icon",3,"click"],["id","striptoggle",1,"striptoggle-btn","d-flex","align-items-center","justify-content-center","m-0","cursor-pointer","position-absolute",3,"click"],["striptoggle",""],[1,"material-icons"]],template:function(e,t){1&e&&(c.ac(0,"div",0),c.ac(1,"div",1),c.Vb(2,"div",null,2),c.ac(4,"div",3),c.Tc(5,bn,2,1,"div",4),c.ac(6,"div",5),c.Tc(7,yn,2,0,"div",6),c.Zb(),c.Zb(),c.Tc(8,vn,5,1,"div",7),c.Zb(),c.Wb(9,null,8),c.Zb(),c.Tc(11,xn,0,0,"ng-template",9),c.Vb(12,"div",null,10),c.Vb(14,"div",null,11)),2&e&&(c.Db(5),c.wc("ngIf",t.stripDataEnabled),c.Db(2),c.wc("ngIf",t.smartbenchlayerenabled),c.Db(1),c.wc("ngIf",t.stripToggleBtn))},directives:[g.e,a.n,s.a,R.a],styles:[".text-black[_ngcontent-%COMP%]{color:#000}#map[_ngcontent-%COMP%]{height:100%;width:100%;padding:0}#map[_ngcontent-%COMP%]   .leaflet-control-container[_ngcontent-%COMP%]{background:red!important}#newline[_ngcontent-%COMP%]{right:375px!important}#newline[_ngcontent-%COMP%], #screenshot[_ngcontent-%COMP%]{position:absolute;bottom:0;right:200px;z-index:9999}  .spider-view-custom-dialog>mat-dialog-container{background-color:rgba(0,0,0,0);box-shadow:none}.contextMenu-ss[_ngcontent-%COMP%]{width:100px;height:300px;background:red}.pin-zoom-create-pins[_ngcontent-%COMP%]{background:#fff}.topstrip[_ngcontent-%COMP%]{font-family:Lato Regular;font-size:16px;height:48px;top:56px;left:30px;z-index:999;box-shadow:0 1px 3px 0 rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 2px 1px -1px rgba(0,0,0,.12);display:none}.topstrip[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]{margin-left:auto}.topstrip[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .smartwidget-icon-wrapper[_ngcontent-%COMP%]   .smartwidget-icon[_ngcontent-%COMP%]{padding:10px;border-radius:50%;color:#666;margin-right:62px}.topstrip[_ngcontent-%COMP%]   .right-content[_ngcontent-%COMP%]   .smartwidget-icon-wrapper[_ngcontent-%COMP%]   .smartwidget-icon.smartmenuToggle[_ngcontent-%COMP%]{background:#0070db;color:#fff}.striptoggle-btn[_ngcontent-%COMP%]{width:30px;height:48px;top:56px;right:0;z-index:999;background:#1278d7;padding:12px 0;border-top-left-radius:5px;border-bottom-left-radius:5px}.striptoggle-btn[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:27px}.slide-in[_ngcontent-%COMP%]{animation:slide-in .2s forwards;-webkit-animation:slide-in .2s forwards}.slide-out[_ngcontent-%COMP%]{animation:slide-out .2s forwards;-webkit-animation:slide-out .2s forwards}@keyframes slide-in{to{transform:translateX(100%)}}@-webkit-keyframes slide-in{to{-webkit-transform:translateX(100%)}}@keyframes slide-out{0%{transform:translateX(100%)}to{transform:translateX(0)}}@-webkit-keyframes slide-out{0%{transform:translateX(100%)}to{transform:translateX(0)}}"]}),e}(),Cn=[{path:"",component:wn}],Ln=function(){function e(){}return e.\u0275mod=c.Sb({type:e}),e.\u0275inj=c.Rb({factory:function(t){return new(t||e)},imports:[[i.f.forChild(Cn)],i.f]}),e}(),Mn=n("9LEk"),Sn=n("2J3F"),Dn=n("pdUi"),kn=n("0PDG"),An=n("KWbq"),Pn=n("6iZK"),Tn=n("iYur"),Fn=n("BtvD"),_n=n("h/AT"),On=n("S9aa"),In=n("CAq0"),zn=n("tNiZ"),Rn=n("aBAV"),Zn=n("+0bg"),Nn=n("nbAZ"),Vn=n("VkwW"),Bn=n("uad8"),En=n("xJ+t"),jn=n("oIZM"),Gn=n("Byqp"),Un=n("ETwC"),Wn=n("FfOm"),Hn=n("M/Yn"),Jn=n("qiSS"),$n=n("3K71"),Qn=n("JUyF"),qn=n("ZwxD"),Xn=n("gg4P"),Yn=n("VF0x"),Kn=n("gn5i"),ea=n("1BCm"),ta=n("Aa3H"),na=n("nMqo"),aa=function(){function e(){}return e.\u0275mod=c.Sb({type:e}),e.\u0275inj=c.Rb({factory:function(t){return new(t||e)},providers:[Et],imports:[[qn.d,Ln,a.c,o.a,we.a,xe.b.forRoot(),je.b.withComponents([ee.a,K.a,Xn.a,ea.a,ta.a,na.a,Yn.a,Kn.nominalGenerationRenderComponent,Kn.flagRenderComponent]),ve.b,S.l,S.u,Mn.a,kn.e,An.q,Pn.d,Tn.b,Fn.a,_n.a,D.c,ft.c,oe.d,k.b,On.e,In.d,zn.c,w.f,V.b,C.b,ut.b,Rn.b,R.b,z.c,Zn.c,Ee.b,Z.m,Nn.b,Vn.a,Bn.a,Ge.c,Z.u,I.b,En.d,jn.b,ht.b,_e.c,Gn.a,Un.p,gt.e,Wn.b,mt.b,Hn.d,Sn.h,Dn.d,_.c,Qn.b,$n.b,Jn.a]]}),e}()},Rpi3:function(e,t,n){},dd9y:function(e,t,n){!function(e){"use strict";var t=("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self,function(e,t){return function(e){!function(t){function n(e,t){return function(e){p.impl.options.imagePlaceholder=void 0===e.imagePlaceholder?d.imagePlaceholder:e.imagePlaceholder,p.impl.options.cacheBust=void 0===e.cacheBust?d.cacheBust:e.cacheBust}(t=t||{}),Promise.resolve(e).then((function(e){return function e(t,n,a){return a||!n||n(t)?Promise.resolve(t).then((function(e){return e instanceof HTMLCanvasElement?r.makeImage(e.toDataURL()):e.cloneNode(!1)})).then((function(a){return function(t,n,a){var o=t.childNodes;return 0===o.length?Promise.resolve(n):function(t,n,a){var o=Promise.resolve();return n.forEach((function(n){o=o.then((function(){return e(n,a)})).then((function(e){e&&t.appendChild(e)}))})),o}(n,r.asArray(o),a).then((function(){return n}))}(t,a,n)})).then((function(e){return function(e,t){return t instanceof Element?Promise.resolve().then((function(){!function(e,t){e.cssText?t.cssText=e.cssText:function(e,t){r.asArray(e).forEach((function(n){t.setProperty(n,e.getPropertyValue(n),e.getPropertyPriority(n))}))}(e,t)}(window.getComputedStyle(e),t.style)})).then((function(){function n(n){var a=window.getComputedStyle(e,n),o=a.getPropertyValue("content");if(""!==o&&"none"!==o){var i=r.uid();t.className=t.className+" "+i;var s=document.createElement("style");s.appendChild(function(e,t,n){var a="."+e+":"+t,o=n.cssText?function(e){var t=e.getPropertyValue("content");return e.cssText+" content: "+t+";"}(n):function(e){return r.asArray(e).map((function(t){return t+": "+e.getPropertyValue(t)+(e.getPropertyPriority(t)?" !important":"")})).join("; ")+";"}(n);return document.createTextNode(a+"{"+o+"}")}(i,n,a)),t.appendChild(s)}}[":before",":after"].forEach((function(e){n(e)}))})).then((function(){e instanceof HTMLTextAreaElement&&(t.innerHTML=e.value),e instanceof HTMLInputElement&&t.setAttribute("value",e.value)})).then((function(){t instanceof SVGElement&&(t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t instanceof SVGRectElement&&["width","height"].forEach((function(e){var n=t.getAttribute(e);n&&t.style.setProperty(e,n)})))})).then((function(){return t})):t}(t,e)})):Promise.resolve()}(e,t.filter,!0)})).then(o).then(i).then((function(e){return t.bgcolor&&(e.style.backgroundColor=t.bgcolor),t.width&&(e.style.width=t.width+"px"),t.height&&(e.style.height=t.height+"px"),t.style&&Object.keys(t.style).forEach((function(n){e.style[n]=t.style[n]})),e})).then((function(n){return function(e,t,n){return Promise.resolve(e).then((function(e){return e.setAttribute("xmlns","http://www.w3.org/1999/xhtml"),(new XMLSerializer).serializeToString(e)})).then(r.escapeXhtml).then((function(e){return'<foreignObject x="0" y="0" width="100%" height="100%">'+e+"</foreignObject>"})).then((function(e){return'<svg xmlns="http://www.w3.org/2000/svg" width="'+t+'" height="'+n+'">'+e+"</svg>"})).then((function(e){return"data:image/svg+xml;charset=utf-8,"+e}))}(n,t.width||r.width(e),t.height||r.height(e))}))}function a(e,t){function a(e){var n=document.createElement("canvas");if(n.width=t.width||r.width(e),n.height=t.height||r.height(e),t.bgcolor){var a=n.getContext("2d");a.fillStyle=t.bgcolor,a.fillRect(0,0,n.width,n.height)}return n}return n(e,t).then(r.makeImage).then(r.delay(100)).then((function(t){var n=a(e);return n.getContext("2d").drawImage(t,0,0),n}))}function o(e){return l.resolveAll().then((function(t){var n=document.createElement("style");return e.appendChild(n),n.appendChild(document.createTextNode(t)),e}))}function i(e){return c.inlineAll(e).then((function(){return e}))}var r=function(){function e(e){var t=/\.([^\.\/]*?)$/g.exec(e);return t?t[1]:""}function t(e,t){var n=window.getComputedStyle(e).getPropertyValue(t);return parseFloat(n.replace("px",""))}return{escape:function(e){return e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1")},parseExtension:e,mimeType:function(t){var n=e(t).toLowerCase();return function(){var e="application/font-woff";return{woff:e,woff2:e,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:"image/jpeg",jpeg:"image/jpeg",gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"}}()[n]||""},dataAsUrl:function(e,t){return"data:"+t+";base64,"+e},isDataUrl:function(e){return-1!==e.search(/^(data:)/)},canvasToBlob:function(e){return e.toBlob?new Promise((function(t){e.toBlob(t)})):function(e){return new Promise((function(t){for(var n=window.atob(e.toDataURL().split(",")[1]),a=n.length,o=new Uint8Array(a),i=0;i<a;i++)o[i]=n.charCodeAt(i);t(new Blob([o],{type:"image/png"}))}))}(e)},resolveUrl:function(e,t){var n=document.implementation.createHTMLDocument(),a=n.createElement("base");n.head.appendChild(a);var o=n.createElement("a");return n.body.appendChild(o),a.href=t,o.href=e,o.href},getAndEncode:function(e){return p.impl.options.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+(new Date).getTime()),new Promise((function(t){function n(e){console.error(e),t("")}var a,o=new XMLHttpRequest;if(o.onreadystatechange=function(){if(4===o.readyState){if(200!==o.status)return void(a?t(a):n("cannot fetch resource: "+e+", status: "+o.status));var i=new FileReader;i.onloadend=function(){var e=i.result.split(/,/)[1];t(e)},i.readAsDataURL(o.response)}},o.ontimeout=function(){a?t(a):n("timeout of 30000ms occured while fetching resource: "+e)},o.responseType="blob",o.timeout=3e4,o.open("GET",e,!0),o.send(),p.impl.options.imagePlaceholder){var i=p.impl.options.imagePlaceholder.split(/,/);i&&i[1]&&(a=i[1])}}))},uid:function(){var e=0;return function(){return"u"+("0000"+(Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)+e++}}(),delay:function(e){return function(t){return new Promise((function(n){setTimeout((function(){n(t)}),e)}))}},asArray:function(e){for(var t=[],n=e.length,a=0;a<n;a++)t.push(e[a]);return t},escapeXhtml:function(e){return e.replace(/#/g,"%23").replace(/\n/g,"%0A")},makeImage:function(e){return new Promise((function(t,n){var a=new Image;a.onload=function(){t(a)},a.onerror=n,a.src=e}))},width:function(e){var n=t(e,"border-left-width"),a=t(e,"border-right-width");return e.scrollWidth+n+a},height:function(e){var n=t(e,"border-top-width"),a=t(e,"border-bottom-width");return e.scrollHeight+n+a}}}(),s=function(){function e(e){return-1!==e.search(a)}function t(e){for(var t,n=[];null!==(t=a.exec(e));)n.push(t[1]);return n.filter((function(e){return!r.isDataUrl(e)}))}function n(e,t,n,a){return Promise.resolve(t).then((function(e){return n?r.resolveUrl(e,n):e})).then(a||r.getAndEncode).then((function(e){return r.dataAsUrl(e,r.mimeType(t))})).then((function(n){return e.replace(function(e){return new RegExp("(url\\(['\"]?)("+r.escape(e)+")(['\"]?\\))","g")}(t),"$1"+n+"$3")}))}var a=/url\(['"]?([^'"]+?)['"]?\)/g;return{inlineAll:function(a,o,i){return e(a)?Promise.resolve(a).then(t).then((function(e){var t=Promise.resolve(a);return e.forEach((function(e){t=t.then((function(t){return n(t,e,o,i)}))})),t})):Promise.resolve(a)},shouldProcess:e,impl:{readUrls:t,inline:n}}}(),l=function(){function e(){function e(e){return{resolve:function(){return s.inlineAll(e.cssText,(e.parentStyleSheet||{}).href)},src:function(){return e.style.getPropertyValue("src")}}}return Promise.resolve(r.asArray(document.styleSheets)).then((function(e){var t=[];return e.forEach((function(e){try{r.asArray(e.cssRules||[]).forEach(t.push.bind(t))}catch(t){console.log("Error while reading CSS rules from "+e.href,t.toString())}})),t})).then((function(e){return e.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return s.shouldProcess(e.style.getPropertyValue("src"))}))})).then((function(t){return t.map(e)}))}return{resolveAll:function(){return e(document).then((function(e){return Promise.all(e.map((function(e){return e.resolve()})))})).then((function(e){return e.join("\n")}))},impl:{readAll:e}}}(),c=function(){function e(e){return{inline:function(t){return r.isDataUrl(e.src)?Promise.resolve():Promise.resolve(e.src).then(t||r.getAndEncode).then((function(t){return r.dataAsUrl(t,r.mimeType(e.src))})).then((function(t){return new Promise((function(n,a){e.onload=n,e.onerror=a,e.src=t}))}))}}}return{inlineAll:function t(n){return n instanceof Element?function(e){var t=e.style.getPropertyValue("background");return t?s.inlineAll(t).then((function(t){e.style.setProperty("background",t,e.style.getPropertyPriority("background"))})).then((function(){return e})):Promise.resolve(e)}(n).then((function(){return n instanceof HTMLImageElement?e(n).inline():Promise.all(r.asArray(n.childNodes).map((function(e){return t(e)})))})):Promise.resolve(n)},impl:{newImage:e}}}(),d={imagePlaceholder:void 0,cacheBust:!1},p={toSvg:n,toPng:function(e,t){return a(e,t||{}).then((function(e){return e.toDataURL()}))},toJpeg:function(e,t){return a(e,t=t||{}).then((function(e){return e.toDataURL("image/jpeg",t.quality||1)}))},toBlob:function(e,t){return a(e,t||{}).then(r.canvasToBlob)},toPixelData:function(e,t){return a(e,t||{}).then((function(t){return t.getContext("2d").getImageData(0,0,r.width(e),r.height(e)).data}))},impl:{fontFaces:l,images:c,util:r,inliner:s,options:{}}};e.exports=p}()}(t={exports:{}}),t.exports}()),n=L.Control.extend({options:{cropImageByInnerWH:!0,hidden:!1,domtoimageOptions:{},position:"topleft",screenName:"screen",iconUrl:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iaXNvLTg4NTktMSI/PjxzdmcgdmVyc2lvbj0iMS4xIiBpZD0iQ2FwYV8xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDMyIDMyIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzMiAzMjsiIHhtbDpzcGFjZT0icHJlc2VydmUiPjxnPjxnIGlkPSJjYW1lcmEiPjxwYXRoIHN0eWxlPSJmaWxsOiMwMTAwMDI7IiBkPSJNMTYsOS41MDFjLTQuNDE5LDAtOCwzLjU4MS04LDhjMCw0LjQxOCwzLjU4MSw4LDgsOGM0LjQxOCwwLDgtMy41ODIsOC04UzIwLjQxOCw5LjUwMSwxNiw5LjUwMXogTTIwLjU1NSwyMS40MDZjLTIuMTU2LDIuNTE2LTUuOTQzLDIuODA3LTguNDU5LDAuNjVjLTIuNTE3LTIuMTU2LTIuODA3LTUuOTQ0LTAuNjUtOC40NTljMi4xNTUtMi41MTcsNS45NDMtMi44MDcsOC40NTktMC42NUMyMi40MiwxNS4xMDIsMjIuNzExLDE4Ljg5MSwyMC41NTUsMjEuNDA2eiIvPjxwYXRoIHN0eWxlPSJmaWxsOiMwMTAwMDI7IiBkPSJNMTYsMTMuNTAxYy0yLjIwOSwwLTMuOTk5LDEuNzkxLTQsMy45OTl2MC4wMDJjMCwwLjI3NSwwLjIyNCwwLjUsMC41LDAuNXMwLjUtMC4yMjUsMC41LTAuNVYxNy41YzAuMDAxLTEuNjU2LDEuMzQzLTIuOTk5LDMtMi45OTljMC4yNzYsMCwwLjUtMC4yMjQsMC41LTAuNVMxNi4yNzYsMTMuNTAxLDE2LDEzLjUwMXoiLz48cGF0aCBzdHlsZT0iZmlsbDojMDEwMDAyOyIgZD0iTTI5LjQ5Miw4LjU0MmwtNC4zMzQtMC43MjNsLTEuMzczLTMuNDM0QzIzLjMyNiwzLjI0LDIyLjIzMiwyLjUsMjEsMi41SDExYy0xLjIzMiwwLTIuMzI2LDAuNzQtMi43ODYsMS44ODZMNi44NDIsNy44MTlMMi41MDksOC41NDJDMS4wNTUsOC43ODMsMCwxMC4wMjcsMCwxMS41djE1YzAsMS42NTQsMS4zNDYsMywzLDNoMjZjMS42NTQsMCwzLTEuMzQ2LDMtM3YtMTVDMzIsMTAuMDI3LDMwLjk0NSw4Ljc4MywyOS40OTIsOC41NDJ6IE0zMCwyNi41YzAsMC41NTMtMC40NDcsMS0xLDFIM2MtMC41NTMsMC0xLTAuNDQ3LTEtMXYtMTVjMC0wLjQ4OSwwLjM1NC0wLjkwNiwwLjgzNi0wLjk4Nkw4LjI4LDkuNjA3bDEuNzkxLTQuNDc4QzEwLjIyNCw0Ljc1LDEwLjU5MSw0LjUsMTEsNC41aDEwYzAuNDA4LDAsMC43NzUsMC4yNDksMC45MjgsMC42MjlsMS43OTEsNC40NzhsNS40NDUsMC45MDdDMjkuNjQ2LDEwLjU5NCwzMCwxMS4wMTEsMzAsMTEuNVYyNi41eiIvPjwvZz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PGc+PC9nPjxnPjwvZz48Zz48L2c+PC9zdmc+",hideElementsWithSelectors:[".leaflet-control-container"],onCropBorderSize:2,caption:null,captionFontSize:15,captionFont:"Arial",captionColor:"black",captionBgColor:"white",captionOffset:5,mimeType:"image/png",debugMode:!1},onAdd:function(){return this._container=L.DomUtil.create("div","leaflet-control-simpleMapScreenshoter"),this._link=null,this._screenState={status:1,promise:null},!1===this.options.hidden&&this._addScreenBtn(),this._container},takeScreen:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"blob",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a={};for(var o in this.options)a[o]=n.hasOwnProperty(o)?n[o]:this.options[o];return 2===this._screenState.status||(this._map.fire("simpleMapScreenshoter.takeScreen"),this._screenState.status=2,this._setElementsVisible(!1),this._screenState.promise=this._getPixelData(a).then((function(t){return e._setElementsVisible(!0),e._toCanvas(t,a)})).then((function(n){return"image"===t?e._canvasToImage(n,a):"canvas"===t?n:e._canvasToBlob(n)})).then((function(t){return e._screenState.status=1,e._map.fire("simpleMapScreenshoter.done"),t})).catch((function(t){return e._setElementsVisible(!0),e._screenState.status=1,e._map.fire("simpleMapScreenshoter.error",{e:t}),Promise.reject(t)}))),this._screenState.promise},_setElementsVisible:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.options.hideElementsWithSelectors.forEach((function(n){var a=e._map._container.querySelectorAll(n),o=!0,i=!1,r=void 0;try{for(var s,l=a[Symbol.iterator]();!(o=(s=l.next()).done);o=!0)s.value.style.opacity=!1===t?0:1}catch(e){i=!0,r=e}finally{try{!o&&l.return&&l.return()}finally{if(i)throw r}}}))},_canvasToImage:function(e,t){var n=e.toDataURL(t.mimeType);return-1===n.indexOf("base64")?Promise.reject(new Error("Base64 image generation error")):Promise.resolve(n)},_canvasToBlob:function(e){return new Promise((function(t,n){e.toBlob((function(e){t(e)}),"image/png")}))},_toCanvas:function(e,t){var n=t.captionOffset,a=t.caption,o=t.captionFontSize,i=t.captionFont,r=t.captionColor,s=t.captionBgColor,l=this._node,c=l.screenHeight,d=l.screenWidth,p=document.createElement("canvas");p.width=d,p.height=c;for(var u=p.getContext("2d"),h=u.createImageData(d,c),m=0;m<e.length;++m)h.data[m]=e[m];u.putImageData(h,0,0),h=null;var f=document.createElement("canvas"),g=f.getContext("2d"),b=0,y=0,v=c,x=d;if(!0===this.options.cropImageByInnerWH){for(var w=c,C=d,L=[],M=0,S=0;S<c;++S){M=0;for(var D=0;D<d;++D)0===e[4*S*d+4*D+4]&&M++;M===d&&L.push(S)}var k=this._getMinAndMaxOnValuesBreak(L);b=k.min,w=k.max;for(var A=[],P=0,T=y;T<C;++T){P=0;for(var F=0;F<c;++F)0===e[4*F*d+4*T+4]&&P++;P===c&&A.push(T)}var _=this._getMinAndMaxOnValuesBreak(A);C=_.max,(0===(y=_.min)&&0===C||null===C)&&(C=d),(0===b&&0===w||null===w)&&(w=c),!0===this.options.debugMode&&(console.log("emptyYLine",L),console.log("minMaxY",k),console.log("emptyXLine",A),console.log("minMaxX",_),console.log("debugX",{}),console.log("debugY",{})),0===b&&w===c&&0===y&&C===d||(b+=this.options.onCropBorderSize,w-=this.options.onCropBorderSize,y+=this.options.onCropBorderSize,C-=this.options.onCropBorderSize),v=w-b,f.width=x=C-y,f.height=v}else f.width=x,f.height=v;var O=null;return a&&(O="function"==typeof a?a.call(this):a),null!==O&&(f.height=f.height+(n+o+n),g.beginPath(),g.rect(0,0,f.width,f.height),g.fillStyle=s,g.fill(),g.save()),g.drawImage(p,y,b,x,v,0,0,x,v),null!==O&&(g.font=o+"px "+i,g.fillStyle=r,g.fillText(O,n,v+n+o)),Promise.resolve(f)},_getMinAndMaxOnValuesBreak:function(e){for(var t=0,n=0,a=!1,o=1;o<e.length;o++){if(e[o]-1!==e[o-1]){n=e[o],a=!0;break}t=e[o]}return!1===a&&e[0]>1?(t=0,n=e[0]):!1===a&&(t=e[e.length-1]||0,n=null),{min:t,max:n}},_getPixelData:function(e){var t=this,n=e.domtoimageOptions,a=void 0===n?{}:n;return this._getPixelDataOfNormalMap(a).catch((function(e){return console.warn("May be map size very big on that zoom level, we have error:",e.toString()),console.warn("You can manually hide map elements with large distances between them for fix that error"),t._getPixelDataOfBigMap(a)}))},_getPixelDataOfNormalMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._map.getContainer();return this._node={node:n,screenHeight:n.scrollHeight,screenWidth:n.scrollWidth},t.toPixelData(n,e)},_getPixelDataOfBigMap:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._map.getContainer(),a=this._map.getPane("mapPane");a.style.width=2*n.clientWidth+"px",a.style.height=2*n.clientHeight+"px",a.style.overflow="hidden";var o=function(){a.style.width="initial",a.style.height="initial",a.style.overflow="initial"};return this._node={node:n,screenHeight:n.scrollHeight,screenWidth:n.scrollWidth},t.toPixelData(n,e).then((function(e){return o(),e})).catch((function(e){return o(),Promise.reject(e)}))},_addScreenBtn:function(){this._link=L.DomUtil.create("a","leaflet-control-simpleMapScreenshoter-btn",this._container),this._addCss(),L.DomEvent.addListener(this._link,"click",this._onScreenBtn,this),L.DomEvent.disableClickPropagation(this._link)},_addCss:function(){var e="\n    .leaflet-control-simpleMapScreenshoter{\n       border: 2px solid rgba(0,0,0,0.2);\n       background-clip: padding-box;\n    }\n    .leaflet-control-simpleMapScreenshoter a{\n       background-color: #fff;\n       border-bottom: 1px solid #ccc;\n       width: 30px;\n       height: 30px;\n       line-height: 30px;\n       display: block;\n       text-align: center;\n       text-decoration: none;\n       color: black;\n       overflow: hidden;\n       border-radius: 2px;\n       background-image: url('"+this.options.iconUrl+"');\n       background-position: 46% 41%;\n       background-repeat: no-repeat;\n       background-size: 63%;\n    }\n    .leaflet-control-simpleMapScreenshoter a:hover{\n       cursor: pointer;\n    }\n    ",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.appendChild(n)},_onScreenBtn:function(){var e=this;this._map.fire("simpleMapScreenshoter.click"),this.takeScreen().then((function(t){var n=document.createElement("a"),a=window.URL.createObjectURL(t);document.body.appendChild(n),n.href=a;var o="function"==typeof e.options.screenName?e.options.screenName.call(e):e.options.screenName;n.download=o+".png",n.click(),window.URL.revokeObjectURL(a)})).catch((function(t){e._map.fire("simpleMapScreenshoter.error",{e:t})}))}}),a=(L.Control.SimpleMapScreenshoter=n,void(L.simpleMapScreenshoter=function(e){return new L.Control.SimpleMapScreenshoter(e)}));e.default=a,e.SimpleMapScreenshoter=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)}}]);