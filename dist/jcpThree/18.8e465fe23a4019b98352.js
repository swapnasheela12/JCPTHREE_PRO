(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{OT7S:function(t,e,i){"use strict";i.d(e,"a",(function(){return s}));var o=i("4R65"),n=i.n(o),s=n.a.Layer.extend({options:{padding:0,tolerance:0,container:null,opacity:1,visible:!0,zIndex:void 0,minZoom:0,maxZoom:18},initialize:function(t){n.a.setOptions(this,t),n.a.stamp(this),this._map=void 0,this._container=void 0,this._bounds=void 0,this._center=void 0,this._zoom=void 0,this._padding=void 0},beforeAdd:function(){this._zoomVisible=!0},getEvents:function(){var t={viewreset:this._onLayerViewReset,zoom:this._onLayerZoom,moveend:this._onLayerMoveEnd,zoomend:this._onLayerZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onLayerAnimZoom),t},onAdd:function(){if(this.fire("layer-beforemount"),this._container||this._initContainer(),this.setOpacity(this.options.opacity),window.isNaN(this.options.zIndex))switch(this._container.tagName){case"CANVAS":this.setZIndex(100);break;case"svg":this.setZIndex(200);break;default:this.setZIndex(100)}else this.setZIndex(this.options.zIndex);this.getPane().appendChild(this._container),this._onZoomVisible(),this.fire("layer-mounted"),this._update()},onRemove:function(){this.fire("layer-beforedestroy"),this._destroyContainer(),this.fire("layer-destroyed")},_onLayerViewReset:function(){this._reset()},_onLayerAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onLayerZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_onLayerZoomEnd:function(){},_onLayerMoveEnd:function(){this._isZoomVisible()?this._update():this._zoomHide()},_onZoomVisible:function(){this._isZoomVisible()?this._zoomShow():this._zoomHide()},_initContainer:function(){var t=this._container=this.options.container;n.a.DomUtil.addClass(t,"leaflet-layer"),this._zoomAnimated&&n.a.DomUtil.addClass(this._container,"leaflet-zoom-animated")},_destroyContainer:function(){n.a.DomUtil.remove(this._container),delete this._container},_isZoomVisible:function(){var t=this.options.minZoom,e=this.options.maxZoom,i=this._map.getZoom();return i>=t&&i<=e},_zoomShow:function(){this._zoomVisible||(this._zoomVisible=!0,this._map.off({zoomend:this._onZoomVisible},this),this.options.visible&&(this._map.on(this.getEvents(),this),this.getContainer().style.display=""))},_zoomHide:function(){this._zoomVisible&&(this._zoomVisible=!1,this._map.off(this.getEvents(),this),this._map.on({zoomend:this._onZoomVisible},this),this.getContainer().style.display="none")},_updateTransform:function(t,e){var i=this._map.getZoomScale(e,this._zoom),o=n.a.DomUtil.getPosition(this._container),s=this._map.getSize().multiplyBy(.5+this.options.padding),a=this._map.project(this._center,e),r=this._map.project(t,e).subtract(a),h=s.multiplyBy(-i).add(o).add(s).subtract(r);n.a.Browser.any3d?n.a.DomUtil.setTransform(this._container,h,i):n.a.DomUtil.setPosition(this._container,h)},_update:function(){this._map._animatingZoom&&this._bounds||(this.__update(),n.a.DomUtil.setPosition(this._container,this._bounds.min),this.fire("layer-render"))},__update:function(){var t=this.options.padding,e=this._map.getSize(),i=this._map.containerPointToLayerPoint(e.multiplyBy(-t));this._padding=e.multiplyBy(t),this._bounds=new n.a.Bounds(i,i.add(e.multiplyBy(1+2*t))),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom)},getContainer:function(){return this._container},setContainer:function(t){var e=this.getContainer(),i=e.parentNode;if(delete this._container,this.options.container=t,this._container||this._initContainer(),this.setOpacity(this.options.opacity),window.isNaN(this.options.zIndex))switch(this._container.tagName){case"CANVAS":this.setZIndex(100);break;case"svg":this.setZIndex(200);break;default:this.setZIndex(100)}else this.setZIndex(this.options.zIndex);return i?i.replaceChild(t,e):this.getPane().appendChild(t),this._update(),this},getOpacity:function(){return this.options.opacity},setOpacity:function(t){return this.getContainer().style.opacity=this.options.opacity=1*t,this},getZIndex:function(){return this.options.zIndex},setZIndex:function(t){return this.getContainer().style.zIndex=this.options.zIndex=1*t,this},show:function(){if(!this.options.visible){if(this.options.visible=!0,this._isZoomVisible())return this._map.on(this.getEvents(),this),this.getContainer().style.display="",this._update(),this;this._zoomHide()}},hide:function(){if(this.options.visible)return this.options.visible=!1,this._zoomHide(),this._map.off(this.getEvents(),this),this.getContainer().style.display="none",this},setFullLayerBounds:function(){var t=this.getContainer(),e=this._bounds.getSize(),i=this._padding;switch(t.tagName){case"CANVAS":var o=n.a.Browser.retina?2:1;t.width=o*e.x,t.height=o*e.y,t.style.width=e.x+"px",t.style.height=e.y+"px";var s=t.getContext("2d");return n.a.Browser.retina&&s.scale(o,o),s.translate(i.x,i.y),{container:t,ctx:s,dpr:o};case"svg":return t.setAttribute("width",e.x),t.setAttribute("height",e.y),t.style.width=e.x+"px",t.style.height=e.y+"px",t.setAttribute("viewBox","".concat(-i.x," ").concat(-i.y," ").concat(e.x," ").concat(e.y)),{container:t};case"DIV":return t.style.boxSizing="content-box",t.style.width=e.x-i.x+"px",t.style.height=e.y-i.y+"px",t.style.padding="".concat(i.y,"px ").concat(i.x,"px"),{container:t};default:return t.setAttribute("width",e.x),t.setAttribute("height",e.y),t.style.width=e.x+"px",t.style.height=e.y+"px",{container:t}}}});n.a.CustomLayer=s,n.a.customLayer=function(t){return n.a.customLayer?new s(t):null}},Pftw:function(t,e,i){"use strict";i.r(e),i.d(e,"CoveredAreaLayerComponent",(function(){return c}));var o=i("4R65"),n=i("OT7S"),s=i("ZWlK"),a=i("TYT/"),r=i("i+93"),h=i("cUzu"),d=i("RaP5"),c=function(){function t(t,e,i){var o=this;this.shapeService=t,this.http=e,this.dataShare=i,this.createLayer=function(t,e,i,o){this.lineColors="red",this.zoomLevel=e,this.scaleMatrix=this.zoomLevel<=7?.4:this.zoomLevel<=10?.5:this.zoomLevel<=13?.75:this.zoomLevel<=15?.5:.75,this.scaleMatrix=this.scaleMatrix*this.pixelRatio,null!=this.coveredAreaContainer&&(this.coveredAreaContainer.removeAllChildren(),this.coveredAreaContainer.update()),this.coveredAreaContainer=new s.Stage(t),this.coveredAreaContainer.enableDOMEvents(!0),this.coveredAreaContainer.enableMouseOver(5e4),this.coveredAreaContainer.removeAllChildren(),this.drawBoundaries(i),this.coveredAreaContainer.update()},this.coveredAreaLayerSubscription=this.dataShare.removeLayerMessage.subscribe((function(t){"CoveredAreaLayerComponent"==t&&o.removeLayer()})),this.dataShare.mainLayerMessage.subscribe((function(t){o.mainLayerRef=t,console.log(o.mainLayerRef)}))}return t.prototype.ngAfterViewInit=function(){this.pixelRatio=window.devicePixelRatio||1,this.map=this.shapeService.mapServiceData,this.coveredAreaLayer=new n.a({container:document.createElement("canvas")}),this.map.setView(new o.LatLng(19.9975,73.7898),10);var t=this;this.coveredAreaLayer.on("layer-render",(function(){var e=this,i=this,o=this.componentRef=this;t.getCoveredAreaData().subscribe((function(n){e.coveredAreaData=n,i.routeFibreCoreLayerContainer=t.resizeContainer(),t.createLayer(i.routeFibreCoreLayerContainer,i._zoom,e.coveredAreaData,o)}))})),this.coveredAreaLayer.addTo(this.map)},t.prototype.getCoveredAreaData=function(){return this.http.get("assets/data/layers/boundaries/jiocenters.json")},t.prototype.drawBoundaries=function(t){this.boundariesContainer=new s.Container;for(var e=0;e<t.length;e++){for(var i=t[e],o=i.coordinates,n=o.length,a=[],r=0;r<n;r++){var h=o[r],d=this.map.latLngToContainerPoint([h[0],h[1]]);a.push({x:d.x*this.pixelRatio,y:d.y*this.pixelRatio})}if(a.length){var c=this.getPolyGraphics(s.Graphics.getRGB(248,152,29,.8),"#E35425",a),p=new s.Shape(c);p.name=i.CIRCLENAME,p.cursor="pointer",p.points=a,new s.Shadow("rgba(0,0,0,0.5)",1,2,5),this.boundariesContainer.addChild(p)}}this.coveredAreaContainer.addChild(this.boundariesContainer),this.coveredAreaContainer.update()},t.prototype.getPolyGraphics=function(t,e,i){var o=new s.Graphics;return o.setStrokeStyle(2),o.beginStroke(e),o},t.prototype.resizeContainer=function(){this.canvasCore=this.coveredAreaLayer.getContainer();var t=o.Browser.retina?2:1,e=this.coveredAreaLayer._bounds.getSize();return this.canvasCore.width=t*e.x,this.canvasCore.height=t*e.y,this.canvasCore.style.width=e.x+"px",this.canvasCore.style.height=e.y+"px",this.canvasCore},t.prototype.removeLayer=function(){null!=this.coveredAreaLayer&&this.map.removeLayer(this.coveredAreaLayer)},t.prototype.ngOnDestroy=function(){this.coveredAreaLayerSubscription&&this.coveredAreaLayerSubscription.unsubscribe()},t.\u0275fac=function(e){return new(e||t)(a.Ub(r.a),a.Ub(h.b),a.Ub(d.a))},t.\u0275cmp=a.Ob({type:t,selectors:[["app-covered-area-layer"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t}()}}]);